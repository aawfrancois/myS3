{
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ObjectMethod\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"ClassMethod\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectMethod": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/server.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _utils = require(\"./lib/utils\");\n\nvar _models = require(\"./models\");\n\nvar _routes = _interopRequireDefault(require(\"./routes\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n_dotenv.default.config();\n\nvar port = parseInt(process.argv[2], 10) || process.env.PORT;\nvar app = (0, _express.default)();\napp.use(_passport.default.initialize());\napp.use(_bodyParser.default.json());\napp.use(_bodyParser.default.urlencoded({\n  extend: false\n}));\n\nvar start =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _models.db.authenticate();\n\n          case 3:\n            if (process.env.APP === 'development') {\n              _models.db.sync({\n                force: process.env.DATABASE_SYNC_FORCE\n              });\n            }\n\n            app.use('/api', _routes.default);\n            app.listen(port, function (err) {\n              if (err) {\n                throw err;\n              } else {\n                (0, _utils.mLog)(\"Server is running on port \".concat(port), 'cyan');\n              }\n            });\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            throw _context.t0;\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 8]]);\n  }));\n\n  return function start() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nstart();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJwb3J0IiwicGFyc2VJbnQiLCJwcm9jZXNzIiwiYXJndiIsImVudiIsIlBPUlQiLCJhcHAiLCJ1c2UiLCJwYXNzcG9ydCIsImluaXRpYWxpemUiLCJib2R5UGFyc2VyIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmQiLCJzdGFydCIsImRhdGFiYXNlIiwiYXV0aGVudGljYXRlIiwiQVBQIiwic3luYyIsImZvcmNlIiwiREFUQUJBU0VfU1lOQ19GT1JDRSIsInJvdXRlcyIsImxpc3RlbiIsImVyciJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFFQUEsZ0JBQU9DLE1BQVA7O0FBRUEsSUFBTUMsSUFBSSxHQUFHQyxRQUFRLENBQUNDLE9BQU8sQ0FBQ0MsSUFBUixDQUFhLENBQWIsQ0FBRCxFQUFrQixFQUFsQixDQUFSLElBQWlDRCxPQUFPLENBQUNFLEdBQVIsQ0FBWUMsSUFBMUQ7QUFDQSxJQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVFDLGtCQUFTQyxVQUFULEVBQVI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVFHLG9CQUFXQyxJQUFYLEVBQVI7QUFDQUwsR0FBRyxDQUFDQyxHQUFKLENBQVFHLG9CQUFXRSxVQUFYLENBQXNCO0FBQUVDLEVBQUFBLE1BQU0sRUFBRztBQUFYLENBQXRCLENBQVI7O0FBRUEsSUFBTUMsS0FBSztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsMEJBQUc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxtQkFFQUMsV0FBU0MsWUFBVCxFQUZBOztBQUFBO0FBR04sZ0JBQUlkLE9BQU8sQ0FBQ0UsR0FBUixDQUFZYSxHQUFaLEtBQW9CLGFBQXhCLEVBQXVDO0FBQ25DRix5QkFBU0csSUFBVCxDQUFjO0FBQUNDLGdCQUFBQSxLQUFLLEVBQUVqQixPQUFPLENBQUNFLEdBQVIsQ0FBWWdCO0FBQXBCLGVBQWQ7QUFDSDs7QUFFRGQsWUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsTUFBUixFQUFnQmMsZUFBaEI7QUFDQWYsWUFBQUEsR0FBRyxDQUFDZ0IsTUFBSixDQUFXdEIsSUFBWCxFQUFpQixVQUFDdUIsR0FBRCxFQUFTO0FBQ3RCLGtCQUFJQSxHQUFKLEVBQVM7QUFDTCxzQkFBTUEsR0FBTjtBQUNILGVBRkQsTUFFTztBQUNILHFFQUFrQ3ZCLElBQWxDLEdBQTBDLE1BQTFDO0FBQ0g7QUFDSixhQU5EO0FBUk07QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQUFIOztBQUFBLGtCQUFMYyxLQUFLO0FBQUE7QUFBQTtBQUFBLEdBQVg7O0FBbUJBQSxLQUFLIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbnRvaW5lZnJhbmNvaXMvRGVza3RvcC9hbnRvaW5lL3Ryb2lzaWXMgG1lX2FubmVlL0V4cHJlc3MgSXNsYW5kIHwgbm9kZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJ1xuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IHttTG9nfSBmcm9tICcuL2xpYi91dGlscyc7XG5pbXBvcnQge2RiIGFzIGRhdGFiYXNlfSBmcm9tICcuL21vZGVscyc7XG5pbXBvcnQgcm91dGVzIGZyb20gJy4vcm91dGVzJztcblxuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBwb3J0ID0gcGFyc2VJbnQocHJvY2Vzcy5hcmd2WzJdLCAxMCkgfHwgcHJvY2Vzcy5lbnYuUE9SVDtcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UocGFzc3BvcnQuaW5pdGlhbGl6ZSgpKTtcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmQgOiBmYWxzZSB9KSlcblxuY29uc3Qgc3RhcnQgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGF0YWJhc2UuYXV0aGVudGljYXRlKCk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5BUFAgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICAgIGRhdGFiYXNlLnN5bmMoe2ZvcmNlOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9TWU5DX0ZPUkNFfSk7XG4gICAgICAgIH1cblxuICAgICAgICBhcHAudXNlKCcvYXBpJywgcm91dGVzKTtcbiAgICAgICAgYXBwLmxpc3Rlbihwb3J0LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtTG9nKGBTZXJ2ZXIgaXMgcnVubmluZyBvbiBwb3J0ICR7cG9ydH1gLCAnY3lhbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxufVxuc3RhcnQoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "dotenv",
        "config",
        "port",
        "parseInt",
        "process",
        "argv",
        "env",
        "PORT",
        "app",
        "use",
        "passport",
        "initialize",
        "bodyParser",
        "json",
        "urlencoded",
        "extend",
        "start",
        "database",
        "authenticate",
        "APP",
        "sync",
        "force",
        "DATABASE_SYNC_FORCE",
        "routes",
        "listen",
        "err"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEAA,gBAAOC,MAAP;;AAEA,IAAMC,IAAI,GAAGC,QAAQ,CAACC,OAAO,CAACC,IAAR,CAAa,CAAb,CAAD,EAAkB,EAAlB,CAAR,IAAiCD,OAAO,CAACE,GAAR,CAAYC,IAA1D;AACA,IAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,kBAASC,UAAT,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQG,oBAAWC,IAAX,EAAR;AACAL,GAAG,CAACC,GAAJ,CAAQG,oBAAWE,UAAX,CAAsB;AAAEC,EAAAA,MAAM,EAAG;AAAX,CAAtB,CAAR;;AAEA,IAAMC,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEAC,WAASC,YAAT,EAFA;;AAAA;AAGN,gBAAId,OAAO,CAACE,GAAR,CAAYa,GAAZ,KAAoB,aAAxB,EAAuC;AACnCF,yBAASG,IAAT,CAAc;AAACC,gBAAAA,KAAK,EAAEjB,OAAO,CAACE,GAAR,CAAYgB;AAApB,eAAd;AACH;;AAEDd,YAAAA,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBc,eAAhB;AACAf,YAAAA,GAAG,CAACgB,MAAJ,CAAWtB,IAAX,EAAiB,UAACuB,GAAD,EAAS;AACtB,kBAAIA,GAAJ,EAAS;AACL,sBAAMA,GAAN;AACH,eAFD,MAEO;AACH,qEAAkCvB,IAAlC,GAA0C,MAA1C;AACH;AACJ,aAND;AARM;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAALc,KAAK;AAAA;AAAA;AAAA,GAAX;;AAmBAA,KAAK",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourcesContent": [
        "import express from 'express';\nimport passport from 'passport';\nimport bodyParser from 'body-parser'\nimport dotenv from 'dotenv';\nimport {mLog} from './lib/utils';\nimport {db as database} from './models';\nimport routes from './routes';\n\ndotenv.config();\n\nconst port = parseInt(process.argv[2], 10) || process.env.PORT;\nconst app = express();\napp.use(passport.initialize());\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extend : false }))\n\nconst start = async () => {\n    try {\n        await database.authenticate();\n        if (process.env.APP === 'development') {\n            database.sync({force: process.env.DATABASE_SYNC_FORCE});\n        }\n\n        app.use('/api', routes);\n        app.listen(port, (err) => {\n            if (err) {\n                throw err;\n            } else {\n                mLog(`Server is running on port ${port}`, 'cyan');\n            }\n        });\n    } catch (e) {\n        throw e;\n    }\n}\nstart();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1541675095371
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ObjectMethod\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"ClassMethod\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/utils.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/utils.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectMethod": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/utils.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mLog = mLog;\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _kleur = _interopRequireDefault(require(\"kleur\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mLog(str) {\n  var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'magenta';\n  var withNewLine = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  var display = _kleur.default[c](\"\".concat((0, _moment.default)().format(), \" - \").concat(str));\n\n  if (withNewLine) {\n    console.log(display);\n  } else {\n    process.stdout.write(display);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbIm1Mb2ciLCJzdHIiLCJjIiwid2l0aE5ld0xpbmUiLCJkaXNwbGF5Iiwia2xldXIiLCJmb3JtYXQiLCJjb25zb2xlIiwibG9nIiwicHJvY2VzcyIsInN0ZG91dCIsIndyaXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFTyxTQUFTQSxJQUFULENBQWNDLEdBQWQsRUFBc0Q7QUFBQSxNQUFuQ0MsQ0FBbUMsdUVBQS9CLFNBQStCO0FBQUEsTUFBcEJDLFdBQW9CLHVFQUFOLElBQU07O0FBQzNELE1BQU1DLE9BQU8sR0FBR0MsZUFBTUgsQ0FBTixZQUFZLHVCQUFTSSxNQUFULEVBQVosZ0JBQW1DTCxHQUFuQyxFQUFoQjs7QUFDQSxNQUFJRSxXQUFKLEVBQWlCO0FBQ2ZJLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSixPQUFaO0FBQ0QsR0FGRCxNQUVPO0FBQ0xLLElBQUFBLE9BQU8sQ0FBQ0MsTUFBUixDQUFlQyxLQUFmLENBQXFCUCxPQUFyQjtBQUNEO0FBQ0YiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvRXhwcmVzcyBJc2xhbmQgfCBub2RlL2xpYiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBrbGV1ciBmcm9tICdrbGV1cic7XG5cbmV4cG9ydCBmdW5jdGlvbiBtTG9nKHN0ciwgYyA9ICdtYWdlbnRhJywgd2l0aE5ld0xpbmUgPSB0cnVlKSB7XG4gIGNvbnN0IGRpc3BsYXkgPSBrbGV1cltjXShgJHttb21lbnQoKS5mb3JtYXQoKX0gLSAke3N0cn1gKTtcbiAgaWYgKHdpdGhOZXdMaW5lKSB7XG4gICAgY29uc29sZS5sb2coZGlzcGxheSk7XG4gIH0gZWxzZSB7XG4gICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoZGlzcGxheSk7XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "mLog",
        "str",
        "c",
        "withNewLine",
        "display",
        "kleur",
        "format",
        "console",
        "log",
        "process",
        "stdout",
        "write"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEO,SAASA,IAAT,CAAcC,GAAd,EAAsD;AAAA,MAAnCC,CAAmC,uEAA/B,SAA+B;AAAA,MAApBC,WAAoB,uEAAN,IAAM;;AAC3D,MAAMC,OAAO,GAAGC,eAAMH,CAAN,YAAY,uBAASI,MAAT,EAAZ,gBAAmCL,GAAnC,EAAhB;;AACA,MAAIE,WAAJ,EAAiB;AACfI,IAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AACD,GAFD,MAEO;AACLK,IAAAA,OAAO,CAACC,MAAR,CAAeC,KAAf,CAAqBP,OAArB;AACD;AACF",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
      "sourcesContent": [
        "import moment from 'moment';\nimport kleur from 'kleur';\n\nexport function mLog(str, c = 'magenta', withNewLine = true) {\n  const display = kleur[c](`${moment().format()} - ${str}`);\n  if (withNewLine) {\n    console.log(display);\n  } else {\n    process.stdout.write(display);\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1539348243460
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ObjectMethod\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"ClassMethod\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectMethod": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.db = void 0;\n\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar db = new _sequelize.default(process.env.DATABASE_URL);\nexports.db = db;\n\n_user.default.init(db, _sequelize.default);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImRiIiwiU2VxdWVsaXplIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsIlVzZXIiLCJpbml0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQUEsZ0JBQU9DLE1BQVA7O0FBQ08sSUFBTUMsRUFBRSxHQUFHLElBQUlDLGtCQUFKLENBQWNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxZQUExQixDQUFYOzs7QUFDUEMsY0FBS0MsSUFBTCxDQUFVTixFQUFWLEVBQWNDLGtCQUFkIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbnRvaW5lZnJhbmNvaXMvRGVza3RvcC9hbnRvaW5lL3Ryb2lzaWXMgG1lX2FubmVlL0V4cHJlc3MgSXNsYW5kIHwgbm9kZS9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2VxdWVsaXplIGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgVXNlciBmcm9tICcuL3VzZXInO1xuXG5kb3RlbnYuY29uZmlnKClcbmV4cG9ydCBjb25zdCBkYiA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMKTtcblVzZXIuaW5pdChkYiwgU2VxdWVsaXplKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "dotenv",
        "config",
        "db",
        "Sequelize",
        "process",
        "env",
        "DATABASE_URL",
        "User",
        "init"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AACO,IAAMC,EAAE,GAAG,IAAIC,kBAAJ,CAAcC,OAAO,CAACC,GAAR,CAAYC,YAA1B,CAAX;;;AACPC,cAAKC,IAAL,CAAUN,EAAV,EAAcC,kBAAd",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
      "sourcesContent": [
        "import Sequelize from 'sequelize';\nimport dotenv from 'dotenv';\nimport User from './user';\n\ndotenv.config()\nexport const db = new Sequelize(process.env.DATABASE_URL);\nUser.init(db, Sequelize);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1541664148110
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ObjectMethod\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"ClassMethod\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectMethod": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/user.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar MIN_PASSWORD_LENGTH = 7;\n\nvar User =\n/*#__PURE__*/\nfunction (_Model) {\n  _inherits(User, _Model);\n\n  function User() {\n    _classCallCheck(this, User);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(User).apply(this, arguments));\n  }\n\n  _createClass(User, [{\n    key: \"checkPassword\",\n    value: function () {\n      var _checkPassword = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(password) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _bcrypt.default.compare(password, this.password_digest);\n\n              case 2:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function checkPassword(_x) {\n        return _checkPassword.apply(this, arguments);\n      };\n    }()\n  }], [{\n    key: \"init\",\n    value: function init(sequelize, DataTypes) {\n      return _get(_getPrototypeOf(User), \"init\", this).call(this, {\n        id: {\n          type: DataTypes.UUID,\n          defaultValue: DataTypes.UUIDV4,\n          primaryKey: true\n        },\n        email: {\n          type: DataTypes.STRING,\n          allowNull: false,\n          validate: {\n            isEmail: true\n          },\n          unique: {\n            args: true,\n            msg: 'email address already in use'\n          }\n        },\n        nickname: {\n          type: DataTypes.STRING,\n          allowNull: false,\n          unique: {\n            args: true,\n            msg: 'nickname already in use'\n          }\n        },\n        password: {\n          type: DataTypes.VIRTUAL,\n          validate: {\n            isLongEnough: function isLongEnough(value) {\n              if (value.length < MIN_PASSWORD_LENGTH) {\n                throw new Error(\"Password too short\");\n              }\n            }\n          }\n        },\n        password_confirmation: {\n          type: DataTypes.VIRTUAL,\n          validate: {\n            isEqual: function isEqual(value) {\n              if (this.passport !== value) {\n                throw new Error(\"Password don't match\");\n              }\n            }\n          }\n        },\n        password_digest: {\n          type: DataTypes.STRING,\n          allowNull: false,\n          validate: {\n            notEmpty: true\n          }\n        }\n      }, {\n        sequelize: sequelize,\n        hooks: {\n          beforeValidate: function () {\n            var _beforeValidate = _asyncToGenerator(\n            /*#__PURE__*/\n            regeneratorRuntime.mark(function _callee2(user, options) {\n              var SALT_ROUND, hash;\n              return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                while (1) {\n                  switch (_context2.prev = _context2.next) {\n                    case 0:\n                      if (!user.isNewRecord) {\n                        _context2.next = 8;\n                        break;\n                      }\n\n                      SALT_ROUND = 10;\n                      _context2.next = 4;\n                      return _bcrypt.default.hash(user.password, SALT_ROUND);\n\n                    case 4:\n                      hash = _context2.sent;\n\n                      if (!(hash === null)) {\n                        _context2.next = 7;\n                        break;\n                      }\n\n                      throw new Error(\"Can't hash password.\");\n\n                    case 7:\n                      user.password_digest = hash;\n\n                    case 8:\n                    case \"end\":\n                      return _context2.stop();\n                  }\n                }\n              }, _callee2, this);\n            }));\n\n            return function beforeValidate(_x2, _x3) {\n              return _beforeValidate.apply(this, arguments);\n            };\n          }()\n        }\n      });\n    }\n  }]);\n\n  return User;\n}(_sequelize.Model);\n\nexports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiTUlOX1BBU1NXT1JEX0xFTkdUSCIsIlVzZXIiLCJwYXNzd29yZCIsImJjcnlwdCIsImNvbXBhcmUiLCJwYXNzd29yZF9kaWdlc3QiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJpZCIsInR5cGUiLCJVVUlEIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwicHJpbWFyeUtleSIsImVtYWlsIiwiU1RSSU5HIiwiYWxsb3dOdWxsIiwidmFsaWRhdGUiLCJpc0VtYWlsIiwidW5pcXVlIiwiYXJncyIsIm1zZyIsIm5pY2tuYW1lIiwiVklSVFVBTCIsImlzTG9uZ0Vub3VnaCIsInZhbHVlIiwibGVuZ3RoIiwiRXJyb3IiLCJwYXNzd29yZF9jb25maXJtYXRpb24iLCJpc0VxdWFsIiwicGFzc3BvcnQiLCJub3RFbXB0eSIsImhvb2tzIiwiYmVmb3JlVmFsaWRhdGUiLCJ1c2VyIiwib3B0aW9ucyIsImlzTmV3UmVjb3JkIiwiU0FMVF9ST1VORCIsImhhc2giLCJNb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxtQkFBbUIsR0FBRyxDQUE1Qjs7SUFFcUJDLEk7Ozs7Ozs7Ozs7Ozs7Ozs7K0NBeUVHQyxROzs7Ozs7dUJBQ0hDLGdCQUFPQyxPQUFQLENBQWVGLFFBQWYsRUFBeUIsS0FBS0csZUFBOUIsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt5QkF6RUxDLFMsRUFBV0MsUyxFQUFXO0FBQzlCLGtFQUFrQjtBQUNWQyxRQUFBQSxFQUFFLEVBQUU7QUFDQUMsVUFBQUEsSUFBSSxFQUFFRixTQUFTLENBQUNHLElBRGhCO0FBRUFDLFVBQUFBLFlBQVksRUFBRUosU0FBUyxDQUFDSyxNQUZ4QjtBQUdBQyxVQUFBQSxVQUFVLEVBQUU7QUFIWixTQURNO0FBTVZDLFFBQUFBLEtBQUssRUFBRTtBQUNITCxVQUFBQSxJQUFJLEVBQUVGLFNBQVMsQ0FBQ1EsTUFEYjtBQUVIQyxVQUFBQSxTQUFTLEVBQUUsS0FGUjtBQUdIQyxVQUFBQSxRQUFRLEVBQUU7QUFDTkMsWUFBQUEsT0FBTyxFQUFFO0FBREgsV0FIUDtBQU1IQyxVQUFBQSxNQUFNLEVBQUU7QUFDSkMsWUFBQUEsSUFBSSxFQUFFLElBREY7QUFFSkMsWUFBQUEsR0FBRyxFQUFFO0FBRkQ7QUFOTCxTQU5HO0FBaUJWQyxRQUFBQSxRQUFRLEVBQUU7QUFDTmIsVUFBQUEsSUFBSSxFQUFFRixTQUFTLENBQUNRLE1BRFY7QUFFTkMsVUFBQUEsU0FBUyxFQUFFLEtBRkw7QUFHTkcsVUFBQUEsTUFBTSxFQUFFO0FBQ0pDLFlBQUFBLElBQUksRUFBRSxJQURGO0FBRUpDLFlBQUFBLEdBQUcsRUFBRTtBQUZEO0FBSEYsU0FqQkE7QUF5QlZuQixRQUFBQSxRQUFRLEVBQUU7QUFDTk8sVUFBQUEsSUFBSSxFQUFFRixTQUFTLENBQUNnQixPQURWO0FBRU5OLFVBQUFBLFFBQVEsRUFBRTtBQUNOTyxZQUFBQSxZQURNLHdCQUNPQyxLQURQLEVBQ2M7QUFDaEIsa0JBQUlBLEtBQUssQ0FBQ0MsTUFBTixHQUFlMUIsbUJBQW5CLEVBQXdDO0FBQ3BDLHNCQUFNLElBQUkyQixLQUFKLENBQVUsb0JBQVYsQ0FBTjtBQUNIO0FBQ0o7QUFMSztBQUZKLFNBekJBO0FBbUNWQyxRQUFBQSxxQkFBcUIsRUFBRTtBQUNuQm5CLFVBQUFBLElBQUksRUFBRUYsU0FBUyxDQUFDZ0IsT0FERztBQUVuQk4sVUFBQUEsUUFBUSxFQUFFO0FBQ05ZLFlBQUFBLE9BRE0sbUJBQ0VKLEtBREYsRUFDUztBQUNYLGtCQUFJLEtBQUtLLFFBQUwsS0FBa0JMLEtBQXRCLEVBQTZCO0FBQ3pCLHNCQUFNLElBQUlFLEtBQUosQ0FBVSxzQkFBVixDQUFOO0FBQ0g7QUFDSjtBQUxLO0FBRlMsU0FuQ2I7QUE2Q1Z0QixRQUFBQSxlQUFlLEVBQUU7QUFDYkksVUFBQUEsSUFBSSxFQUFFRixTQUFTLENBQUNRLE1BREg7QUFFYkMsVUFBQUEsU0FBUyxFQUFFLEtBRkU7QUFHYkMsVUFBQUEsUUFBUSxFQUFFO0FBQ05jLFlBQUFBLFFBQVEsRUFBRTtBQURKO0FBSEc7QUE3Q1AsT0FBbEIsRUFzREk7QUFDSXpCLFFBQUFBLFNBQVMsRUFBVEEsU0FESjtBQUVJMEIsUUFBQUEsS0FBSyxFQUFFO0FBQ0dDLFVBQUFBLGNBREg7QUFBQTtBQUFBO0FBQUEsc0RBQ2tCQyxJQURsQixFQUN3QkMsT0FEeEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsMkJBRUtELElBQUksQ0FBQ0UsV0FGVjtBQUFBO0FBQUE7QUFBQTs7QUFHV0Msc0JBQUFBLFVBSFgsR0FHd0IsRUFIeEI7QUFBQTtBQUFBLDZCQUl3QmxDLGdCQUFPbUMsSUFBUCxDQUFZSixJQUFJLENBQUNoQyxRQUFqQixFQUEyQm1DLFVBQTNCLENBSnhCOztBQUFBO0FBSVdDLHNCQUFBQSxJQUpYOztBQUFBLDRCQUtTQSxJQUFJLEtBQUssSUFMbEI7QUFBQTtBQUFBO0FBQUE7O0FBQUEsNEJBTWUsSUFBSVgsS0FBSixDQUFVLHNCQUFWLENBTmY7O0FBQUE7QUFRS08sc0JBQUFBLElBQUksQ0FBQzdCLGVBQUwsR0FBdUJpQyxJQUF2Qjs7QUFSTDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRlgsT0F0REo7QUFxRUg7Ozs7RUF2RTZCQyxnQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9FeHByZXNzIElzbGFuZCB8IG5vZGUvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtNb2RlbH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0JztcblxuY29uc3QgTUlOX1BBU1NXT1JEX0xFTkdUSCA9IDc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGluaXQoc2VxdWVsaXplLCBEYXRhVHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmluaXQoe1xuICAgICAgICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFUeXBlcy5VVUlELFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbWFpbDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICAgICAgICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNFbWFpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiAnZW1haWwgYWRkcmVzcyBhbHJlYWR5IGluIHVzZScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBuaWNrbmFtZToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICAgICAgICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB1bmlxdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2c6ICduaWNrbmFtZSBhbHJlYWR5IGluIHVzZScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVklSVFVBTCxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTG9uZ0Vub3VnaCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCBNSU5fUEFTU1dPUkRfTEVOR1RIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhc3N3b3JkIHRvbyBzaG9ydFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkX2NvbmZpcm1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVklSVFVBTCxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRXF1YWwodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXNzcG9ydCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFzc3dvcmQgZG9uJ3QgbWF0Y2hcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkX2RpZ2VzdDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICAgICAgICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90RW1wdHk6IHRydWUsXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VxdWVsaXplLFxuICAgICAgICAgICAgICAgIGhvb2tzOiB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jIGJlZm9yZVZhbGlkYXRlKHVzZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyLmlzTmV3UmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgU0FMVF9ST1VORCA9IDEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaCh1c2VyLnBhc3N3b3JkLCBTQUxUX1JPVU5EKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGhhc2ggcGFzc3dvcmQuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIucGFzc3dvcmRfZGlnZXN0ID0gaGFzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIGNoZWNrUGFzc3dvcmQocGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB0aGlzLnBhc3N3b3JkX2RpZ2VzdCk7XG4gICAgfVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "MIN_PASSWORD_LENGTH",
        "User",
        "password",
        "bcrypt",
        "compare",
        "password_digest",
        "sequelize",
        "DataTypes",
        "id",
        "type",
        "UUID",
        "defaultValue",
        "UUIDV4",
        "primaryKey",
        "email",
        "STRING",
        "allowNull",
        "validate",
        "isEmail",
        "unique",
        "args",
        "msg",
        "nickname",
        "VIRTUAL",
        "isLongEnough",
        "value",
        "length",
        "Error",
        "password_confirmation",
        "isEqual",
        "passport",
        "notEmpty",
        "hooks",
        "beforeValidate",
        "user",
        "options",
        "isNewRecord",
        "SALT_ROUND",
        "hash",
        "Model"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,mBAAmB,GAAG,CAA5B;;IAEqBC,I;;;;;;;;;;;;;;;;+CAyEGC,Q;;;;;;uBACHC,gBAAOC,OAAP,CAAeF,QAAf,EAAyB,KAAKG,eAA9B,C;;;;;;;;;;;;;;;;;;;yBAzELC,S,EAAWC,S,EAAW;AAC9B,kEAAkB;AACVC,QAAAA,EAAE,EAAE;AACAC,UAAAA,IAAI,EAAEF,SAAS,CAACG,IADhB;AAEAC,UAAAA,YAAY,EAAEJ,SAAS,CAACK,MAFxB;AAGAC,UAAAA,UAAU,EAAE;AAHZ,SADM;AAMVC,QAAAA,KAAK,EAAE;AACHL,UAAAA,IAAI,EAAEF,SAAS,CAACQ,MADb;AAEHC,UAAAA,SAAS,EAAE,KAFR;AAGHC,UAAAA,QAAQ,EAAE;AACNC,YAAAA,OAAO,EAAE;AADH,WAHP;AAMHC,UAAAA,MAAM,EAAE;AACJC,YAAAA,IAAI,EAAE,IADF;AAEJC,YAAAA,GAAG,EAAE;AAFD;AANL,SANG;AAiBVC,QAAAA,QAAQ,EAAE;AACNb,UAAAA,IAAI,EAAEF,SAAS,CAACQ,MADV;AAENC,UAAAA,SAAS,EAAE,KAFL;AAGNG,UAAAA,MAAM,EAAE;AACJC,YAAAA,IAAI,EAAE,IADF;AAEJC,YAAAA,GAAG,EAAE;AAFD;AAHF,SAjBA;AAyBVnB,QAAAA,QAAQ,EAAE;AACNO,UAAAA,IAAI,EAAEF,SAAS,CAACgB,OADV;AAENN,UAAAA,QAAQ,EAAE;AACNO,YAAAA,YADM,wBACOC,KADP,EACc;AAChB,kBAAIA,KAAK,CAACC,MAAN,GAAe1B,mBAAnB,EAAwC;AACpC,sBAAM,IAAI2B,KAAJ,CAAU,oBAAV,CAAN;AACH;AACJ;AALK;AAFJ,SAzBA;AAmCVC,QAAAA,qBAAqB,EAAE;AACnBnB,UAAAA,IAAI,EAAEF,SAAS,CAACgB,OADG;AAEnBN,UAAAA,QAAQ,EAAE;AACNY,YAAAA,OADM,mBACEJ,KADF,EACS;AACX,kBAAI,KAAKK,QAAL,KAAkBL,KAAtB,EAA6B;AACzB,sBAAM,IAAIE,KAAJ,CAAU,sBAAV,CAAN;AACH;AACJ;AALK;AAFS,SAnCb;AA6CVtB,QAAAA,eAAe,EAAE;AACbI,UAAAA,IAAI,EAAEF,SAAS,CAACQ,MADH;AAEbC,UAAAA,SAAS,EAAE,KAFE;AAGbC,UAAAA,QAAQ,EAAE;AACNc,YAAAA,QAAQ,EAAE;AADJ;AAHG;AA7CP,OAAlB,EAsDI;AACIzB,QAAAA,SAAS,EAATA,SADJ;AAEI0B,QAAAA,KAAK,EAAE;AACGC,UAAAA,cADH;AAAA;AAAA;AAAA,sDACkBC,IADlB,EACwBC,OADxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAEKD,IAAI,CAACE,WAFV;AAAA;AAAA;AAAA;;AAGWC,sBAAAA,UAHX,GAGwB,EAHxB;AAAA;AAAA,6BAIwBlC,gBAAOmC,IAAP,CAAYJ,IAAI,CAAChC,QAAjB,EAA2BmC,UAA3B,CAJxB;;AAAA;AAIWC,sBAAAA,IAJX;;AAAA,4BAKSA,IAAI,KAAK,IALlB;AAAA;AAAA;AAAA;;AAAA,4BAMe,IAAIX,KAAJ,CAAU,sBAAV,CANf;;AAAA;AAQKO,sBAAAA,IAAI,CAAC7B,eAAL,GAAuBiC,IAAvB;;AARL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAFX,OAtDJ;AAqEH;;;;EAvE6BC,gB",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
      "sourcesContent": [
        "import {Model} from 'sequelize';\nimport bcrypt from 'bcrypt';\n\nconst MIN_PASSWORD_LENGTH = 7;\n\nexport default class User extends Model {\n    static init(sequelize, DataTypes) {\n        return super.init({\n                id: {\n                    type: DataTypes.UUID,\n                    defaultValue: DataTypes.UUIDV4,\n                    primaryKey: true,\n                },\n                email: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    validate: {\n                        isEmail: true,\n                    },\n                    unique: {\n                        args: true,\n                        msg: 'email address already in use',\n                    },\n                },\n                nickname: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    unique: {\n                        args: true,\n                        msg: 'nickname already in use',\n                    },\n                },\n                password: {\n                    type: DataTypes.VIRTUAL,\n                    validate: {\n                        isLongEnough(value) {\n                            if (value.length < MIN_PASSWORD_LENGTH) {\n                                throw new Error(\"Password too short\");\n                            }\n                        }\n                    }\n                },\n                password_confirmation: {\n                    type: DataTypes.VIRTUAL,\n                    validate: {\n                        isEqual(value) {\n                            if (this.passport !== value) {\n                                throw new Error(\"Password don't match\")\n                            }\n                        }\n                    }\n                },\n                password_digest: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    validate: {\n                        notEmpty: true,\n\n                    }\n                }\n            },\n            {\n                sequelize,\n                hooks: {\n                    async beforeValidate(user, options) {\n                        if (user.isNewRecord) {\n                            const SALT_ROUND = 10;\n                            const hash = await bcrypt.hash(user.password, SALT_ROUND)\n                            if (hash === null) {\n                                throw new Error(\"Can't hash password.\")\n                            }\n                            user.password_digest = hash;\n                        }\n                    }\n                }\n            });\n    }\n\n    async checkPassword(password) {\n        return await bcrypt.compare(password, this.password_digest);\n    }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1541673283092
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ObjectMethod\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"ClassMethod\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectMethod": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _auth = _interopRequireDefault(require(\"./auth\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar app = (0, _express.Router)();\napp.get('/', function (req, res) {\n  res.json({\n    hello: 'from express island'\n  });\n});\napp.use('/users', _user.default);\napp.use(\"/auth\", _auth.default);\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsImdldCIsInJlcSIsInJlcyIsImpzb24iLCJoZWxsbyIsInVzZSIsInVzZXJzIiwiYXV0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsSUFBTUEsR0FBRyxHQUFHLHNCQUFaO0FBRUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEdBQVIsRUFBYSxVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUN2QkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVM7QUFBQ0MsSUFBQUEsS0FBSyxFQUFFO0FBQVIsR0FBVDtBQUNILENBRkQ7QUFJQUwsR0FBRyxDQUFDTSxHQUFKLENBQVEsUUFBUixFQUFrQkMsYUFBbEI7QUFDQVAsR0FBRyxDQUFDTSxHQUFKLENBQVEsT0FBUixFQUFpQkUsYUFBakI7ZUFFZVIsRyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9FeHByZXNzIElzbGFuZCB8IG5vZGUvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHVzZXJzIGZyb20gJy4vdXNlcic7XG5pbXBvcnQgYXV0aCBmcm9tICcuL2F1dGgnO1xuXG5jb25zdCBhcHAgPSBSb3V0ZXIoKTtcblxuYXBwLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5qc29uKHtoZWxsbzogJ2Zyb20gZXhwcmVzcyBpc2xhbmQnfSk7XG59KTtcblxuYXBwLnVzZSgnL3VzZXJzJywgdXNlcnMpO1xuYXBwLnVzZShcIi9hdXRoXCIsIGF1dGgpO1xuXG5leHBvcnQgZGVmYXVsdCBhcHA7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "get",
        "req",
        "res",
        "json",
        "hello",
        "use",
        "users",
        "auth"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,IAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvBA,EAAAA,GAAG,CAACC,IAAJ,CAAS;AAACC,IAAAA,KAAK,EAAE;AAAR,GAAT;AACH,CAFD;AAIAL,GAAG,CAACM,GAAJ,CAAQ,QAAR,EAAkBC,aAAlB;AACAP,GAAG,CAACM,GAAJ,CAAQ,OAAR,EAAiBE,aAAjB;eAEeR,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "sourcesContent": [
        "import {Router} from 'express';\nimport users from './user';\nimport auth from './auth';\n\nconst app = Router();\n\napp.get('/', (req, res) => {\n    res.json({hello: 'from express island'});\n});\n\napp.use('/users', users);\napp.use(\"/auth\", auth);\n\nexport default app;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1541673749605
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ObjectMethod\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"ClassMethod\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectMethod": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/user.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar app = (0, _express.Router)();\napp.get('/',\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(req, res) {\n    var users;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _user.default.findAll();\n\n          case 3:\n            users = _context.sent;\n            res.status(200).json({\n              data: {\n                users: users\n              },\n              meta: {}\n            });\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            res.status(400).json({\n              err: _context.t0.messages\n            });\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 7]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\napp.get('/',\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee2(req, res) {\n    var user;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _user.default.findOne();\n\n          case 3:\n            user = _context2.sent;\n            res.status(200).json({\n              data: {\n                user: user\n              },\n              meta: {}\n            });\n            _context2.next = 9;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[0, 7]]);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiYXBwIiwiZ2V0IiwicmVxIiwicmVzIiwiVXNlciIsImZpbmRBbGwiLCJ1c2VycyIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWV0YSIsImVyciIsIm1lc3NhZ2VzIiwiZmluZE9uZSIsInVzZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7Ozs7QUFFQSxJQUFNQSxHQUFHLEdBQUcsc0JBQVo7QUFFQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsMEJBQWEsaUJBQU9DLEdBQVAsRUFBWUMsR0FBWjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsbUJBRWVDLGNBQUtDLE9BQUwsRUFGZjs7QUFBQTtBQUVDQyxZQUFBQSxLQUZEO0FBR0xILFlBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNDLGNBQUFBLElBQUksRUFBRTtBQUFDSCxnQkFBQUEsS0FBSyxFQUFMQTtBQUFELGVBQVA7QUFBZ0JJLGNBQUFBLElBQUksRUFBRTtBQUF0QixhQUFyQjtBQUhLO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBS0xQLFlBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNHLGNBQUFBLEdBQUcsRUFBRSxZQUFJQztBQUFWLGFBQXJCOztBQUxLO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEdBQWI7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFTQVosR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsMEJBQWEsa0JBQU9DLEdBQVAsRUFBWUMsR0FBWjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsbUJBRWNDLGNBQUtTLE9BQUwsRUFGZDs7QUFBQTtBQUVDQyxZQUFBQSxJQUZEO0FBR0xYLFlBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNDLGNBQUFBLElBQUksRUFBRztBQUFDSyxnQkFBQUEsSUFBSSxFQUFKQTtBQUFELGVBQVI7QUFBZ0JKLGNBQUFBLElBQUksRUFBRztBQUF2QixhQUFyQjtBQUhLO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEdBQWI7O0FBQUE7QUFBQTtBQUFBO0FBQUE7ZUFTZVYsRyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9FeHByZXNzIElzbGFuZCB8IG5vZGUvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXInO1xuXG5jb25zdCBhcHAgPSBSb3V0ZXIoKTtcblxuYXBwLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5maW5kQWxsKCk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtkYXRhOiB7dXNlcnN9LCBtZXRhOiB7fX0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7ZXJyOiBlcnIubWVzc2FnZXN9KTtcbiAgICB9XG59KTtcblxuYXBwLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoKTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe2RhdGEgOiB7dXNlcn0sIG1ldGEgOiB7fX0pXG4gICAgfSBjYXRjaCAoZSkge1xuXG4gICAgfVxufSlcblxuZXhwb3J0IGRlZmF1bHQgYXBwO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "app",
        "get",
        "req",
        "res",
        "User",
        "findAll",
        "users",
        "status",
        "json",
        "data",
        "meta",
        "err",
        "messages",
        "findOne",
        "user"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;;;;;AAEA,IAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAa,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEeC,cAAKC,OAAL,EAFf;;AAAA;AAECC,YAAAA,KAFD;AAGLH,YAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,cAAAA,IAAI,EAAE;AAACH,gBAAAA,KAAK,EAALA;AAAD,eAAP;AAAgBI,cAAAA,IAAI,EAAE;AAAtB,aAArB;AAHK;AAAA;;AAAA;AAAA;AAAA;AAKLP,YAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACG,cAAAA,GAAG,EAAE,YAAIC;AAAV,aAArB;;AALK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAb;;AAAA;AAAA;AAAA;AAAA;AASAZ,GAAG,CAACC,GAAJ,CAAQ,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAa,kBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEcC,cAAKS,OAAL,EAFd;;AAAA;AAECC,YAAAA,IAFD;AAGLX,YAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,cAAAA,IAAI,EAAG;AAACK,gBAAAA,IAAI,EAAJA;AAAD,eAAR;AAAgBJ,cAAAA,IAAI,EAAG;AAAvB,aAArB;AAHK;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAb;;AAAA;AAAA;AAAA;AAAA;eASeV,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "sourcesContent": [
        "import {Router} from 'express';\nimport User from '../models/user';\n\nconst app = Router();\n\napp.get('/', async (req, res) => {\n    try {\n        const users = await User.findAll();\n        res.status(200).json({data: {users}, meta: {}});\n    } catch (err) {\n        res.status(400).json({err: err.messages});\n    }\n});\n\napp.get('/', async (req, res) => {\n    try {\n        const user = await User.findOne();\n        res.status(200).json({data : {user}, meta : {}})\n    } catch (e) {\n\n    }\n})\n\nexport default app;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1541669829915
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ObjectMethod\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"ClassMethod\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/auth.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/auth.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$7",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$8",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$9",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$10",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$11",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$12",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$13",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$14",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$15",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$16",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$17",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$18",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$19",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectMethod": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$22",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$23",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$24",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$25",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$26",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$27",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$28",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/auth.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar api = (0, _express.Router)();\napi.post('/register',\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(req, res) {\n    var _req$body, nickname, email, password, password_confirmation, user;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _req$body = req.body, nickname = _req$body.nickname, email = _req$body.email, password = _req$body.password, password_confirmation = _req$body.password_confirmation;\n            user = new _user.default({\n              nickname: nickname,\n              email: email,\n              password: password\n            });\n            _context.next = 4;\n            return user.save();\n\n          case 4:\n            res.status(201).json({\n              data: {\n                user: user\n              }\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiYXBpIiwicG9zdCIsInJlcSIsInJlcyIsImJvZHkiLCJuaWNrbmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJwYXNzd29yZF9jb25maXJtYXRpb24iLCJ1c2VyIiwiVXNlciIsInNhdmUiLCJzdGF0dXMiLCJqc29uIiwiZGF0YSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7Ozs7OztBQUVBLElBQU1BLEdBQUcsR0FBRyxzQkFBWjtBQUVBQSxHQUFHLENBQUNDLElBQUosQ0FBUyxXQUFUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSwwQkFBc0IsaUJBQU9DLEdBQVAsRUFBWUMsR0FBWjtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsd0JBQzJDRCxHQUFHLENBQUNFLElBRC9DLEVBQ1ZDLFFBRFUsYUFDVkEsUUFEVSxFQUNBQyxLQURBLGFBQ0FBLEtBREEsRUFDT0MsUUFEUCxhQUNPQSxRQURQLEVBQ2lCQyxxQkFEakIsYUFDaUJBLHFCQURqQjtBQUVkQyxZQUFBQSxJQUZjLEdBRVAsSUFBSUMsYUFBSixDQUFTO0FBQ2hCTCxjQUFBQSxRQUFRLEVBQVJBLFFBRGdCO0FBRWhCQyxjQUFBQSxLQUFLLEVBQUxBLEtBRmdCO0FBR2hCQyxjQUFBQSxRQUFRLEVBQVJBO0FBSGdCLGFBQVQsQ0FGTztBQUFBO0FBQUEsbUJBUVpFLElBQUksQ0FBQ0UsSUFBTCxFQVJZOztBQUFBO0FBU2xCUixZQUFBQSxHQUFHLENBQUNTLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxjQUFBQSxJQUFJLEVBQUU7QUFBQ0wsZ0JBQUFBLElBQUksRUFBSkE7QUFBRDtBQUFQLGFBQXJCOztBQVRrQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQUF0Qjs7QUFBQTtBQUFBO0FBQUE7QUFBQTtlQVllVCxHIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbnRvaW5lZnJhbmNvaXMvRGVza3RvcC9hbnRvaW5lL3Ryb2lzaWXMgG1lX2FubmVlL0V4cHJlc3MgSXNsYW5kIHwgbm9kZS9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlcidcblxuY29uc3QgYXBpID0gUm91dGVyKCk7XG5cbmFwaS5wb3N0KCcvcmVnaXN0ZXInLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IG5pY2tuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIHBhc3N3b3JkX2NvbmZpcm1hdGlvbiB9ID0gcmVxLmJvZHk7XG4gICAgbGV0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgIG5pY2tuYW1lLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgcGFzc3dvcmRcbiAgICB9KTtcblxuICAgIGF3YWl0IHVzZXIuc2F2ZSgpXG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe2RhdGE6IHt1c2VyfX0pO1xufSlcblxuZXhwb3J0IGRlZmF1bHQgYXBpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "api",
        "post",
        "req",
        "res",
        "body",
        "nickname",
        "email",
        "password",
        "password_confirmation",
        "user",
        "User",
        "save",
        "status",
        "json",
        "data"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;;;;;AAEA,IAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,IAAJ,CAAS,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAsB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBAC2CD,GAAG,CAACE,IAD/C,EACVC,QADU,aACVA,QADU,EACAC,KADA,aACAA,KADA,EACOC,QADP,aACOA,QADP,EACiBC,qBADjB,aACiBA,qBADjB;AAEdC,YAAAA,IAFc,GAEP,IAAIC,aAAJ,CAAS;AAChBL,cAAAA,QAAQ,EAARA,QADgB;AAEhBC,cAAAA,KAAK,EAALA,KAFgB;AAGhBC,cAAAA,QAAQ,EAARA;AAHgB,aAAT,CAFO;AAAA;AAAA,mBAQZE,IAAI,CAACE,IAAL,EARY;;AAAA;AASlBR,YAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,cAAAA,IAAI,EAAE;AAACL,gBAAAA,IAAI,EAAJA;AAAD;AAAP,aAArB;;AATkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAAA;AAAA;AAAA;AAAA;eAYeT,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "sourcesContent": [
        "import {Router} from 'express';\nimport User from '../models/user'\n\nconst api = Router();\n\napi.post('/register', async (req, res) => {\n    const { nickname, email, password, password_confirmation } = req.body;\n    let user = new User({\n        nickname,\n        email,\n        password\n    });\n\n    await user.save()\n    res.status(201).json({data: {user}});\n})\n\nexport default api;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541680285440
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/server.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _utils = require(\"./lib/utils\");\n\nvar _models = require(\"./models\");\n\nvar _routes = _interopRequireDefault(require(\"./routes\"));\n\nrequire(\"./middlewares/passport\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst port = parseInt(process.argv[2], 10) || process.env.PORT;\nconst app = (0, _express.default)();\napp.use(_passport.default.initialize());\napp.use(_bodyParser.default.json());\napp.use(_bodyParser.default.urlencoded({\n  extended: true\n}));\n\nconst start = async () => {\n  try {\n    await _models.db.authenticate();\n\n    if (process.env.APP === 'development') {\n      _models.db.sync({\n        force: process.env.DATABASE_SYNC_FORCE\n      });\n    }\n\n    app.use('/api', _routes.default);\n    app.listen(port, err => {\n      if (err) {\n        throw err;\n      } else {\n        (0, _utils.mLog)(`Server is running on port ${port}`, 'cyan');\n      }\n    });\n  } catch (e) {\n    throw e;\n  }\n};\n\nstart();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJwb3J0IiwicGFyc2VJbnQiLCJwcm9jZXNzIiwiYXJndiIsImVudiIsIlBPUlQiLCJhcHAiLCJ1c2UiLCJwYXNzcG9ydCIsImluaXRpYWxpemUiLCJib2R5UGFyc2VyIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInN0YXJ0IiwiZGF0YWJhc2UiLCJhdXRoZW50aWNhdGUiLCJBUFAiLCJzeW5jIiwiZm9yY2UiLCJEQVRBQkFTRV9TWU5DX0ZPUkNFIiwicm91dGVzIiwibGlzdGVuIiwiZXJyIiwiZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBQSxnQkFBT0MsTUFBUDs7QUFFQSxNQUFNQyxJQUFJLEdBQUdDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDQyxJQUFSLENBQWEsQ0FBYixDQUFELEVBQWtCLEVBQWxCLENBQVIsSUFBaUNELE9BQU8sQ0FBQ0UsR0FBUixDQUFZQyxJQUExRDtBQUNBLE1BQU1DLEdBQUcsR0FBRyx1QkFBWjtBQUNBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsa0JBQVNDLFVBQVQsRUFBUjtBQUNBSCxHQUFHLENBQUNDLEdBQUosQ0FBUUcsb0JBQVdDLElBQVgsRUFBUjtBQUNBTCxHQUFHLENBQUNDLEdBQUosQ0FBUUcsb0JBQVdFLFVBQVgsQ0FBc0I7QUFBRUMsRUFBQUEsUUFBUSxFQUFFO0FBQVosQ0FBdEIsQ0FBUjs7QUFFQSxNQUFNQyxLQUFLLEdBQUcsWUFBWTtBQUN0QixNQUFJO0FBQ0EsVUFBTUMsV0FBU0MsWUFBVCxFQUFOOztBQUNBLFFBQUlkLE9BQU8sQ0FBQ0UsR0FBUixDQUFZYSxHQUFaLEtBQW9CLGFBQXhCLEVBQXVDO0FBQ25DRixpQkFBU0csSUFBVCxDQUFjO0FBQUNDLFFBQUFBLEtBQUssRUFBRWpCLE9BQU8sQ0FBQ0UsR0FBUixDQUFZZ0I7QUFBcEIsT0FBZDtBQUNIOztBQUVEZCxJQUFBQSxHQUFHLENBQUNDLEdBQUosQ0FBUSxNQUFSLEVBQWdCYyxlQUFoQjtBQUNBZixJQUFBQSxHQUFHLENBQUNnQixNQUFKLENBQVd0QixJQUFYLEVBQWtCdUIsR0FBRCxJQUFTO0FBQ3RCLFVBQUlBLEdBQUosRUFBUztBQUNMLGNBQU1BLEdBQU47QUFDSCxPQUZELE1BRU87QUFDSCx5QkFBTSw2QkFBNEJ2QixJQUFLLEVBQXZDLEVBQTBDLE1BQTFDO0FBQ0g7QUFDSixLQU5EO0FBT0gsR0FkRCxDQWNFLE9BQU93QixDQUFQLEVBQVU7QUFDUixVQUFNQSxDQUFOO0FBQ0g7QUFDSixDQWxCRDs7QUFtQkFWLEtBQUsiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvRXhwcmVzcyBJc2xhbmQgfCBub2RlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQge21Mb2d9IGZyb20gJy4vbGliL3V0aWxzJztcbmltcG9ydCB7ZGIgYXMgZGF0YWJhc2V9IGZyb20gJy4vbW9kZWxzJztcbmltcG9ydCByb3V0ZXMgZnJvbSAnLi9yb3V0ZXMnO1xuaW1wb3J0IFwiLi9taWRkbGV3YXJlcy9wYXNzcG9ydFwiXG5cbmRvdGVudi5jb25maWcoKTtcblxuY29uc3QgcG9ydCA9IHBhcnNlSW50KHByb2Nlc3MuYXJndlsyXSwgMTApIHx8IHByb2Nlc3MuZW52LlBPUlQ7XG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5hcHAudXNlKHBhc3Nwb3J0LmluaXRpYWxpemUoKSk7XG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuXG5jb25zdCBzdGFydCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBkYXRhYmFzZS5hdXRoZW50aWNhdGUoKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52LkFQUCA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgZGF0YWJhc2Uuc3luYyh7Zm9yY2U6IHByb2Nlc3MuZW52LkRBVEFCQVNFX1NZTkNfRk9SQ0V9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFwcC51c2UoJy9hcGknLCByb3V0ZXMpO1xuICAgICAgICBhcHAubGlzdGVuKHBvcnQsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1Mb2coYFNlcnZlciBpcyBydW5uaW5nIG9uIHBvcnQgJHtwb3J0fWAsICdjeWFuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG59XG5zdGFydCgpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "dotenv",
        "config",
        "port",
        "parseInt",
        "process",
        "argv",
        "env",
        "PORT",
        "app",
        "use",
        "passport",
        "initialize",
        "bodyParser",
        "json",
        "urlencoded",
        "extended",
        "start",
        "database",
        "authenticate",
        "APP",
        "sync",
        "force",
        "DATABASE_SYNC_FORCE",
        "routes",
        "listen",
        "err",
        "e"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMC,IAAI,GAAGC,QAAQ,CAACC,OAAO,CAACC,IAAR,CAAa,CAAb,CAAD,EAAkB,EAAlB,CAAR,IAAiCD,OAAO,CAACE,GAAR,CAAYC,IAA1D;AACA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,kBAASC,UAAT,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQG,oBAAWC,IAAX,EAAR;AACAL,GAAG,CAACC,GAAJ,CAAQG,oBAAWE,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR;;AAEA,MAAMC,KAAK,GAAG,YAAY;AACtB,MAAI;AACA,UAAMC,WAASC,YAAT,EAAN;;AACA,QAAId,OAAO,CAACE,GAAR,CAAYa,GAAZ,KAAoB,aAAxB,EAAuC;AACnCF,iBAASG,IAAT,CAAc;AAACC,QAAAA,KAAK,EAAEjB,OAAO,CAACE,GAAR,CAAYgB;AAApB,OAAd;AACH;;AAEDd,IAAAA,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBc,eAAhB;AACAf,IAAAA,GAAG,CAACgB,MAAJ,CAAWtB,IAAX,EAAkBuB,GAAD,IAAS;AACtB,UAAIA,GAAJ,EAAS;AACL,cAAMA,GAAN;AACH,OAFD,MAEO;AACH,yBAAM,6BAA4BvB,IAAK,EAAvC,EAA0C,MAA1C;AACH;AACJ,KAND;AAOH,GAdD,CAcE,OAAOwB,CAAP,EAAU;AACR,UAAMA,CAAN;AACH;AACJ,CAlBD;;AAmBAV,KAAK",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourcesContent": [
        "import express from 'express';\nimport passport from 'passport';\nimport bodyParser from 'body-parser'\nimport dotenv from 'dotenv';\nimport {mLog} from './lib/utils';\nimport {db as database} from './models';\nimport routes from './routes';\nimport \"./middlewares/passport\"\n\ndotenv.config();\n\nconst port = parseInt(process.argv[2], 10) || process.env.PORT;\nconst app = express();\napp.use(passport.initialize());\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\nconst start = async () => {\n    try {\n        await database.authenticate();\n        if (process.env.APP === 'development') {\n            database.sync({force: process.env.DATABASE_SYNC_FORCE});\n        }\n\n        app.use('/api', routes);\n        app.listen(port, (err) => {\n            if (err) {\n                throw err;\n            } else {\n                mLog(`Server is running on port ${port}`, 'cyan');\n            }\n        });\n    } catch (e) {\n        throw e;\n    }\n}\nstart();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1541688176786
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/utils.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/utils.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/utils.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mLog = mLog;\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _kleur = _interopRequireDefault(require(\"kleur\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mLog(str, c = 'magenta', withNewLine = true) {\n  const display = _kleur.default[c](`${(0, _moment.default)().format()} - ${str}`);\n\n  if (withNewLine) {\n    console.log(display);\n  } else {\n    process.stdout.write(display);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbIm1Mb2ciLCJzdHIiLCJjIiwid2l0aE5ld0xpbmUiLCJkaXNwbGF5Iiwia2xldXIiLCJmb3JtYXQiLCJjb25zb2xlIiwibG9nIiwicHJvY2VzcyIsInN0ZG91dCIsIndyaXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFTyxTQUFTQSxJQUFULENBQWNDLEdBQWQsRUFBbUJDLENBQUMsR0FBRyxTQUF2QixFQUFrQ0MsV0FBVyxHQUFHLElBQWhELEVBQXNEO0FBQzNELFFBQU1DLE9BQU8sR0FBR0MsZUFBTUgsQ0FBTixFQUFVLEdBQUUsdUJBQVNJLE1BQVQsRUFBa0IsTUFBS0wsR0FBSSxFQUF2QyxDQUFoQjs7QUFDQSxNQUFJRSxXQUFKLEVBQWlCO0FBQ2ZJLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSixPQUFaO0FBQ0QsR0FGRCxNQUVPO0FBQ0xLLElBQUFBLE9BQU8sQ0FBQ0MsTUFBUixDQUFlQyxLQUFmLENBQXFCUCxPQUFyQjtBQUNEO0FBQ0YiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvRXhwcmVzcyBJc2xhbmQgfCBub2RlL2xpYiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBrbGV1ciBmcm9tICdrbGV1cic7XG5cbmV4cG9ydCBmdW5jdGlvbiBtTG9nKHN0ciwgYyA9ICdtYWdlbnRhJywgd2l0aE5ld0xpbmUgPSB0cnVlKSB7XG4gIGNvbnN0IGRpc3BsYXkgPSBrbGV1cltjXShgJHttb21lbnQoKS5mb3JtYXQoKX0gLSAke3N0cn1gKTtcbiAgaWYgKHdpdGhOZXdMaW5lKSB7XG4gICAgY29uc29sZS5sb2coZGlzcGxheSk7XG4gIH0gZWxzZSB7XG4gICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoZGlzcGxheSk7XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "mLog",
        "str",
        "c",
        "withNewLine",
        "display",
        "kleur",
        "format",
        "console",
        "log",
        "process",
        "stdout",
        "write"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEO,SAASA,IAAT,CAAcC,GAAd,EAAmBC,CAAC,GAAG,SAAvB,EAAkCC,WAAW,GAAG,IAAhD,EAAsD;AAC3D,QAAMC,OAAO,GAAGC,eAAMH,CAAN,EAAU,GAAE,uBAASI,MAAT,EAAkB,MAAKL,GAAI,EAAvC,CAAhB;;AACA,MAAIE,WAAJ,EAAiB;AACfI,IAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AACD,GAFD,MAEO;AACLK,IAAAA,OAAO,CAACC,MAAR,CAAeC,KAAf,CAAqBP,OAArB;AACD;AACF",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
      "sourcesContent": [
        "import moment from 'moment';\nimport kleur from 'kleur';\n\nexport function mLog(str, c = 'magenta', withNewLine = true) {\n  const display = kleur[c](`${moment().format()} - ${str}`);\n  if (withNewLine) {\n    console.log(display);\n  } else {\n    process.stdout.write(display);\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1539348243460
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.db = void 0;\n\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst db = new _sequelize.default(process.env.DATABASE_URL);\nexports.db = db;\n\n_user.default.init(db, _sequelize.default);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImRiIiwiU2VxdWVsaXplIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsIlVzZXIiLCJpbml0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQUEsZ0JBQU9DLE1BQVA7O0FBRU8sTUFBTUMsRUFBRSxHQUFHLElBQUlDLGtCQUFKLENBQWNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxZQUExQixDQUFYOzs7QUFDUEMsY0FBS0MsSUFBTCxDQUFVTixFQUFWLEVBQWNDLGtCQUFkIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbnRvaW5lZnJhbmNvaXMvRGVza3RvcC9hbnRvaW5lL3Ryb2lzaWXMgG1lX2FubmVlL0V4cHJlc3MgSXNsYW5kIHwgbm9kZS9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2VxdWVsaXplIGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgVXNlciBmcm9tICcuL3VzZXInO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5cbmV4cG9ydCBjb25zdCBkYiA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMKTtcblVzZXIuaW5pdChkYiwgU2VxdWVsaXplKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "dotenv",
        "config",
        "db",
        "Sequelize",
        "process",
        "env",
        "DATABASE_URL",
        "User",
        "init"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEO,MAAMC,EAAE,GAAG,IAAIC,kBAAJ,CAAcC,OAAO,CAACC,GAAR,CAAYC,YAA1B,CAAX;;;AACPC,cAAKC,IAAL,CAAUN,EAAV,EAAcC,kBAAd",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
      "sourcesContent": [
        "import Sequelize from 'sequelize';\nimport dotenv from 'dotenv';\nimport User from './user';\n\ndotenv.config();\n\nexport const db = new Sequelize(process.env.DATABASE_URL);\nUser.init(db, Sequelize);"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689782783
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/user.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst MIN_PWD_LENGTH = 7;\n\nclass User extends _sequelize.Model {\n  static init(sequelize, DataTypes) {\n    return super.init({\n      uuid: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n      },\n      email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          isEmail: true\n        },\n        unique: {\n          args: true,\n          msg: 'email aready in use'\n        }\n      },\n      nickname: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: {\n          args: true,\n          msg: 'nickname already exists'\n        }\n      },\n      password: {\n        type: DataTypes.VIRTUAL,\n        validate: {\n          isLongEnough(value) {\n            if (value.length < MIN_PWD_LENGTH) {\n              throw new Error('password is too short');\n            }\n          }\n\n        }\n      },\n      password_confirmation: {\n        type: DataTypes.VIRTUAL,\n        validate: {\n          isEqual(value) {\n            if (this.password !== value) {\n              throw new Error(\"passwords don't match\");\n            }\n          }\n\n        }\n      },\n      password_digest: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      }\n    }, {\n      sequelize,\n      hooks: {\n        async beforeValidate(user) {\n          if (user.isNewRecord) {\n            const SALT_ROUND = 7;\n            const hash = await _bcrypt.default.hash(user.password, SALT_ROUND);\n\n            if (hash === null) {\n              throw new Error(\"can't hash password\");\n            }\n\n            user.password_digest = hash;\n          }\n        }\n\n      }\n    });\n  }\n\n  async checkPwd(password) {\n    return await _bcrypt.default.compare(password, this.password_digest);\n  }\n\n  toJSON() {\n    const values = Object.assign({}, this.get());\n    delete values.password_digest;\n    delete values.password;\n    delete values.password_confirmation;\n    return values;\n  }\n\n}\n\nexports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiTUlOX1BXRF9MRU5HVEgiLCJVc2VyIiwiTW9kZWwiLCJpbml0Iiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwidXVpZCIsInR5cGUiLCJVVUlEIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwicHJpbWFyeUtleSIsImVtYWlsIiwiU1RSSU5HIiwiYWxsb3dOdWxsIiwidmFsaWRhdGUiLCJpc0VtYWlsIiwidW5pcXVlIiwiYXJncyIsIm1zZyIsIm5pY2tuYW1lIiwicGFzc3dvcmQiLCJWSVJUVUFMIiwiaXNMb25nRW5vdWdoIiwidmFsdWUiLCJsZW5ndGgiLCJFcnJvciIsInBhc3N3b3JkX2NvbmZpcm1hdGlvbiIsImlzRXF1YWwiLCJwYXNzd29yZF9kaWdlc3QiLCJub3RFbXB0eSIsImhvb2tzIiwiYmVmb3JlVmFsaWRhdGUiLCJ1c2VyIiwiaXNOZXdSZWNvcmQiLCJTQUxUX1JPVU5EIiwiaGFzaCIsImJjcnlwdCIsImNoZWNrUHdkIiwiY29tcGFyZSIsInRvSlNPTiIsInZhbHVlcyIsIk9iamVjdCIsImFzc2lnbiIsImdldCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsY0FBYyxHQUFHLENBQXZCOztBQUVlLE1BQU1DLElBQU4sU0FBbUJDLGdCQUFuQixDQUF5QjtBQUNwQyxTQUFPQyxJQUFQLENBQVlDLFNBQVosRUFBdUJDLFNBQXZCLEVBQWtDO0FBQzlCLFdBQU8sTUFBTUYsSUFBTixDQUNIO0FBQ0lHLE1BQUFBLElBQUksRUFBRTtBQUFFQyxRQUFBQSxJQUFJLEVBQUVGLFNBQVMsQ0FBQ0csSUFBbEI7QUFBd0JDLFFBQUFBLFlBQVksRUFBRUosU0FBUyxDQUFDSyxNQUFoRDtBQUF3REMsUUFBQUEsVUFBVSxFQUFFO0FBQXBFLE9BRFY7QUFFSUMsTUFBQUEsS0FBSyxFQUFFO0FBQ0hMLFFBQUFBLElBQUksRUFBRUYsU0FBUyxDQUFDUSxNQURiO0FBRUhDLFFBQUFBLFNBQVMsRUFBRSxLQUZSO0FBR0hDLFFBQUFBLFFBQVEsRUFBRTtBQUFFQyxVQUFBQSxPQUFPLEVBQUU7QUFBWCxTQUhQO0FBSUhDLFFBQUFBLE1BQU0sRUFBRTtBQUNKQyxVQUFBQSxJQUFJLEVBQUUsSUFERjtBQUVKQyxVQUFBQSxHQUFHLEVBQUU7QUFGRDtBQUpMLE9BRlg7QUFXSUMsTUFBQUEsUUFBUSxFQUFFO0FBQ05iLFFBQUFBLElBQUksRUFBRUYsU0FBUyxDQUFDUSxNQURWO0FBRU5DLFFBQUFBLFNBQVMsRUFBRSxLQUZMO0FBR05HLFFBQUFBLE1BQU0sRUFBRTtBQUFFQyxVQUFBQSxJQUFJLEVBQUUsSUFBUjtBQUFjQyxVQUFBQSxHQUFHLEVBQUU7QUFBbkI7QUFIRixPQVhkO0FBZ0JJRSxNQUFBQSxRQUFRLEVBQUU7QUFDTmQsUUFBQUEsSUFBSSxFQUFFRixTQUFTLENBQUNpQixPQURWO0FBRU5QLFFBQUFBLFFBQVEsRUFBRTtBQUNOUSxVQUFBQSxZQUFZLENBQUNDLEtBQUQsRUFBUTtBQUNoQixnQkFBSUEsS0FBSyxDQUFDQyxNQUFOLEdBQWV6QixjQUFuQixFQUFtQztBQUMvQixvQkFBTSxJQUFJMEIsS0FBSixDQUFVLHVCQUFWLENBQU47QUFDSDtBQUNKOztBQUxLO0FBRkosT0FoQmQ7QUEwQklDLE1BQUFBLHFCQUFxQixFQUFFO0FBQ25CcEIsUUFBQUEsSUFBSSxFQUFFRixTQUFTLENBQUNpQixPQURHO0FBRW5CUCxRQUFBQSxRQUFRLEVBQUU7QUFDTmEsVUFBQUEsT0FBTyxDQUFDSixLQUFELEVBQVE7QUFDWCxnQkFBSSxLQUFLSCxRQUFMLEtBQWtCRyxLQUF0QixFQUE2QjtBQUN6QixvQkFBTSxJQUFJRSxLQUFKLENBQVUsdUJBQVYsQ0FBTjtBQUNIO0FBQ0o7O0FBTEs7QUFGUyxPQTFCM0I7QUFvQ0lHLE1BQUFBLGVBQWUsRUFBRTtBQUNidEIsUUFBQUEsSUFBSSxFQUFFRixTQUFTLENBQUNRLE1BREg7QUFFYkMsUUFBQUEsU0FBUyxFQUFFLEtBRkU7QUFHYkMsUUFBQUEsUUFBUSxFQUFFO0FBQUVlLFVBQUFBLFFBQVEsRUFBRTtBQUFaO0FBSEc7QUFwQ3JCLEtBREcsRUE0Q0g7QUFDSTFCLE1BQUFBLFNBREo7QUFFSTJCLE1BQUFBLEtBQUssRUFBRTtBQUNILGNBQU1DLGNBQU4sQ0FBcUJDLElBQXJCLEVBQTJCO0FBQ3ZCLGNBQUlBLElBQUksQ0FBQ0MsV0FBVCxFQUFzQjtBQUNsQixrQkFBTUMsVUFBVSxHQUFHLENBQW5CO0FBQ0Esa0JBQU1DLElBQUksR0FBRyxNQUFNQyxnQkFBT0QsSUFBUCxDQUFZSCxJQUFJLENBQUNaLFFBQWpCLEVBQTJCYyxVQUEzQixDQUFuQjs7QUFFQSxnQkFBSUMsSUFBSSxLQUFLLElBQWIsRUFBbUI7QUFDZixvQkFBTSxJQUFJVixLQUFKLENBQVUscUJBQVYsQ0FBTjtBQUNIOztBQUNETyxZQUFBQSxJQUFJLENBQUNKLGVBQUwsR0FBdUJPLElBQXZCO0FBQ0g7QUFDSjs7QUFYRTtBQUZYLEtBNUNHLENBQVA7QUE2REg7O0FBRUQsUUFBTUUsUUFBTixDQUFlakIsUUFBZixFQUF5QjtBQUNyQixXQUFPLE1BQU1nQixnQkFBT0UsT0FBUCxDQUFlbEIsUUFBZixFQUF5QixLQUFLUSxlQUE5QixDQUFiO0FBQ0g7O0FBRURXLEVBQUFBLE1BQU0sR0FBRztBQUNMLFVBQU1DLE1BQU0sR0FBR0MsTUFBTSxDQUFDQyxNQUFQLENBQWMsRUFBZCxFQUFrQixLQUFLQyxHQUFMLEVBQWxCLENBQWY7QUFDQSxXQUFPSCxNQUFNLENBQUNaLGVBQWQ7QUFDQSxXQUFPWSxNQUFNLENBQUNwQixRQUFkO0FBQ0EsV0FBT29CLE1BQU0sQ0FBQ2QscUJBQWQ7QUFDQSxXQUFPYyxNQUFQO0FBQ0g7O0FBM0VtQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9FeHByZXNzIElzbGFuZCB8IG5vZGUvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9kZWwgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xuXG5jb25zdCBNSU5fUFdEX0xFTkdUSCA9IDc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGluaXQoc2VxdWVsaXplLCBEYXRhVHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmluaXQoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXVpZDogeyB0eXBlOiBEYXRhVHlwZXMuVVVJRCwgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LCBwcmltYXJ5S2V5OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgZW1haWw6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGU6IHsgaXNFbWFpbDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB1bmlxdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2c6ICdlbWFpbCBhcmVhZHkgaW4gdXNlJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5pY2tuYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgICAgICAgICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZTogeyBhcmdzOiB0cnVlLCBtc2c6ICduaWNrbmFtZSBhbHJlYWR5IGV4aXN0cycgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFUeXBlcy5WSVJUVUFMLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNMb25nRW5vdWdoKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IE1JTl9QV0RfTEVOR1RIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGFzc3dvcmQgaXMgdG9vIHNob3J0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkX2NvbmZpcm1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVklSVFVBTCxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRXF1YWwodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXNzd29yZCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFzc3dvcmRzIGRvbid0IG1hdGNoXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwYXNzd29yZF9kaWdlc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGU6IHsgbm90RW1wdHk6IHRydWUgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlcXVlbGl6ZSxcbiAgICAgICAgICAgICAgICBob29rczoge1xuICAgICAgICAgICAgICAgICAgICBhc3luYyBiZWZvcmVWYWxpZGF0ZSh1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlci5pc05ld1JlY29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFNBTFRfUk9VTkQgPSA3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaCh1c2VyLnBhc3N3b3JkLCBTQUxUX1JPVU5EKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbid0IGhhc2ggcGFzc3dvcmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIucGFzc3dvcmRfZGlnZXN0ID0gaGFzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBjaGVja1B3ZChwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHRoaXMucGFzc3dvcmRfZGlnZXN0KTtcbiAgICB9XG5cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0KCkpO1xuICAgICAgICBkZWxldGUgdmFsdWVzLnBhc3N3b3JkX2RpZ2VzdDtcbiAgICAgICAgZGVsZXRlIHZhbHVlcy5wYXNzd29yZDtcbiAgICAgICAgZGVsZXRlIHZhbHVlcy5wYXNzd29yZF9jb25maXJtYXRpb247XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "MIN_PWD_LENGTH",
        "User",
        "Model",
        "init",
        "sequelize",
        "DataTypes",
        "uuid",
        "type",
        "UUID",
        "defaultValue",
        "UUIDV4",
        "primaryKey",
        "email",
        "STRING",
        "allowNull",
        "validate",
        "isEmail",
        "unique",
        "args",
        "msg",
        "nickname",
        "password",
        "VIRTUAL",
        "isLongEnough",
        "value",
        "length",
        "Error",
        "password_confirmation",
        "isEqual",
        "password_digest",
        "notEmpty",
        "hooks",
        "beforeValidate",
        "user",
        "isNewRecord",
        "SALT_ROUND",
        "hash",
        "bcrypt",
        "checkPwd",
        "compare",
        "toJSON",
        "values",
        "Object",
        "assign",
        "get"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
      "sourcesContent": [
        "import { Model } from 'sequelize';\nimport bcrypt from 'bcrypt';\n\nconst MIN_PWD_LENGTH = 7;\n\nexport default class User extends Model {\n    static init(sequelize, DataTypes) {\n        return super.init(\n            {\n                uuid: { type: DataTypes.UUID, defaultValue: DataTypes.UUIDV4, primaryKey: true },\n                email: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    validate: { isEmail: true },\n                    unique: {\n                        args: true,\n                        msg: 'email aready in use',\n                    },\n                },\n                nickname: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    unique: { args: true, msg: 'nickname already exists' },\n                },\n                password: {\n                    type: DataTypes.VIRTUAL,\n                    validate: {\n                        isLongEnough(value) {\n                            if (value.length < MIN_PWD_LENGTH) {\n                                throw new Error('password is too short');\n                            }\n                        },\n                    },\n                },\n                password_confirmation: {\n                    type: DataTypes.VIRTUAL,\n                    validate: {\n                        isEqual(value) {\n                            if (this.password !== value) {\n                                throw new Error(\"passwords don't match\");\n                            }\n                        },\n                    },\n                },\n                password_digest: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    validate: { notEmpty: true },\n                },\n            },\n\n            {\n                sequelize,\n                hooks: {\n                    async beforeValidate(user) {\n                        if (user.isNewRecord) {\n                            const SALT_ROUND = 7;\n                            const hash = await bcrypt.hash(user.password, SALT_ROUND);\n\n                            if (hash === null) {\n                                throw new Error(\"can't hash password\");\n                            }\n                            user.password_digest = hash;\n                        }\n                    },\n                },\n            },\n        );\n    }\n\n    async checkPwd(password) {\n        return await bcrypt.compare(password, this.password_digest);\n    }\n\n    toJSON() {\n        const values = Object.assign({}, this.get());\n        delete values.password_digest;\n        delete values.password;\n        delete values.password_confirmation;\n        return values;\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689813003
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _auth = _interopRequireDefault(require(\"./auth\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = (0, _express.Router)();\napi.get('/', (req, res) => {\n  res.json({\n    hello: 'express.island'\n  });\n});\napi.use('/users', _user.default);\napi.use('/auth', _auth.default);\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwaSIsImdldCIsInJlcSIsInJlcyIsImpzb24iLCJoZWxsbyIsInVzZSIsInVzZXJzIiwiYXV0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsR0FBRyxHQUFHLHNCQUFaO0FBRUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUN2QkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVM7QUFBRUMsSUFBQUEsS0FBSyxFQUFFO0FBQVQsR0FBVDtBQUNILENBRkQ7QUFJQUwsR0FBRyxDQUFDTSxHQUFKLENBQVEsUUFBUixFQUFrQkMsYUFBbEI7QUFDQVAsR0FBRyxDQUFDTSxHQUFKLENBQVEsT0FBUixFQUFpQkUsYUFBakI7ZUFFZVIsRyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9FeHByZXNzIElzbGFuZCB8IG5vZGUvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgdXNlcnMgZnJvbSAnLi91c2VyJztcbmltcG9ydCBhdXRoIGZyb20gJy4vYXV0aCc7XG5cbmNvbnN0IGFwaSA9IFJvdXRlcigpO1xuXG5hcGkuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmpzb24oeyBoZWxsbzogJ2V4cHJlc3MuaXNsYW5kJyB9KTtcbn0pO1xuXG5hcGkudXNlKCcvdXNlcnMnLCB1c2Vycyk7XG5hcGkudXNlKCcvYXV0aCcsIGF1dGgpO1xuXG5leHBvcnQgZGVmYXVsdCBhcGk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "api",
        "get",
        "req",
        "res",
        "json",
        "hello",
        "use",
        "users",
        "auth"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvBA,EAAAA,GAAG,CAACC,IAAJ,CAAS;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAT;AACH,CAFD;AAIAL,GAAG,CAACM,GAAJ,CAAQ,QAAR,EAAkBC,aAAlB;AACAP,GAAG,CAACM,GAAJ,CAAQ,OAAR,EAAiBE,aAAjB;eAEeR,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "sourcesContent": [
        "import { Router } from 'express';\nimport users from './user';\nimport auth from './auth';\n\nconst api = Router();\n\napi.get('/', (req, res) => {\n    res.json({ hello: 'express.island' });\n});\n\napi.use('/users', users);\napi.use('/auth', auth);\n\nexport default api;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689728718
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/user.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = (0, _express.Router)();\napi.get('/', async (req, res) => {\n  try {\n    const users = await _user.default.findAll();\n    res.status(200).json({\n      data: {\n        users\n      },\n      meta: {}\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `could not connect to database, err: ${err.message}`\n    });\n  }\n});\napi.get('/:id', async (req, res) => {\n  try {\n    const user = await _user.default.findById(req.params.id);\n    res.status(200).json({\n      user\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `could not connect to database, err: ${err.message}`\n    });\n  }\n});\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiYXBpIiwiZ2V0IiwicmVxIiwicmVzIiwidXNlcnMiLCJVc2VyIiwiZmluZEFsbCIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWV0YSIsImVyciIsIm1lc3NhZ2UiLCJ1c2VyIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsR0FBRyxHQUFHLHNCQUFaO0FBRUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEdBQVIsRUFBYSxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDN0IsTUFBSTtBQUNBLFVBQU1DLEtBQUssR0FBRyxNQUFNQyxjQUFLQyxPQUFMLEVBQXBCO0FBQ0FILElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLElBQUksRUFBRTtBQUFFTCxRQUFBQTtBQUFGLE9BQVI7QUFBbUJNLE1BQUFBLElBQUksRUFBRTtBQUF6QixLQUFyQjtBQUNILEdBSEQsQ0FHRSxPQUFPQyxHQUFQLEVBQVk7QUFDVlIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUcsTUFBQUEsR0FBRyxFQUFHLHVDQUFzQ0EsR0FBRyxDQUFDQyxPQUFRO0FBQTFELEtBQXJCO0FBQ0g7QUFDSixDQVBEO0FBU0FaLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLE1BQVIsRUFBZ0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ2hDLE1BQUk7QUFDQSxVQUFNVSxJQUFJLEdBQUcsTUFBTVIsY0FBS1MsUUFBTCxDQUFjWixHQUFHLENBQUNhLE1BQUosQ0FBV0MsRUFBekIsQ0FBbkI7QUFDQWIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUssTUFBQUE7QUFBRixLQUFyQjtBQUNILEdBSEQsQ0FHRSxPQUFPRixHQUFQLEVBQVk7QUFDVlIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUcsTUFBQUEsR0FBRyxFQUFHLHVDQUFzQ0EsR0FBRyxDQUFDQyxPQUFRO0FBQTFELEtBQXJCO0FBQ0g7QUFDSixDQVBEO2VBU2VaLEciLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvRXhwcmVzcyBJc2xhbmQgfCBub2RlL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXInO1xuXG5jb25zdCBhcGkgPSBSb3V0ZXIoKTtcblxuYXBpLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5maW5kQWxsKCk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZGF0YTogeyB1c2VycyB9LCBtZXRhOiB7fSB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnI6IGBjb3VsZCBub3QgY29ubmVjdCB0byBkYXRhYmFzZSwgZXJyOiAke2Vyci5tZXNzYWdlfWAgfSk7XG4gICAgfVxufSk7XG5cbmFwaS5nZXQoJy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VyIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycjogYGNvdWxkIG5vdCBjb25uZWN0IHRvIGRhdGFiYXNlLCBlcnI6ICR7ZXJyLm1lc3NhZ2V9YCB9KTtcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgYXBpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "api",
        "get",
        "req",
        "res",
        "users",
        "User",
        "findAll",
        "status",
        "json",
        "data",
        "meta",
        "err",
        "message",
        "user",
        "findById",
        "params",
        "id"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC7B,MAAI;AACA,UAAMC,KAAK,GAAG,MAAMC,cAAKC,OAAL,EAApB;AACAH,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAE;AAAEL,QAAAA;AAAF,OAAR;AAAmBM,MAAAA,IAAI,EAAE;AAAzB,KAArB;AACH,GAHD,CAGE,OAAOC,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,MAAAA,GAAG,EAAG,uCAAsCA,GAAG,CAACC,OAAQ;AAA1D,KAArB;AACH;AACJ,CAPD;AASAZ,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAChC,MAAI;AACA,UAAMU,IAAI,GAAG,MAAMR,cAAKS,QAAL,CAAcZ,GAAG,CAACa,MAAJ,CAAWC,EAAzB,CAAnB;AACAb,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEK,MAAAA;AAAF,KAArB;AACH,GAHD,CAGE,OAAOF,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,MAAAA,GAAG,EAAG,uCAAsCA,GAAG,CAACC,OAAQ;AAA1D,KAArB;AACH;AACJ,CAPD;eASeZ,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "sourcesContent": [
        "import { Router } from 'express';\nimport User from '../models/user';\n\nconst api = Router();\n\napi.get('/', async (req, res) => {\n    try {\n        const users = await User.findAll();\n        res.status(200).json({ data: { users }, meta: {} });\n    } catch (err) {\n        res.status(400).json({ err: `could not connect to database, err: ${err.message}` });\n    }\n});\n\napi.get('/:id', async (req, res) => {\n    try {\n        const user = await User.findById(req.params.id);\n        res.status(200).json({ user });\n    } catch (err) {\n        res.status(400).json({ err: `could not connect to database, err: ${err.message}` });\n    }\n});\n\nexport default api;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689748891
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/auth.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/auth.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/auth.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nvar _mail = _interopRequireDefault(require(\"../lib/mail\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = (0, _express.Router)();\napi.post('/register', async (req, res) => {\n  const {\n    nickname,\n    email,\n    password,\n    password_confirmation\n  } = req.body;\n\n  try {\n    const user = new _user.default({\n      nickname,\n      email,\n      password,\n      password_confirmation\n    });\n    await user.save();\n\n    _mail.default.send(user.email, 'Welcome', `Hello ${user.nickname}`, `<h1>Hello ${user.nickname}</h1>`);\n\n    const payload = {\n      uuid: user.uuid,\n      nickname,\n      email\n    };\n\n    const token = _jsonwebtoken.default.sign(payload, process.env.JWT_ENCRYPTION);\n\n    res.status(201).json({\n      data: {\n        user\n      },\n      meta: {\n        token\n      }\n    });\n  } catch (err) {\n    res.status(400).json({\n      err\n    });\n  }\n});\napi.post('/login', (req, res) => {\n  _passport.default.authenticate('local', {\n    session: false\n  }, (err, user, message) => {\n    if (err) {\n      res.status(400).json({\n        err\n      });\n    }\n\n    const {\n      uuid,\n      nickname,\n      email\n    } = user.toJSON();\n    const payload = {\n      uuid: user.uuid,\n      nickname,\n      email\n    };\n\n    const token = _jsonwebtoken.default.sign(payload, process.env.JWT_ENCRYPTION);\n\n    res.status(200).json({\n      data: {\n        user: {\n          uuid,\n          nickname,\n          email\n        }\n      },\n      meta: {\n        token\n      }\n    });\n  })(req, res);\n});\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiYXBpIiwicG9zdCIsInJlcSIsInJlcyIsIm5pY2tuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInBhc3N3b3JkX2NvbmZpcm1hdGlvbiIsImJvZHkiLCJ1c2VyIiwiVXNlciIsInNhdmUiLCJNYWlsZXIiLCJzZW5kIiwicGF5bG9hZCIsInV1aWQiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiSldUX0VOQ1JZUFRJT04iLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsIm1ldGEiLCJlcnIiLCJwYXNzcG9ydCIsImF1dGhlbnRpY2F0ZSIsInNlc3Npb24iLCJtZXNzYWdlIiwidG9KU09OIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxHQUFHLEdBQUcsc0JBQVo7QUFFQUEsR0FBRyxDQUFDQyxJQUFKLENBQVMsV0FBVCxFQUFzQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTTtBQUNGQyxJQUFBQSxRQURFO0FBQ1FDLElBQUFBLEtBRFI7QUFDZUMsSUFBQUEsUUFEZjtBQUN5QkMsSUFBQUE7QUFEekIsTUFFRkwsR0FBRyxDQUFDTSxJQUZSOztBQUdBLE1BQUk7QUFDQSxVQUFNQyxJQUFJLEdBQUcsSUFBSUMsYUFBSixDQUFTO0FBQ2xCTixNQUFBQSxRQURrQjtBQUVsQkMsTUFBQUEsS0FGa0I7QUFHbEJDLE1BQUFBLFFBSGtCO0FBSWxCQyxNQUFBQTtBQUprQixLQUFULENBQWI7QUFNQSxVQUFNRSxJQUFJLENBQUNFLElBQUwsRUFBTjs7QUFDQUMsa0JBQU9DLElBQVAsQ0FBWUosSUFBSSxDQUFDSixLQUFqQixFQUF3QixTQUF4QixFQUFvQyxTQUFRSSxJQUFJLENBQUNMLFFBQVMsRUFBMUQsRUFBOEQsYUFBWUssSUFBSSxDQUFDTCxRQUFTLE9BQXhGOztBQUVBLFVBQU1VLE9BQU8sR0FBRztBQUFFQyxNQUFBQSxJQUFJLEVBQUVOLElBQUksQ0FBQ00sSUFBYjtBQUFtQlgsTUFBQUEsUUFBbkI7QUFBNkJDLE1BQUFBO0FBQTdCLEtBQWhCOztBQUNBLFVBQU1XLEtBQUssR0FBR0Msc0JBQUlDLElBQUosQ0FBU0osT0FBVCxFQUFrQkssT0FBTyxDQUFDQyxHQUFSLENBQVlDLGNBQTlCLENBQWQ7O0FBQ0FsQixJQUFBQSxHQUFHLENBQUNtQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsSUFBSSxFQUFFO0FBQUVmLFFBQUFBO0FBQUYsT0FBUjtBQUFrQmdCLE1BQUFBLElBQUksRUFBRTtBQUFFVCxRQUFBQTtBQUFGO0FBQXhCLEtBQXJCO0FBQ0gsR0FiRCxDQWFFLE9BQU9VLEdBQVAsRUFBWTtBQUNWdkIsSUFBQUEsR0FBRyxDQUFDbUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVHLE1BQUFBO0FBQUYsS0FBckI7QUFDSDtBQUNKLENBcEJEO0FBc0JBMUIsR0FBRyxDQUFDQyxJQUFKLENBQVMsUUFBVCxFQUFtQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUM3QndCLG9CQUFTQyxZQUFULENBQ0ksT0FESixFQUVJO0FBQ0lDLElBQUFBLE9BQU8sRUFBRTtBQURiLEdBRkosRUFLSSxDQUFDSCxHQUFELEVBQU1qQixJQUFOLEVBQVlxQixPQUFaLEtBQXdCO0FBQ3BCLFFBQUlKLEdBQUosRUFBUztBQUNMdkIsTUFBQUEsR0FBRyxDQUFDbUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVHLFFBQUFBO0FBQUYsT0FBckI7QUFDSDs7QUFFRCxVQUFNO0FBQUVYLE1BQUFBLElBQUY7QUFBUVgsTUFBQUEsUUFBUjtBQUFrQkMsTUFBQUE7QUFBbEIsUUFBNEJJLElBQUksQ0FBQ3NCLE1BQUwsRUFBbEM7QUFDQSxVQUFNakIsT0FBTyxHQUFHO0FBQUVDLE1BQUFBLElBQUksRUFBRU4sSUFBSSxDQUFDTSxJQUFiO0FBQW1CWCxNQUFBQSxRQUFuQjtBQUE2QkMsTUFBQUE7QUFBN0IsS0FBaEI7O0FBQ0EsVUFBTVcsS0FBSyxHQUFHQyxzQkFBSUMsSUFBSixDQUFTSixPQUFULEVBQWtCSyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsY0FBOUIsQ0FBZDs7QUFDQWxCLElBQUFBLEdBQUcsQ0FBQ21CLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxJQUFJLEVBQUU7QUFBRWYsUUFBQUEsSUFBSSxFQUFFO0FBQUVNLFVBQUFBLElBQUY7QUFBUVgsVUFBQUEsUUFBUjtBQUFrQkMsVUFBQUE7QUFBbEI7QUFBUixPQUFSO0FBQTZDb0IsTUFBQUEsSUFBSSxFQUFFO0FBQUVULFFBQUFBO0FBQUY7QUFBbkQsS0FBckI7QUFDSCxHQWRMLEVBZUVkLEdBZkYsRUFlT0MsR0FmUDtBQWdCSCxDQWpCRDtlQW1CZUgsRyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9FeHByZXNzIElzbGFuZCB8IG5vZGUvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXInO1xuaW1wb3J0IE1haWxlciBmcm9tICcuLi9saWIvbWFpbCc7XG5cbmNvbnN0IGFwaSA9IFJvdXRlcigpO1xuXG5hcGkucG9zdCgnL3JlZ2lzdGVyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgICBuaWNrbmFtZSwgZW1haWwsIHBhc3N3b3JkLCBwYXNzd29yZF9jb25maXJtYXRpb24sXG4gICAgfSA9IHJlcS5ib2R5O1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICBuaWNrbmFtZSxcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICAgICBwYXNzd29yZF9jb25maXJtYXRpb24sXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgICAgTWFpbGVyLnNlbmQodXNlci5lbWFpbCwgJ1dlbGNvbWUnLCBgSGVsbG8gJHt1c2VyLm5pY2tuYW1lfWAsIGA8aDE+SGVsbG8gJHt1c2VyLm5pY2tuYW1lfTwvaDE+YCk7XG5cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgdXVpZDogdXNlci51dWlkLCBuaWNrbmFtZSwgZW1haWwgfTtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihwYXlsb2FkLCBwcm9jZXNzLmVudi5KV1RfRU5DUllQVElPTik7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgZGF0YTogeyB1c2VyIH0sIG1ldGE6IHsgdG9rZW4gfSB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnIgfSk7XG4gICAgfVxufSk7XG5cbmFwaS5wb3N0KCcvbG9naW4nLCAocmVxLCByZXMpID0+IHtcbiAgICBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXG4gICAgICAgICdsb2NhbCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNlc3Npb246IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAoZXJyLCB1c2VyLCBtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnIgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHsgdXVpZCwgbmlja25hbWUsIGVtYWlsIH0gPSB1c2VyLnRvSlNPTigpO1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgdXVpZDogdXNlci51dWlkLCBuaWNrbmFtZSwgZW1haWwgfTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24ocGF5bG9hZCwgcHJvY2Vzcy5lbnYuSldUX0VOQ1JZUFRJT04pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiB7IHVzZXI6IHsgdXVpZCwgbmlja25hbWUsIGVtYWlsIH0gfSwgbWV0YTogeyB0b2tlbiB9IH0pO1xuICAgICAgICB9LFxuICAgICkocmVxLCByZXMpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGFwaTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "api",
        "post",
        "req",
        "res",
        "nickname",
        "email",
        "password",
        "password_confirmation",
        "body",
        "user",
        "User",
        "save",
        "Mailer",
        "send",
        "payload",
        "uuid",
        "token",
        "jwt",
        "sign",
        "process",
        "env",
        "JWT_ENCRYPTION",
        "status",
        "json",
        "data",
        "meta",
        "err",
        "passport",
        "authenticate",
        "session",
        "message",
        "toJSON"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,IAAJ,CAAS,WAAT,EAAsB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM;AACFC,IAAAA,QADE;AACQC,IAAAA,KADR;AACeC,IAAAA,QADf;AACyBC,IAAAA;AADzB,MAEFL,GAAG,CAACM,IAFR;;AAGA,MAAI;AACA,UAAMC,IAAI,GAAG,IAAIC,aAAJ,CAAS;AAClBN,MAAAA,QADkB;AAElBC,MAAAA,KAFkB;AAGlBC,MAAAA,QAHkB;AAIlBC,MAAAA;AAJkB,KAAT,CAAb;AAMA,UAAME,IAAI,CAACE,IAAL,EAAN;;AACAC,kBAAOC,IAAP,CAAYJ,IAAI,CAACJ,KAAjB,EAAwB,SAAxB,EAAoC,SAAQI,IAAI,CAACL,QAAS,EAA1D,EAA8D,aAAYK,IAAI,CAACL,QAAS,OAAxF;;AAEA,UAAMU,OAAO,GAAG;AAAEC,MAAAA,IAAI,EAAEN,IAAI,CAACM,IAAb;AAAmBX,MAAAA,QAAnB;AAA6BC,MAAAA;AAA7B,KAAhB;;AACA,UAAMW,KAAK,GAAGC,sBAAIC,IAAJ,CAASJ,OAAT,EAAkBK,OAAO,CAACC,GAAR,CAAYC,cAA9B,CAAd;;AACAlB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAE;AAAEf,QAAAA;AAAF,OAAR;AAAkBgB,MAAAA,IAAI,EAAE;AAAET,QAAAA;AAAF;AAAxB,KAArB;AACH,GAbD,CAaE,OAAOU,GAAP,EAAY;AACVvB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,MAAAA;AAAF,KAArB;AACH;AACJ,CApBD;AAsBA1B,GAAG,CAACC,IAAJ,CAAS,QAAT,EAAmB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC7BwB,oBAASC,YAAT,CACI,OADJ,EAEI;AACIC,IAAAA,OAAO,EAAE;AADb,GAFJ,EAKI,CAACH,GAAD,EAAMjB,IAAN,EAAYqB,OAAZ,KAAwB;AACpB,QAAIJ,GAAJ,EAAS;AACLvB,MAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,QAAAA;AAAF,OAArB;AACH;;AAED,UAAM;AAAEX,MAAAA,IAAF;AAAQX,MAAAA,QAAR;AAAkBC,MAAAA;AAAlB,QAA4BI,IAAI,CAACsB,MAAL,EAAlC;AACA,UAAMjB,OAAO,GAAG;AAAEC,MAAAA,IAAI,EAAEN,IAAI,CAACM,IAAb;AAAmBX,MAAAA,QAAnB;AAA6BC,MAAAA;AAA7B,KAAhB;;AACA,UAAMW,KAAK,GAAGC,sBAAIC,IAAJ,CAASJ,OAAT,EAAkBK,OAAO,CAACC,GAAR,CAAYC,cAA9B,CAAd;;AACAlB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAE;AAAEf,QAAAA,IAAI,EAAE;AAAEM,UAAAA,IAAF;AAAQX,UAAAA,QAAR;AAAkBC,UAAAA;AAAlB;AAAR,OAAR;AAA6CoB,MAAAA,IAAI,EAAE;AAAET,QAAAA;AAAF;AAAnD,KAArB;AACH,GAdL,EAeEd,GAfF,EAeOC,GAfP;AAgBH,CAjBD;eAmBeH,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "sourcesContent": [
        "import { Router } from 'express';\nimport passport from 'passport';\nimport jwt from 'jsonwebtoken';\nimport User from '../models/user';\nimport Mailer from '../lib/mail';\n\nconst api = Router();\n\napi.post('/register', async (req, res) => {\n    const {\n        nickname, email, password, password_confirmation,\n    } = req.body;\n    try {\n        const user = new User({\n            nickname,\n            email,\n            password,\n            password_confirmation,\n        });\n        await user.save();\n        Mailer.send(user.email, 'Welcome', `Hello ${user.nickname}`, `<h1>Hello ${user.nickname}</h1>`);\n\n        const payload = { uuid: user.uuid, nickname, email };\n        const token = jwt.sign(payload, process.env.JWT_ENCRYPTION);\n        res.status(201).json({ data: { user }, meta: { token } });\n    } catch (err) {\n        res.status(400).json({ err });\n    }\n});\n\napi.post('/login', (req, res) => {\n    passport.authenticate(\n        'local',\n        {\n            session: false,\n        },\n        (err, user, message) => {\n            if (err) {\n                res.status(400).json({ err });\n            }\n\n            const { uuid, nickname, email } = user.toJSON();\n            const payload = { uuid: user.uuid, nickname, email };\n            const token = jwt.sign(payload, process.env.JWT_ENCRYPTION);\n            res.status(200).json({ data: { user: { uuid, nickname, email } }, meta: { token } });\n        },\n    )(req, res);\n});\n\nexport default api;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689690707
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/utils.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/utils.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/utils.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mLog = mLog;\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _kleur = _interopRequireDefault(require(\"kleur\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mLog(str, c = 'magenta', withNewLine = true) {\n  const display = _kleur.default[c](`${(0, _moment.default)().format()} - ${str}`);\n\n  if (withNewLine) {\n    console.log(display);\n  } else {\n    process.stdout.write(display);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbIm1Mb2ciLCJzdHIiLCJjIiwid2l0aE5ld0xpbmUiLCJkaXNwbGF5Iiwia2xldXIiLCJmb3JtYXQiLCJjb25zb2xlIiwibG9nIiwicHJvY2VzcyIsInN0ZG91dCIsIndyaXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFTyxTQUFTQSxJQUFULENBQWNDLEdBQWQsRUFBbUJDLENBQUMsR0FBRyxTQUF2QixFQUFrQ0MsV0FBVyxHQUFHLElBQWhELEVBQXNEO0FBQ3pELFFBQU1DLE9BQU8sR0FBR0MsZUFBTUgsQ0FBTixFQUFVLEdBQUUsdUJBQVNJLE1BQVQsRUFBa0IsTUFBS0wsR0FBSSxFQUF2QyxDQUFoQjs7QUFDQSxNQUFJRSxXQUFKLEVBQWlCO0FBQ2JJLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSixPQUFaO0FBQ0gsR0FGRCxNQUVPO0FBQ0hLLElBQUFBLE9BQU8sQ0FBQ0MsTUFBUixDQUFlQyxLQUFmLENBQXFCUCxPQUFyQjtBQUNIO0FBQ0oiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvRXhwcmVzcyBJc2xhbmQgfCBub2RlL2xpYiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBrbGV1ciBmcm9tICdrbGV1cic7XG5cbmV4cG9ydCBmdW5jdGlvbiBtTG9nKHN0ciwgYyA9ICdtYWdlbnRhJywgd2l0aE5ld0xpbmUgPSB0cnVlKSB7XG4gICAgY29uc3QgZGlzcGxheSA9IGtsZXVyW2NdKGAke21vbWVudCgpLmZvcm1hdCgpfSAtICR7c3RyfWApO1xuICAgIGlmICh3aXRoTmV3TGluZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhkaXNwbGF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZShkaXNwbGF5KTtcbiAgICB9XG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "mLog",
        "str",
        "c",
        "withNewLine",
        "display",
        "kleur",
        "format",
        "console",
        "log",
        "process",
        "stdout",
        "write"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEO,SAASA,IAAT,CAAcC,GAAd,EAAmBC,CAAC,GAAG,SAAvB,EAAkCC,WAAW,GAAG,IAAhD,EAAsD;AACzD,QAAMC,OAAO,GAAGC,eAAMH,CAAN,EAAU,GAAE,uBAASI,MAAT,EAAkB,MAAKL,GAAI,EAAvC,CAAhB;;AACA,MAAIE,WAAJ,EAAiB;AACbI,IAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AACH,GAFD,MAEO;AACHK,IAAAA,OAAO,CAACC,MAAR,CAAeC,KAAf,CAAqBP,OAArB;AACH;AACJ",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
      "sourcesContent": [
        "import moment from 'moment';\nimport kleur from 'kleur';\n\nexport function mLog(str, c = 'magenta', withNewLine = true) {\n    const display = kleur[c](`${moment().format()} - ${str}`);\n    if (withNewLine) {\n        console.log(display);\n    } else {\n        process.stdout.write(display);\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689857719
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.db = void 0;\n\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst db = new _sequelize.default(process.env.DATABASE_URL);\nexports.db = db;\n\n_user.default.init(db, _sequelize.default);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImRiIiwiU2VxdWVsaXplIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsIlVzZXIiLCJpbml0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQUEsZ0JBQU9DLE1BQVA7O0FBRU8sTUFBTUMsRUFBRSxHQUFHLElBQUlDLGtCQUFKLENBQWNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxZQUExQixDQUFYOzs7QUFDUEMsY0FBS0MsSUFBTCxDQUFVTixFQUFWLEVBQWNDLGtCQUFkIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbnRvaW5lZnJhbmNvaXMvRGVza3RvcC9hbnRvaW5lL3Ryb2lzaWXMgG1lX2FubmVlL0V4cHJlc3MgSXNsYW5kIHwgbm9kZS9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2VxdWVsaXplIGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgVXNlciBmcm9tICcuL3VzZXInO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5cbmV4cG9ydCBjb25zdCBkYiA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMKTtcblVzZXIuaW5pdChkYiwgU2VxdWVsaXplKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "dotenv",
        "config",
        "db",
        "Sequelize",
        "process",
        "env",
        "DATABASE_URL",
        "User",
        "init"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEO,MAAMC,EAAE,GAAG,IAAIC,kBAAJ,CAAcC,OAAO,CAACC,GAAR,CAAYC,YAA1B,CAAX;;;AACPC,cAAKC,IAAL,CAAUN,EAAV,EAAcC,kBAAd",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
      "sourcesContent": [
        "import Sequelize from 'sequelize';\nimport dotenv from 'dotenv';\nimport User from './user';\n\ndotenv.config();\n\nexport const db = new Sequelize(process.env.DATABASE_URL);\nUser.init(db, Sequelize);"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689782783
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/user.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst MIN_PWD_LENGTH = 7;\n\nclass User extends _sequelize.Model {\n  static init(sequelize, DataTypes) {\n    return super.init({\n      uuid: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n      },\n      email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          isEmail: true\n        },\n        unique: {\n          args: true,\n          msg: 'email aready in use'\n        }\n      },\n      nickname: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: {\n          args: true,\n          msg: 'nickname already exists'\n        }\n      },\n      password: {\n        type: DataTypes.VIRTUAL,\n        validate: {\n          isLongEnough(value) {\n            if (value.length < MIN_PWD_LENGTH) {\n              throw new Error('password is too short');\n            }\n          }\n\n        }\n      },\n      password_confirmation: {\n        type: DataTypes.VIRTUAL,\n        validate: {\n          isEqual(value) {\n            if (this.password !== value) {\n              throw new Error(\"passwords don't match\");\n            }\n          }\n\n        }\n      },\n      password_digest: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      }\n    }, {\n      sequelize,\n      hooks: {\n        async beforeValidate(user) {\n          if (user.isNewRecord) {\n            const SALT_ROUND = 7;\n            const hash = await _bcrypt.default.hash(user.password, SALT_ROUND);\n\n            if (hash === null) {\n              throw new Error(\"can't hash password\");\n            }\n\n            user.password_digest = hash;\n          }\n        }\n\n      }\n    });\n  }\n\n  async checkPwd(password) {\n    return await _bcrypt.default.compare(password, this.password_digest);\n  }\n\n  toJSON() {\n    const values = Object.assign({}, this.get());\n    delete values.password_digest;\n    delete values.password;\n    delete values.password_confirmation;\n    return values;\n  }\n\n}\n\nexports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiTUlOX1BXRF9MRU5HVEgiLCJVc2VyIiwiTW9kZWwiLCJpbml0Iiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwidXVpZCIsInR5cGUiLCJVVUlEIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwicHJpbWFyeUtleSIsImVtYWlsIiwiU1RSSU5HIiwiYWxsb3dOdWxsIiwidmFsaWRhdGUiLCJpc0VtYWlsIiwidW5pcXVlIiwiYXJncyIsIm1zZyIsIm5pY2tuYW1lIiwicGFzc3dvcmQiLCJWSVJUVUFMIiwiaXNMb25nRW5vdWdoIiwidmFsdWUiLCJsZW5ndGgiLCJFcnJvciIsInBhc3N3b3JkX2NvbmZpcm1hdGlvbiIsImlzRXF1YWwiLCJwYXNzd29yZF9kaWdlc3QiLCJub3RFbXB0eSIsImhvb2tzIiwiYmVmb3JlVmFsaWRhdGUiLCJ1c2VyIiwiaXNOZXdSZWNvcmQiLCJTQUxUX1JPVU5EIiwiaGFzaCIsImJjcnlwdCIsImNoZWNrUHdkIiwiY29tcGFyZSIsInRvSlNPTiIsInZhbHVlcyIsIk9iamVjdCIsImFzc2lnbiIsImdldCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsY0FBYyxHQUFHLENBQXZCOztBQUVlLE1BQU1DLElBQU4sU0FBbUJDLGdCQUFuQixDQUF5QjtBQUNwQyxTQUFPQyxJQUFQLENBQVlDLFNBQVosRUFBdUJDLFNBQXZCLEVBQWtDO0FBQzlCLFdBQU8sTUFBTUYsSUFBTixDQUNIO0FBQ0lHLE1BQUFBLElBQUksRUFBRTtBQUFFQyxRQUFBQSxJQUFJLEVBQUVGLFNBQVMsQ0FBQ0csSUFBbEI7QUFBd0JDLFFBQUFBLFlBQVksRUFBRUosU0FBUyxDQUFDSyxNQUFoRDtBQUF3REMsUUFBQUEsVUFBVSxFQUFFO0FBQXBFLE9BRFY7QUFFSUMsTUFBQUEsS0FBSyxFQUFFO0FBQ0hMLFFBQUFBLElBQUksRUFBRUYsU0FBUyxDQUFDUSxNQURiO0FBRUhDLFFBQUFBLFNBQVMsRUFBRSxLQUZSO0FBR0hDLFFBQUFBLFFBQVEsRUFBRTtBQUFFQyxVQUFBQSxPQUFPLEVBQUU7QUFBWCxTQUhQO0FBSUhDLFFBQUFBLE1BQU0sRUFBRTtBQUNKQyxVQUFBQSxJQUFJLEVBQUUsSUFERjtBQUVKQyxVQUFBQSxHQUFHLEVBQUU7QUFGRDtBQUpMLE9BRlg7QUFXSUMsTUFBQUEsUUFBUSxFQUFFO0FBQ05iLFFBQUFBLElBQUksRUFBRUYsU0FBUyxDQUFDUSxNQURWO0FBRU5DLFFBQUFBLFNBQVMsRUFBRSxLQUZMO0FBR05HLFFBQUFBLE1BQU0sRUFBRTtBQUFFQyxVQUFBQSxJQUFJLEVBQUUsSUFBUjtBQUFjQyxVQUFBQSxHQUFHLEVBQUU7QUFBbkI7QUFIRixPQVhkO0FBZ0JJRSxNQUFBQSxRQUFRLEVBQUU7QUFDTmQsUUFBQUEsSUFBSSxFQUFFRixTQUFTLENBQUNpQixPQURWO0FBRU5QLFFBQUFBLFFBQVEsRUFBRTtBQUNOUSxVQUFBQSxZQUFZLENBQUNDLEtBQUQsRUFBUTtBQUNoQixnQkFBSUEsS0FBSyxDQUFDQyxNQUFOLEdBQWV6QixjQUFuQixFQUFtQztBQUMvQixvQkFBTSxJQUFJMEIsS0FBSixDQUFVLHVCQUFWLENBQU47QUFDSDtBQUNKOztBQUxLO0FBRkosT0FoQmQ7QUEwQklDLE1BQUFBLHFCQUFxQixFQUFFO0FBQ25CcEIsUUFBQUEsSUFBSSxFQUFFRixTQUFTLENBQUNpQixPQURHO0FBRW5CUCxRQUFBQSxRQUFRLEVBQUU7QUFDTmEsVUFBQUEsT0FBTyxDQUFDSixLQUFELEVBQVE7QUFDWCxnQkFBSSxLQUFLSCxRQUFMLEtBQWtCRyxLQUF0QixFQUE2QjtBQUN6QixvQkFBTSxJQUFJRSxLQUFKLENBQVUsdUJBQVYsQ0FBTjtBQUNIO0FBQ0o7O0FBTEs7QUFGUyxPQTFCM0I7QUFvQ0lHLE1BQUFBLGVBQWUsRUFBRTtBQUNidEIsUUFBQUEsSUFBSSxFQUFFRixTQUFTLENBQUNRLE1BREg7QUFFYkMsUUFBQUEsU0FBUyxFQUFFLEtBRkU7QUFHYkMsUUFBQUEsUUFBUSxFQUFFO0FBQUVlLFVBQUFBLFFBQVEsRUFBRTtBQUFaO0FBSEc7QUFwQ3JCLEtBREcsRUE0Q0g7QUFDSTFCLE1BQUFBLFNBREo7QUFFSTJCLE1BQUFBLEtBQUssRUFBRTtBQUNILGNBQU1DLGNBQU4sQ0FBcUJDLElBQXJCLEVBQTJCO0FBQ3ZCLGNBQUlBLElBQUksQ0FBQ0MsV0FBVCxFQUFzQjtBQUNsQixrQkFBTUMsVUFBVSxHQUFHLENBQW5CO0FBQ0Esa0JBQU1DLElBQUksR0FBRyxNQUFNQyxnQkFBT0QsSUFBUCxDQUFZSCxJQUFJLENBQUNaLFFBQWpCLEVBQTJCYyxVQUEzQixDQUFuQjs7QUFFQSxnQkFBSUMsSUFBSSxLQUFLLElBQWIsRUFBbUI7QUFDZixvQkFBTSxJQUFJVixLQUFKLENBQVUscUJBQVYsQ0FBTjtBQUNIOztBQUNETyxZQUFBQSxJQUFJLENBQUNKLGVBQUwsR0FBdUJPLElBQXZCO0FBQ0g7QUFDSjs7QUFYRTtBQUZYLEtBNUNHLENBQVA7QUE2REg7O0FBRUQsUUFBTUUsUUFBTixDQUFlakIsUUFBZixFQUF5QjtBQUNyQixXQUFPLE1BQU1nQixnQkFBT0UsT0FBUCxDQUFlbEIsUUFBZixFQUF5QixLQUFLUSxlQUE5QixDQUFiO0FBQ0g7O0FBRURXLEVBQUFBLE1BQU0sR0FBRztBQUNMLFVBQU1DLE1BQU0sR0FBR0MsTUFBTSxDQUFDQyxNQUFQLENBQWMsRUFBZCxFQUFrQixLQUFLQyxHQUFMLEVBQWxCLENBQWY7QUFDQSxXQUFPSCxNQUFNLENBQUNaLGVBQWQ7QUFDQSxXQUFPWSxNQUFNLENBQUNwQixRQUFkO0FBQ0EsV0FBT29CLE1BQU0sQ0FBQ2QscUJBQWQ7QUFDQSxXQUFPYyxNQUFQO0FBQ0g7O0FBM0VtQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9FeHByZXNzIElzbGFuZCB8IG5vZGUvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9kZWwgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xuXG5jb25zdCBNSU5fUFdEX0xFTkdUSCA9IDc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGluaXQoc2VxdWVsaXplLCBEYXRhVHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmluaXQoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXVpZDogeyB0eXBlOiBEYXRhVHlwZXMuVVVJRCwgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LCBwcmltYXJ5S2V5OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgZW1haWw6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGU6IHsgaXNFbWFpbDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB1bmlxdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2c6ICdlbWFpbCBhcmVhZHkgaW4gdXNlJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5pY2tuYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgICAgICAgICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZTogeyBhcmdzOiB0cnVlLCBtc2c6ICduaWNrbmFtZSBhbHJlYWR5IGV4aXN0cycgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFUeXBlcy5WSVJUVUFMLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNMb25nRW5vdWdoKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IE1JTl9QV0RfTEVOR1RIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGFzc3dvcmQgaXMgdG9vIHNob3J0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkX2NvbmZpcm1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVklSVFVBTCxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRXF1YWwodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXNzd29yZCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFzc3dvcmRzIGRvbid0IG1hdGNoXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwYXNzd29yZF9kaWdlc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGU6IHsgbm90RW1wdHk6IHRydWUgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlcXVlbGl6ZSxcbiAgICAgICAgICAgICAgICBob29rczoge1xuICAgICAgICAgICAgICAgICAgICBhc3luYyBiZWZvcmVWYWxpZGF0ZSh1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlci5pc05ld1JlY29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFNBTFRfUk9VTkQgPSA3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaCh1c2VyLnBhc3N3b3JkLCBTQUxUX1JPVU5EKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbid0IGhhc2ggcGFzc3dvcmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIucGFzc3dvcmRfZGlnZXN0ID0gaGFzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBjaGVja1B3ZChwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHRoaXMucGFzc3dvcmRfZGlnZXN0KTtcbiAgICB9XG5cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0KCkpO1xuICAgICAgICBkZWxldGUgdmFsdWVzLnBhc3N3b3JkX2RpZ2VzdDtcbiAgICAgICAgZGVsZXRlIHZhbHVlcy5wYXNzd29yZDtcbiAgICAgICAgZGVsZXRlIHZhbHVlcy5wYXNzd29yZF9jb25maXJtYXRpb247XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "MIN_PWD_LENGTH",
        "User",
        "Model",
        "init",
        "sequelize",
        "DataTypes",
        "uuid",
        "type",
        "UUID",
        "defaultValue",
        "UUIDV4",
        "primaryKey",
        "email",
        "STRING",
        "allowNull",
        "validate",
        "isEmail",
        "unique",
        "args",
        "msg",
        "nickname",
        "password",
        "VIRTUAL",
        "isLongEnough",
        "value",
        "length",
        "Error",
        "password_confirmation",
        "isEqual",
        "password_digest",
        "notEmpty",
        "hooks",
        "beforeValidate",
        "user",
        "isNewRecord",
        "SALT_ROUND",
        "hash",
        "bcrypt",
        "checkPwd",
        "compare",
        "toJSON",
        "values",
        "Object",
        "assign",
        "get"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/models",
      "sourcesContent": [
        "import { Model } from 'sequelize';\nimport bcrypt from 'bcrypt';\n\nconst MIN_PWD_LENGTH = 7;\n\nexport default class User extends Model {\n    static init(sequelize, DataTypes) {\n        return super.init(\n            {\n                uuid: { type: DataTypes.UUID, defaultValue: DataTypes.UUIDV4, primaryKey: true },\n                email: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    validate: { isEmail: true },\n                    unique: {\n                        args: true,\n                        msg: 'email aready in use',\n                    },\n                },\n                nickname: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    unique: { args: true, msg: 'nickname already exists' },\n                },\n                password: {\n                    type: DataTypes.VIRTUAL,\n                    validate: {\n                        isLongEnough(value) {\n                            if (value.length < MIN_PWD_LENGTH) {\n                                throw new Error('password is too short');\n                            }\n                        },\n                    },\n                },\n                password_confirmation: {\n                    type: DataTypes.VIRTUAL,\n                    validate: {\n                        isEqual(value) {\n                            if (this.password !== value) {\n                                throw new Error(\"passwords don't match\");\n                            }\n                        },\n                    },\n                },\n                password_digest: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    validate: { notEmpty: true },\n                },\n            },\n\n            {\n                sequelize,\n                hooks: {\n                    async beforeValidate(user) {\n                        if (user.isNewRecord) {\n                            const SALT_ROUND = 7;\n                            const hash = await bcrypt.hash(user.password, SALT_ROUND);\n\n                            if (hash === null) {\n                                throw new Error(\"can't hash password\");\n                            }\n                            user.password_digest = hash;\n                        }\n                    },\n                },\n            },\n        );\n    }\n\n    async checkPwd(password) {\n        return await bcrypt.compare(password, this.password_digest);\n    }\n\n    toJSON() {\n        const values = Object.assign({}, this.get());\n        delete values.password_digest;\n        delete values.password;\n        delete values.password_confirmation;\n        return values;\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689813003
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _auth = _interopRequireDefault(require(\"./auth\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = (0, _express.Router)();\napi.get('/', (req, res) => {\n  res.json({\n    hello: 'express.island'\n  });\n});\napi.use('/users', _user.default);\napi.use('/auth', _auth.default);\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwaSIsImdldCIsInJlcSIsInJlcyIsImpzb24iLCJoZWxsbyIsInVzZSIsInVzZXJzIiwiYXV0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsR0FBRyxHQUFHLHNCQUFaO0FBRUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUN2QkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVM7QUFBRUMsSUFBQUEsS0FBSyxFQUFFO0FBQVQsR0FBVDtBQUNILENBRkQ7QUFJQUwsR0FBRyxDQUFDTSxHQUFKLENBQVEsUUFBUixFQUFrQkMsYUFBbEI7QUFDQVAsR0FBRyxDQUFDTSxHQUFKLENBQVEsT0FBUixFQUFpQkUsYUFBakI7ZUFFZVIsRyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9FeHByZXNzIElzbGFuZCB8IG5vZGUvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgdXNlcnMgZnJvbSAnLi91c2VyJztcbmltcG9ydCBhdXRoIGZyb20gJy4vYXV0aCc7XG5cbmNvbnN0IGFwaSA9IFJvdXRlcigpO1xuXG5hcGkuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmpzb24oeyBoZWxsbzogJ2V4cHJlc3MuaXNsYW5kJyB9KTtcbn0pO1xuXG5hcGkudXNlKCcvdXNlcnMnLCB1c2Vycyk7XG5hcGkudXNlKCcvYXV0aCcsIGF1dGgpO1xuXG5leHBvcnQgZGVmYXVsdCBhcGk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "api",
        "get",
        "req",
        "res",
        "json",
        "hello",
        "use",
        "users",
        "auth"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvBA,EAAAA,GAAG,CAACC,IAAJ,CAAS;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAT;AACH,CAFD;AAIAL,GAAG,CAACM,GAAJ,CAAQ,QAAR,EAAkBC,aAAlB;AACAP,GAAG,CAACM,GAAJ,CAAQ,OAAR,EAAiBE,aAAjB;eAEeR,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "sourcesContent": [
        "import { Router } from 'express';\nimport users from './user';\nimport auth from './auth';\n\nconst api = Router();\n\napi.get('/', (req, res) => {\n    res.json({ hello: 'express.island' });\n});\n\napi.use('/users', users);\napi.use('/auth', auth);\n\nexport default api;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689728718
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/user.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = (0, _express.Router)();\napi.get('/', async (req, res) => {\n  try {\n    const users = await _user.default.findAll();\n    res.status(200).json({\n      data: {\n        users\n      },\n      meta: {}\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `could not connect to database, err: ${err.message}`\n    });\n  }\n});\napi.get('/:id', async (req, res) => {\n  try {\n    const user = await _user.default.findById(req.params.id);\n    res.status(200).json({\n      user\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `could not connect to database, err: ${err.message}`\n    });\n  }\n});\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiYXBpIiwiZ2V0IiwicmVxIiwicmVzIiwidXNlcnMiLCJVc2VyIiwiZmluZEFsbCIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWV0YSIsImVyciIsIm1lc3NhZ2UiLCJ1c2VyIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsR0FBRyxHQUFHLHNCQUFaO0FBRUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEdBQVIsRUFBYSxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDN0IsTUFBSTtBQUNBLFVBQU1DLEtBQUssR0FBRyxNQUFNQyxjQUFLQyxPQUFMLEVBQXBCO0FBQ0FILElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLElBQUksRUFBRTtBQUFFTCxRQUFBQTtBQUFGLE9BQVI7QUFBbUJNLE1BQUFBLElBQUksRUFBRTtBQUF6QixLQUFyQjtBQUNILEdBSEQsQ0FHRSxPQUFPQyxHQUFQLEVBQVk7QUFDVlIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUcsTUFBQUEsR0FBRyxFQUFHLHVDQUFzQ0EsR0FBRyxDQUFDQyxPQUFRO0FBQTFELEtBQXJCO0FBQ0g7QUFDSixDQVBEO0FBU0FaLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLE1BQVIsRUFBZ0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ2hDLE1BQUk7QUFDQSxVQUFNVSxJQUFJLEdBQUcsTUFBTVIsY0FBS1MsUUFBTCxDQUFjWixHQUFHLENBQUNhLE1BQUosQ0FBV0MsRUFBekIsQ0FBbkI7QUFDQWIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUssTUFBQUE7QUFBRixLQUFyQjtBQUNILEdBSEQsQ0FHRSxPQUFPRixHQUFQLEVBQVk7QUFDVlIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUcsTUFBQUEsR0FBRyxFQUFHLHVDQUFzQ0EsR0FBRyxDQUFDQyxPQUFRO0FBQTFELEtBQXJCO0FBQ0g7QUFDSixDQVBEO2VBU2VaLEciLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvRXhwcmVzcyBJc2xhbmQgfCBub2RlL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXInO1xuXG5jb25zdCBhcGkgPSBSb3V0ZXIoKTtcblxuYXBpLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5maW5kQWxsKCk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZGF0YTogeyB1c2VycyB9LCBtZXRhOiB7fSB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnI6IGBjb3VsZCBub3QgY29ubmVjdCB0byBkYXRhYmFzZSwgZXJyOiAke2Vyci5tZXNzYWdlfWAgfSk7XG4gICAgfVxufSk7XG5cbmFwaS5nZXQoJy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VyIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycjogYGNvdWxkIG5vdCBjb25uZWN0IHRvIGRhdGFiYXNlLCBlcnI6ICR7ZXJyLm1lc3NhZ2V9YCB9KTtcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgYXBpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "api",
        "get",
        "req",
        "res",
        "users",
        "User",
        "findAll",
        "status",
        "json",
        "data",
        "meta",
        "err",
        "message",
        "user",
        "findById",
        "params",
        "id"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC7B,MAAI;AACA,UAAMC,KAAK,GAAG,MAAMC,cAAKC,OAAL,EAApB;AACAH,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAE;AAAEL,QAAAA;AAAF,OAAR;AAAmBM,MAAAA,IAAI,EAAE;AAAzB,KAArB;AACH,GAHD,CAGE,OAAOC,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,MAAAA,GAAG,EAAG,uCAAsCA,GAAG,CAACC,OAAQ;AAA1D,KAArB;AACH;AACJ,CAPD;AASAZ,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAChC,MAAI;AACA,UAAMU,IAAI,GAAG,MAAMR,cAAKS,QAAL,CAAcZ,GAAG,CAACa,MAAJ,CAAWC,EAAzB,CAAnB;AACAb,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEK,MAAAA;AAAF,KAArB;AACH,GAHD,CAGE,OAAOF,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,MAAAA,GAAG,EAAG,uCAAsCA,GAAG,CAACC,OAAQ;AAA1D,KAArB;AACH;AACJ,CAPD;eASeZ,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "sourcesContent": [
        "import { Router } from 'express';\nimport User from '../models/user';\n\nconst api = Router();\n\napi.get('/', async (req, res) => {\n    try {\n        const users = await User.findAll();\n        res.status(200).json({ data: { users }, meta: {} });\n    } catch (err) {\n        res.status(400).json({ err: `could not connect to database, err: ${err.message}` });\n    }\n});\n\napi.get('/:id', async (req, res) => {\n    try {\n        const user = await User.findById(req.params.id);\n        res.status(200).json({ user });\n    } catch (err) {\n        res.status(400).json({ err: `could not connect to database, err: ${err.message}` });\n    }\n});\n\nexport default api;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689748891
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/auth.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/auth.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/auth.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nvar _mail = _interopRequireDefault(require(\"../lib/mail\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = (0, _express.Router)();\napi.post('/register', async (req, res) => {\n  const {\n    nickname,\n    email,\n    password,\n    password_confirmation\n  } = req.body;\n\n  try {\n    const user = new _user.default({\n      nickname,\n      email,\n      password,\n      password_confirmation\n    });\n    await user.save();\n\n    _mail.default.send(user.email, 'Welcome', `Hello ${user.nickname}`, `<h1>Hello ${user.nickname}</h1>`);\n\n    const payload = {\n      uuid: user.uuid,\n      nickname,\n      email\n    };\n\n    const token = _jsonwebtoken.default.sign(payload, process.env.JWT_ENCRYPTION);\n\n    res.status(201).json({\n      data: {\n        user\n      },\n      meta: {\n        token\n      }\n    });\n  } catch (err) {\n    res.status(400).json({\n      err\n    });\n  }\n});\napi.post('/login', (req, res) => {\n  _passport.default.authenticate('local', {\n    session: false\n  }, (err, user, message) => {\n    if (err) {\n      res.status(400).json({\n        err\n      });\n    }\n\n    const {\n      uuid,\n      nickname,\n      email\n    } = user.toJSON();\n    const payload = {\n      uuid: user.uuid,\n      nickname,\n      email\n    };\n\n    const token = _jsonwebtoken.default.sign(payload, process.env.JWT_ENCRYPTION);\n\n    res.status(200).json({\n      data: {\n        user: {\n          uuid,\n          nickname,\n          email\n        }\n      },\n      meta: {\n        token\n      }\n    });\n  })(req, res);\n});\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiYXBpIiwicG9zdCIsInJlcSIsInJlcyIsIm5pY2tuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInBhc3N3b3JkX2NvbmZpcm1hdGlvbiIsImJvZHkiLCJ1c2VyIiwiVXNlciIsInNhdmUiLCJNYWlsZXIiLCJzZW5kIiwicGF5bG9hZCIsInV1aWQiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiSldUX0VOQ1JZUFRJT04iLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsIm1ldGEiLCJlcnIiLCJwYXNzcG9ydCIsImF1dGhlbnRpY2F0ZSIsInNlc3Npb24iLCJtZXNzYWdlIiwidG9KU09OIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxHQUFHLEdBQUcsc0JBQVo7QUFFQUEsR0FBRyxDQUFDQyxJQUFKLENBQVMsV0FBVCxFQUFzQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTTtBQUNGQyxJQUFBQSxRQURFO0FBQ1FDLElBQUFBLEtBRFI7QUFDZUMsSUFBQUEsUUFEZjtBQUN5QkMsSUFBQUE7QUFEekIsTUFFRkwsR0FBRyxDQUFDTSxJQUZSOztBQUdBLE1BQUk7QUFDQSxVQUFNQyxJQUFJLEdBQUcsSUFBSUMsYUFBSixDQUFTO0FBQ2xCTixNQUFBQSxRQURrQjtBQUVsQkMsTUFBQUEsS0FGa0I7QUFHbEJDLE1BQUFBLFFBSGtCO0FBSWxCQyxNQUFBQTtBQUprQixLQUFULENBQWI7QUFNQSxVQUFNRSxJQUFJLENBQUNFLElBQUwsRUFBTjs7QUFDQUMsa0JBQU9DLElBQVAsQ0FBWUosSUFBSSxDQUFDSixLQUFqQixFQUF3QixTQUF4QixFQUFvQyxTQUFRSSxJQUFJLENBQUNMLFFBQVMsRUFBMUQsRUFBOEQsYUFBWUssSUFBSSxDQUFDTCxRQUFTLE9BQXhGOztBQUVBLFVBQU1VLE9BQU8sR0FBRztBQUFFQyxNQUFBQSxJQUFJLEVBQUVOLElBQUksQ0FBQ00sSUFBYjtBQUFtQlgsTUFBQUEsUUFBbkI7QUFBNkJDLE1BQUFBO0FBQTdCLEtBQWhCOztBQUNBLFVBQU1XLEtBQUssR0FBR0Msc0JBQUlDLElBQUosQ0FBU0osT0FBVCxFQUFrQkssT0FBTyxDQUFDQyxHQUFSLENBQVlDLGNBQTlCLENBQWQ7O0FBQ0FsQixJQUFBQSxHQUFHLENBQUNtQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsSUFBSSxFQUFFO0FBQUVmLFFBQUFBO0FBQUYsT0FBUjtBQUFrQmdCLE1BQUFBLElBQUksRUFBRTtBQUFFVCxRQUFBQTtBQUFGO0FBQXhCLEtBQXJCO0FBQ0gsR0FiRCxDQWFFLE9BQU9VLEdBQVAsRUFBWTtBQUNWdkIsSUFBQUEsR0FBRyxDQUFDbUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVHLE1BQUFBO0FBQUYsS0FBckI7QUFDSDtBQUNKLENBcEJEO0FBc0JBMUIsR0FBRyxDQUFDQyxJQUFKLENBQVMsUUFBVCxFQUFtQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUM3QndCLG9CQUFTQyxZQUFULENBQ0ksT0FESixFQUVJO0FBQ0lDLElBQUFBLE9BQU8sRUFBRTtBQURiLEdBRkosRUFLSSxDQUFDSCxHQUFELEVBQU1qQixJQUFOLEVBQVlxQixPQUFaLEtBQXdCO0FBQ3BCLFFBQUlKLEdBQUosRUFBUztBQUNMdkIsTUFBQUEsR0FBRyxDQUFDbUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVHLFFBQUFBO0FBQUYsT0FBckI7QUFDSDs7QUFFRCxVQUFNO0FBQUVYLE1BQUFBLElBQUY7QUFBUVgsTUFBQUEsUUFBUjtBQUFrQkMsTUFBQUE7QUFBbEIsUUFBNEJJLElBQUksQ0FBQ3NCLE1BQUwsRUFBbEM7QUFDQSxVQUFNakIsT0FBTyxHQUFHO0FBQUVDLE1BQUFBLElBQUksRUFBRU4sSUFBSSxDQUFDTSxJQUFiO0FBQW1CWCxNQUFBQSxRQUFuQjtBQUE2QkMsTUFBQUE7QUFBN0IsS0FBaEI7O0FBQ0EsVUFBTVcsS0FBSyxHQUFHQyxzQkFBSUMsSUFBSixDQUFTSixPQUFULEVBQWtCSyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsY0FBOUIsQ0FBZDs7QUFDQWxCLElBQUFBLEdBQUcsQ0FBQ21CLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxJQUFJLEVBQUU7QUFBRWYsUUFBQUEsSUFBSSxFQUFFO0FBQUVNLFVBQUFBLElBQUY7QUFBUVgsVUFBQUEsUUFBUjtBQUFrQkMsVUFBQUE7QUFBbEI7QUFBUixPQUFSO0FBQTZDb0IsTUFBQUEsSUFBSSxFQUFFO0FBQUVULFFBQUFBO0FBQUY7QUFBbkQsS0FBckI7QUFDSCxHQWRMLEVBZUVkLEdBZkYsRUFlT0MsR0FmUDtBQWdCSCxDQWpCRDtlQW1CZUgsRyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9FeHByZXNzIElzbGFuZCB8IG5vZGUvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXInO1xuaW1wb3J0IE1haWxlciBmcm9tICcuLi9saWIvbWFpbCc7XG5cbmNvbnN0IGFwaSA9IFJvdXRlcigpO1xuXG5hcGkucG9zdCgnL3JlZ2lzdGVyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgICBuaWNrbmFtZSwgZW1haWwsIHBhc3N3b3JkLCBwYXNzd29yZF9jb25maXJtYXRpb24sXG4gICAgfSA9IHJlcS5ib2R5O1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICBuaWNrbmFtZSxcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICAgICBwYXNzd29yZF9jb25maXJtYXRpb24sXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgICAgTWFpbGVyLnNlbmQodXNlci5lbWFpbCwgJ1dlbGNvbWUnLCBgSGVsbG8gJHt1c2VyLm5pY2tuYW1lfWAsIGA8aDE+SGVsbG8gJHt1c2VyLm5pY2tuYW1lfTwvaDE+YCk7XG5cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgdXVpZDogdXNlci51dWlkLCBuaWNrbmFtZSwgZW1haWwgfTtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihwYXlsb2FkLCBwcm9jZXNzLmVudi5KV1RfRU5DUllQVElPTik7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgZGF0YTogeyB1c2VyIH0sIG1ldGE6IHsgdG9rZW4gfSB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnIgfSk7XG4gICAgfVxufSk7XG5cbmFwaS5wb3N0KCcvbG9naW4nLCAocmVxLCByZXMpID0+IHtcbiAgICBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXG4gICAgICAgICdsb2NhbCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNlc3Npb246IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAoZXJyLCB1c2VyLCBtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnIgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHsgdXVpZCwgbmlja25hbWUsIGVtYWlsIH0gPSB1c2VyLnRvSlNPTigpO1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgdXVpZDogdXNlci51dWlkLCBuaWNrbmFtZSwgZW1haWwgfTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24ocGF5bG9hZCwgcHJvY2Vzcy5lbnYuSldUX0VOQ1JZUFRJT04pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiB7IHVzZXI6IHsgdXVpZCwgbmlja25hbWUsIGVtYWlsIH0gfSwgbWV0YTogeyB0b2tlbiB9IH0pO1xuICAgICAgICB9LFxuICAgICkocmVxLCByZXMpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGFwaTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "api",
        "post",
        "req",
        "res",
        "nickname",
        "email",
        "password",
        "password_confirmation",
        "body",
        "user",
        "User",
        "save",
        "Mailer",
        "send",
        "payload",
        "uuid",
        "token",
        "jwt",
        "sign",
        "process",
        "env",
        "JWT_ENCRYPTION",
        "status",
        "json",
        "data",
        "meta",
        "err",
        "passport",
        "authenticate",
        "session",
        "message",
        "toJSON"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,IAAJ,CAAS,WAAT,EAAsB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM;AACFC,IAAAA,QADE;AACQC,IAAAA,KADR;AACeC,IAAAA,QADf;AACyBC,IAAAA;AADzB,MAEFL,GAAG,CAACM,IAFR;;AAGA,MAAI;AACA,UAAMC,IAAI,GAAG,IAAIC,aAAJ,CAAS;AAClBN,MAAAA,QADkB;AAElBC,MAAAA,KAFkB;AAGlBC,MAAAA,QAHkB;AAIlBC,MAAAA;AAJkB,KAAT,CAAb;AAMA,UAAME,IAAI,CAACE,IAAL,EAAN;;AACAC,kBAAOC,IAAP,CAAYJ,IAAI,CAACJ,KAAjB,EAAwB,SAAxB,EAAoC,SAAQI,IAAI,CAACL,QAAS,EAA1D,EAA8D,aAAYK,IAAI,CAACL,QAAS,OAAxF;;AAEA,UAAMU,OAAO,GAAG;AAAEC,MAAAA,IAAI,EAAEN,IAAI,CAACM,IAAb;AAAmBX,MAAAA,QAAnB;AAA6BC,MAAAA;AAA7B,KAAhB;;AACA,UAAMW,KAAK,GAAGC,sBAAIC,IAAJ,CAASJ,OAAT,EAAkBK,OAAO,CAACC,GAAR,CAAYC,cAA9B,CAAd;;AACAlB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAE;AAAEf,QAAAA;AAAF,OAAR;AAAkBgB,MAAAA,IAAI,EAAE;AAAET,QAAAA;AAAF;AAAxB,KAArB;AACH,GAbD,CAaE,OAAOU,GAAP,EAAY;AACVvB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,MAAAA;AAAF,KAArB;AACH;AACJ,CApBD;AAsBA1B,GAAG,CAACC,IAAJ,CAAS,QAAT,EAAmB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC7BwB,oBAASC,YAAT,CACI,OADJ,EAEI;AACIC,IAAAA,OAAO,EAAE;AADb,GAFJ,EAKI,CAACH,GAAD,EAAMjB,IAAN,EAAYqB,OAAZ,KAAwB;AACpB,QAAIJ,GAAJ,EAAS;AACLvB,MAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,QAAAA;AAAF,OAArB;AACH;;AAED,UAAM;AAAEX,MAAAA,IAAF;AAAQX,MAAAA,QAAR;AAAkBC,MAAAA;AAAlB,QAA4BI,IAAI,CAACsB,MAAL,EAAlC;AACA,UAAMjB,OAAO,GAAG;AAAEC,MAAAA,IAAI,EAAEN,IAAI,CAACM,IAAb;AAAmBX,MAAAA,QAAnB;AAA6BC,MAAAA;AAA7B,KAAhB;;AACA,UAAMW,KAAK,GAAGC,sBAAIC,IAAJ,CAASJ,OAAT,EAAkBK,OAAO,CAACC,GAAR,CAAYC,cAA9B,CAAd;;AACAlB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAE;AAAEf,QAAAA,IAAI,EAAE;AAAEM,UAAAA,IAAF;AAAQX,UAAAA,QAAR;AAAkBC,UAAAA;AAAlB;AAAR,OAAR;AAA6CoB,MAAAA,IAAI,EAAE;AAAET,QAAAA;AAAF;AAAnD,KAArB;AACH,GAdL,EAeEd,GAfF,EAeOC,GAfP;AAgBH,CAjBD;eAmBeH,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/routes",
      "sourcesContent": [
        "import { Router } from 'express';\nimport passport from 'passport';\nimport jwt from 'jsonwebtoken';\nimport User from '../models/user';\nimport Mailer from '../lib/mail';\n\nconst api = Router();\n\napi.post('/register', async (req, res) => {\n    const {\n        nickname, email, password, password_confirmation,\n    } = req.body;\n    try {\n        const user = new User({\n            nickname,\n            email,\n            password,\n            password_confirmation,\n        });\n        await user.save();\n        Mailer.send(user.email, 'Welcome', `Hello ${user.nickname}`, `<h1>Hello ${user.nickname}</h1>`);\n\n        const payload = { uuid: user.uuid, nickname, email };\n        const token = jwt.sign(payload, process.env.JWT_ENCRYPTION);\n        res.status(201).json({ data: { user }, meta: { token } });\n    } catch (err) {\n        res.status(400).json({ err });\n    }\n});\n\napi.post('/login', (req, res) => {\n    passport.authenticate(\n        'local',\n        {\n            session: false,\n        },\n        (err, user, message) => {\n            if (err) {\n                res.status(400).json({ err });\n            }\n\n            const { uuid, nickname, email } = user.toJSON();\n            const payload = { uuid: user.uuid, nickname, email };\n            const token = jwt.sign(payload, process.env.JWT_ENCRYPTION);\n            res.status(200).json({ data: { user: { uuid, nickname, email } }, meta: { token } });\n        },\n    )(req, res);\n});\n\nexport default api;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689690707
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/mail.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/mail.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/mail.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/mail.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
        "sourceFileName": "mail.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nclass Mailer {\n  constructor() {\n    if (!Mailer.instance) {\n      Mailer.instance = this;\n      this.init();\n    }\n\n    return Mailer.instance;\n  }\n\n  init() {\n    this.transporter = _nodemailer.default.createTransport({\n      host: process.env.MAILER_HOST,\n      port: process.env.MAILER_PORT,\n      secure: false,\n      ignoreTLS: true\n    });\n    this.transporter.verify((error, success) => {\n      if (error) {\n        console.log(error);\n      } else {\n        console.log('Server is ready to take our messages');\n      }\n    });\n  }\n\n  send(to, subject, text, html) {\n    const mailOptions = {\n      from: '\"Citadel Administration\" <admin@citadel.com>',\n      to,\n      subject,\n      text,\n      html\n    };\n    this.transporter.sendMail(mailOptions, (error, info) => {\n      if (error) {\n        return console.log(error);\n      }\n\n      return console.log('Message sent: %s', info.messageId);\n    });\n  }\n\n}\n\nconst instance = new Mailer();\nObject.freeze(instance);\nvar _default = instance;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haWwuanMiXSwibmFtZXMiOlsiZG90ZW52IiwiY29uZmlnIiwiTWFpbGVyIiwiY29uc3RydWN0b3IiLCJpbnN0YW5jZSIsImluaXQiLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicHJvY2VzcyIsImVudiIsIk1BSUxFUl9IT1NUIiwicG9ydCIsIk1BSUxFUl9QT1JUIiwic2VjdXJlIiwiaWdub3JlVExTIiwidmVyaWZ5IiwiZXJyb3IiLCJzdWNjZXNzIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ0byIsInN1YmplY3QiLCJ0ZXh0IiwiaHRtbCIsIm1haWxPcHRpb25zIiwiZnJvbSIsInNlbmRNYWlsIiwiaW5mbyIsIm1lc3NhZ2VJZCIsIk9iamVjdCIsImZyZWV6ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUFBLGdCQUFPQyxNQUFQOztBQUVBLE1BQU1DLE1BQU4sQ0FBYTtBQUNUQyxFQUFBQSxXQUFXLEdBQUc7QUFDVixRQUFJLENBQUNELE1BQU0sQ0FBQ0UsUUFBWixFQUFzQjtBQUNsQkYsTUFBQUEsTUFBTSxDQUFDRSxRQUFQLEdBQWtCLElBQWxCO0FBQ0EsV0FBS0MsSUFBTDtBQUNIOztBQUVELFdBQU9ILE1BQU0sQ0FBQ0UsUUFBZDtBQUNIOztBQUVEQyxFQUFBQSxJQUFJLEdBQUc7QUFDSCxTQUFLQyxXQUFMLEdBQW1CQyxvQkFBV0MsZUFBWCxDQUEyQjtBQUMxQ0MsTUFBQUEsSUFBSSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FEd0I7QUFFMUNDLE1BQUFBLElBQUksRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLFdBRndCO0FBRzFDQyxNQUFBQSxNQUFNLEVBQUUsS0FIa0M7QUFJMUNDLE1BQUFBLFNBQVMsRUFBRTtBQUorQixLQUEzQixDQUFuQjtBQU9BLFNBQUtWLFdBQUwsQ0FBaUJXLE1BQWpCLENBQXdCLENBQUNDLEtBQUQsRUFBUUMsT0FBUixLQUFvQjtBQUN4QyxVQUFJRCxLQUFKLEVBQVc7QUFDUEUsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlILEtBQVo7QUFDSCxPQUZELE1BRU87QUFDSEUsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksc0NBQVo7QUFDSDtBQUNKLEtBTkQ7QUFPSDs7QUFFREMsRUFBQUEsSUFBSSxDQUFDQyxFQUFELEVBQUtDLE9BQUwsRUFBY0MsSUFBZCxFQUFvQkMsSUFBcEIsRUFBMEI7QUFDMUIsVUFBTUMsV0FBVyxHQUFHO0FBQ2hCQyxNQUFBQSxJQUFJLEVBQUUsOENBRFU7QUFFaEJMLE1BQUFBLEVBRmdCO0FBR2hCQyxNQUFBQSxPQUhnQjtBQUloQkMsTUFBQUEsSUFKZ0I7QUFLaEJDLE1BQUFBO0FBTGdCLEtBQXBCO0FBUUEsU0FBS3BCLFdBQUwsQ0FBaUJ1QixRQUFqQixDQUEwQkYsV0FBMUIsRUFBdUMsQ0FBQ1QsS0FBRCxFQUFRWSxJQUFSLEtBQWlCO0FBQ3BELFVBQUlaLEtBQUosRUFBVztBQUNQLGVBQU9FLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxLQUFaLENBQVA7QUFDSDs7QUFDRCxhQUFPRSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQkFBWixFQUFnQ1MsSUFBSSxDQUFDQyxTQUFyQyxDQUFQO0FBQ0gsS0FMRDtBQU1IOztBQTFDUTs7QUE2Q2IsTUFBTTNCLFFBQVEsR0FBRyxJQUFJRixNQUFKLEVBQWpCO0FBQ0E4QixNQUFNLENBQUNDLE1BQVAsQ0FBYzdCLFFBQWQ7ZUFFZUEsUSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9FeHByZXNzIElzbGFuZCB8IG5vZGUvbGliIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5vZGVtYWlsZXIgZnJvbSAnbm9kZW1haWxlcic7XG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5cbmRvdGVudi5jb25maWcoKTtcblxuY2xhc3MgTWFpbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgaWYgKCFNYWlsZXIuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIE1haWxlci5pbnN0YW5jZSA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBNYWlsZXIuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy50cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgICAgICAgICAgIGhvc3Q6IHByb2Nlc3MuZW52Lk1BSUxFUl9IT1NULFxuICAgICAgICAgICAgcG9ydDogcHJvY2Vzcy5lbnYuTUFJTEVSX1BPUlQsXG4gICAgICAgICAgICBzZWN1cmU6IGZhbHNlLFxuICAgICAgICAgICAgaWdub3JlVExTOiB0cnVlLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnRyYW5zcG9ydGVyLnZlcmlmeSgoZXJyb3IsIHN1Y2Nlc3MpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZlciBpcyByZWFkeSB0byB0YWtlIG91ciBtZXNzYWdlcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZW5kKHRvLCBzdWJqZWN0LCB0ZXh0LCBodG1sKSB7XG4gICAgICAgIGNvbnN0IG1haWxPcHRpb25zID0ge1xuICAgICAgICAgICAgZnJvbTogJ1wiQ2l0YWRlbCBBZG1pbmlzdHJhdGlvblwiIDxhZG1pbkBjaXRhZGVsLmNvbT4nLFxuICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICBzdWJqZWN0LFxuICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIGh0bWwsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy50cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucywgKGVycm9yLCBpbmZvKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdNZXNzYWdlIHNlbnQ6ICVzJywgaW5mby5tZXNzYWdlSWQpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmNvbnN0IGluc3RhbmNlID0gbmV3IE1haWxlcigpO1xuT2JqZWN0LmZyZWV6ZShpbnN0YW5jZSk7XG5cbmV4cG9ydCBkZWZhdWx0IGluc3RhbmNlOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "mail.js"
      ],
      "names": [
        "dotenv",
        "config",
        "Mailer",
        "constructor",
        "instance",
        "init",
        "transporter",
        "nodemailer",
        "createTransport",
        "host",
        "process",
        "env",
        "MAILER_HOST",
        "port",
        "MAILER_PORT",
        "secure",
        "ignoreTLS",
        "verify",
        "error",
        "success",
        "console",
        "log",
        "send",
        "to",
        "subject",
        "text",
        "html",
        "mailOptions",
        "from",
        "sendMail",
        "info",
        "messageId",
        "Object",
        "freeze"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMC,MAAN,CAAa;AACTC,EAAAA,WAAW,GAAG;AACV,QAAI,CAACD,MAAM,CAACE,QAAZ,EAAsB;AAClBF,MAAAA,MAAM,CAACE,QAAP,GAAkB,IAAlB;AACA,WAAKC,IAAL;AACH;;AAED,WAAOH,MAAM,CAACE,QAAd;AACH;;AAEDC,EAAAA,IAAI,GAAG;AACH,SAAKC,WAAL,GAAmBC,oBAAWC,eAAX,CAA2B;AAC1CC,MAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADwB;AAE1CC,MAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFwB;AAG1CC,MAAAA,MAAM,EAAE,KAHkC;AAI1CC,MAAAA,SAAS,EAAE;AAJ+B,KAA3B,CAAnB;AAOA,SAAKV,WAAL,CAAiBW,MAAjB,CAAwB,CAACC,KAAD,EAAQC,OAAR,KAAoB;AACxC,UAAID,KAAJ,EAAW;AACPE,QAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACH,OAFD,MAEO;AACHE,QAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACH;AACJ,KAND;AAOH;;AAEDC,EAAAA,IAAI,CAACC,EAAD,EAAKC,OAAL,EAAcC,IAAd,EAAoBC,IAApB,EAA0B;AAC1B,UAAMC,WAAW,GAAG;AAChBC,MAAAA,IAAI,EAAE,8CADU;AAEhBL,MAAAA,EAFgB;AAGhBC,MAAAA,OAHgB;AAIhBC,MAAAA,IAJgB;AAKhBC,MAAAA;AALgB,KAApB;AAQA,SAAKpB,WAAL,CAAiBuB,QAAjB,CAA0BF,WAA1B,EAAuC,CAACT,KAAD,EAAQY,IAAR,KAAiB;AACpD,UAAIZ,KAAJ,EAAW;AACP,eAAOE,OAAO,CAACC,GAAR,CAAYH,KAAZ,CAAP;AACH;;AACD,aAAOE,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCS,IAAI,CAACC,SAArC,CAAP;AACH,KALD;AAMH;;AA1CQ;;AA6Cb,MAAM3B,QAAQ,GAAG,IAAIF,MAAJ,EAAjB;AACA8B,MAAM,CAACC,MAAP,CAAc7B,QAAd;eAEeA,Q",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
      "sourcesContent": [
        "import nodemailer from 'nodemailer';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nclass Mailer {\n    constructor() {\n        if (!Mailer.instance) {\n            Mailer.instance = this;\n            this.init();\n        }\n\n        return Mailer.instance;\n    }\n\n    init() {\n        this.transporter = nodemailer.createTransport({\n            host: process.env.MAILER_HOST,\n            port: process.env.MAILER_PORT,\n            secure: false,\n            ignoreTLS: true,\n        });\n\n        this.transporter.verify((error, success) => {\n            if (error) {\n                console.log(error);\n            } else {\n                console.log('Server is ready to take our messages');\n            }\n        });\n    }\n\n    send(to, subject, text, html) {\n        const mailOptions = {\n            from: '\"Citadel Administration\" <admin@citadel.com>',\n            to,\n            subject,\n            text,\n            html,\n        };\n\n        this.transporter.sendMail(mailOptions, (error, info) => {\n            if (error) {\n                return console.log(error);\n            }\n            return console.log('Message sent: %s', info.messageId);\n        });\n    }\n}\n\nconst instance = new Mailer();\nObject.freeze(instance);\n\nexport default instance;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689837828
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/mail.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/mail.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/mail.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib/mail.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
        "sourceFileName": "mail.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nclass Mailer {\n  constructor() {\n    if (!Mailer.instance) {\n      Mailer.instance = this;\n      this.init();\n    }\n\n    return Mailer.instance;\n  }\n\n  init() {\n    this.transporter = _nodemailer.default.createTransport({\n      host: process.env.MAILER_HOST,\n      port: process.env.MAILER_PORT,\n      secure: false,\n      ignoreTLS: true\n    });\n    this.transporter.verify((error, success) => {\n      if (error) {\n        console.log(error);\n      } else {\n        console.log('Server is ready to take our messages');\n      }\n    });\n  }\n\n  send(to, subject, text, html) {\n    const mailOptions = {\n      from: '\"Citadel Administration\" <admin@citadel.com>',\n      to,\n      subject,\n      text,\n      html\n    };\n    this.transporter.sendMail(mailOptions, (error, info) => {\n      if (error) {\n        return console.log(error);\n      }\n\n      return console.log('Message sent: %s', info.messageId);\n    });\n  }\n\n}\n\nconst instance = new Mailer();\nObject.freeze(instance);\nvar _default = instance;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haWwuanMiXSwibmFtZXMiOlsiZG90ZW52IiwiY29uZmlnIiwiTWFpbGVyIiwiY29uc3RydWN0b3IiLCJpbnN0YW5jZSIsImluaXQiLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicHJvY2VzcyIsImVudiIsIk1BSUxFUl9IT1NUIiwicG9ydCIsIk1BSUxFUl9QT1JUIiwic2VjdXJlIiwiaWdub3JlVExTIiwidmVyaWZ5IiwiZXJyb3IiLCJzdWNjZXNzIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ0byIsInN1YmplY3QiLCJ0ZXh0IiwiaHRtbCIsIm1haWxPcHRpb25zIiwiZnJvbSIsInNlbmRNYWlsIiwiaW5mbyIsIm1lc3NhZ2VJZCIsIk9iamVjdCIsImZyZWV6ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUFBLGdCQUFPQyxNQUFQOztBQUVBLE1BQU1DLE1BQU4sQ0FBYTtBQUNUQyxFQUFBQSxXQUFXLEdBQUc7QUFDVixRQUFJLENBQUNELE1BQU0sQ0FBQ0UsUUFBWixFQUFzQjtBQUNsQkYsTUFBQUEsTUFBTSxDQUFDRSxRQUFQLEdBQWtCLElBQWxCO0FBQ0EsV0FBS0MsSUFBTDtBQUNIOztBQUVELFdBQU9ILE1BQU0sQ0FBQ0UsUUFBZDtBQUNIOztBQUVEQyxFQUFBQSxJQUFJLEdBQUc7QUFDSCxTQUFLQyxXQUFMLEdBQW1CQyxvQkFBV0MsZUFBWCxDQUEyQjtBQUMxQ0MsTUFBQUEsSUFBSSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FEd0I7QUFFMUNDLE1BQUFBLElBQUksRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLFdBRndCO0FBRzFDQyxNQUFBQSxNQUFNLEVBQUUsS0FIa0M7QUFJMUNDLE1BQUFBLFNBQVMsRUFBRTtBQUorQixLQUEzQixDQUFuQjtBQU9BLFNBQUtWLFdBQUwsQ0FBaUJXLE1BQWpCLENBQXdCLENBQUNDLEtBQUQsRUFBUUMsT0FBUixLQUFvQjtBQUN4QyxVQUFJRCxLQUFKLEVBQVc7QUFDUEUsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlILEtBQVo7QUFDSCxPQUZELE1BRU87QUFDSEUsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksc0NBQVo7QUFDSDtBQUNKLEtBTkQ7QUFPSDs7QUFFREMsRUFBQUEsSUFBSSxDQUFDQyxFQUFELEVBQUtDLE9BQUwsRUFBY0MsSUFBZCxFQUFvQkMsSUFBcEIsRUFBMEI7QUFDMUIsVUFBTUMsV0FBVyxHQUFHO0FBQ2hCQyxNQUFBQSxJQUFJLEVBQUUsOENBRFU7QUFFaEJMLE1BQUFBLEVBRmdCO0FBR2hCQyxNQUFBQSxPQUhnQjtBQUloQkMsTUFBQUEsSUFKZ0I7QUFLaEJDLE1BQUFBO0FBTGdCLEtBQXBCO0FBUUEsU0FBS3BCLFdBQUwsQ0FBaUJ1QixRQUFqQixDQUEwQkYsV0FBMUIsRUFBdUMsQ0FBQ1QsS0FBRCxFQUFRWSxJQUFSLEtBQWlCO0FBQ3BELFVBQUlaLEtBQUosRUFBVztBQUNQLGVBQU9FLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxLQUFaLENBQVA7QUFDSDs7QUFDRCxhQUFPRSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQkFBWixFQUFnQ1MsSUFBSSxDQUFDQyxTQUFyQyxDQUFQO0FBQ0gsS0FMRDtBQU1IOztBQTFDUTs7QUE2Q2IsTUFBTTNCLFFBQVEsR0FBRyxJQUFJRixNQUFKLEVBQWpCO0FBQ0E4QixNQUFNLENBQUNDLE1BQVAsQ0FBYzdCLFFBQWQ7ZUFFZUEsUSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9FeHByZXNzIElzbGFuZCB8IG5vZGUvbGliIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5vZGVtYWlsZXIgZnJvbSAnbm9kZW1haWxlcic7XG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5cbmRvdGVudi5jb25maWcoKTtcblxuY2xhc3MgTWFpbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgaWYgKCFNYWlsZXIuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIE1haWxlci5pbnN0YW5jZSA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBNYWlsZXIuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy50cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgICAgICAgICAgIGhvc3Q6IHByb2Nlc3MuZW52Lk1BSUxFUl9IT1NULFxuICAgICAgICAgICAgcG9ydDogcHJvY2Vzcy5lbnYuTUFJTEVSX1BPUlQsXG4gICAgICAgICAgICBzZWN1cmU6IGZhbHNlLFxuICAgICAgICAgICAgaWdub3JlVExTOiB0cnVlLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnRyYW5zcG9ydGVyLnZlcmlmeSgoZXJyb3IsIHN1Y2Nlc3MpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZlciBpcyByZWFkeSB0byB0YWtlIG91ciBtZXNzYWdlcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZW5kKHRvLCBzdWJqZWN0LCB0ZXh0LCBodG1sKSB7XG4gICAgICAgIGNvbnN0IG1haWxPcHRpb25zID0ge1xuICAgICAgICAgICAgZnJvbTogJ1wiQ2l0YWRlbCBBZG1pbmlzdHJhdGlvblwiIDxhZG1pbkBjaXRhZGVsLmNvbT4nLFxuICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICBzdWJqZWN0LFxuICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIGh0bWwsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy50cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucywgKGVycm9yLCBpbmZvKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdNZXNzYWdlIHNlbnQ6ICVzJywgaW5mby5tZXNzYWdlSWQpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmNvbnN0IGluc3RhbmNlID0gbmV3IE1haWxlcigpO1xuT2JqZWN0LmZyZWV6ZShpbnN0YW5jZSk7XG5cbmV4cG9ydCBkZWZhdWx0IGluc3RhbmNlOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "mail.js"
      ],
      "names": [
        "dotenv",
        "config",
        "Mailer",
        "constructor",
        "instance",
        "init",
        "transporter",
        "nodemailer",
        "createTransport",
        "host",
        "process",
        "env",
        "MAILER_HOST",
        "port",
        "MAILER_PORT",
        "secure",
        "ignoreTLS",
        "verify",
        "error",
        "success",
        "console",
        "log",
        "send",
        "to",
        "subject",
        "text",
        "html",
        "mailOptions",
        "from",
        "sendMail",
        "info",
        "messageId",
        "Object",
        "freeze"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMC,MAAN,CAAa;AACTC,EAAAA,WAAW,GAAG;AACV,QAAI,CAACD,MAAM,CAACE,QAAZ,EAAsB;AAClBF,MAAAA,MAAM,CAACE,QAAP,GAAkB,IAAlB;AACA,WAAKC,IAAL;AACH;;AAED,WAAOH,MAAM,CAACE,QAAd;AACH;;AAEDC,EAAAA,IAAI,GAAG;AACH,SAAKC,WAAL,GAAmBC,oBAAWC,eAAX,CAA2B;AAC1CC,MAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADwB;AAE1CC,MAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFwB;AAG1CC,MAAAA,MAAM,EAAE,KAHkC;AAI1CC,MAAAA,SAAS,EAAE;AAJ+B,KAA3B,CAAnB;AAOA,SAAKV,WAAL,CAAiBW,MAAjB,CAAwB,CAACC,KAAD,EAAQC,OAAR,KAAoB;AACxC,UAAID,KAAJ,EAAW;AACPE,QAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACH,OAFD,MAEO;AACHE,QAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACH;AACJ,KAND;AAOH;;AAEDC,EAAAA,IAAI,CAACC,EAAD,EAAKC,OAAL,EAAcC,IAAd,EAAoBC,IAApB,EAA0B;AAC1B,UAAMC,WAAW,GAAG;AAChBC,MAAAA,IAAI,EAAE,8CADU;AAEhBL,MAAAA,EAFgB;AAGhBC,MAAAA,OAHgB;AAIhBC,MAAAA,IAJgB;AAKhBC,MAAAA;AALgB,KAApB;AAQA,SAAKpB,WAAL,CAAiBuB,QAAjB,CAA0BF,WAA1B,EAAuC,CAACT,KAAD,EAAQY,IAAR,KAAiB;AACpD,UAAIZ,KAAJ,EAAW;AACP,eAAOE,OAAO,CAACC,GAAR,CAAYH,KAAZ,CAAP;AACH;;AACD,aAAOE,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCS,IAAI,CAACC,SAArC,CAAP;AACH,KALD;AAMH;;AA1CQ;;AA6Cb,MAAM3B,QAAQ,GAAG,IAAIF,MAAJ,EAAjB;AACA8B,MAAM,CAACC,MAAP,CAAc7B,QAAd;eAEeA,Q",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/lib",
      "sourcesContent": [
        "import nodemailer from 'nodemailer';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nclass Mailer {\n    constructor() {\n        if (!Mailer.instance) {\n            Mailer.instance = this;\n            this.init();\n        }\n\n        return Mailer.instance;\n    }\n\n    init() {\n        this.transporter = nodemailer.createTransport({\n            host: process.env.MAILER_HOST,\n            port: process.env.MAILER_PORT,\n            secure: false,\n            ignoreTLS: true,\n        });\n\n        this.transporter.verify((error, success) => {\n            if (error) {\n                console.log(error);\n            } else {\n                console.log('Server is ready to take our messages');\n            }\n        });\n    }\n\n    send(to, subject, text, html) {\n        const mailOptions = {\n            from: '\"Citadel Administration\" <admin@citadel.com>',\n            to,\n            subject,\n            text,\n            html,\n        };\n\n        this.transporter.sendMail(mailOptions, (error, info) => {\n            if (error) {\n                return console.log(error);\n            }\n            return console.log('Message sent: %s', info.messageId);\n        });\n    }\n}\n\nconst instance = new Mailer();\nObject.freeze(instance);\n\nexport default instance;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689837828
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares/passport.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares/passport.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares/passport.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares/passport.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares",
        "sourceFileName": "passport.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _passportLocal = require(\"passport-local\");\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_passport.default.use(new _passportLocal.Strategy({\n  usernameField: \"nickname\",\n  passwordField: \"password\"\n}, async (nickname, password, done) => {\n  try {\n    const user = await _user.default.findOne({\n      where: {\n        nickname\n      }\n    });\n\n    if (user === null) {\n      return done('Please check your nickname');\n    }\n\n    if (!(await user.checkPassword(password))) {\n      return done('incorrect password.');\n    }\n\n    done(false, user);\n  } catch (err) {\n    done(`Something wrong happend : ${err.message}`);\n  }\n}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sIm5hbWVzIjpbInBhc3Nwb3J0IiwidXNlIiwiU3RyYXRlZ3kiLCJ1c2VybmFtZUZpZWxkIiwicGFzc3dvcmRGaWVsZCIsIm5pY2tuYW1lIiwicGFzc3dvcmQiLCJkb25lIiwidXNlciIsIlVzZXIiLCJmaW5kT25lIiwid2hlcmUiLCJjaGVja1Bhc3N3b3JkIiwiZXJyIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBQSxrQkFBU0MsR0FBVCxDQUFhLElBQUlDLHVCQUFKLENBQ1Q7QUFDSUMsRUFBQUEsYUFBYSxFQUFFLFVBRG5CO0FBRUlDLEVBQUFBLGFBQWEsRUFBRTtBQUZuQixDQURTLEVBS1QsT0FBT0MsUUFBUCxFQUFpQkMsUUFBakIsRUFBMkJDLElBQTNCLEtBQW9DO0FBQ2hDLE1BQUk7QUFDQSxVQUFNQyxJQUFJLEdBQUcsTUFBTUMsY0FBS0MsT0FBTCxDQUFhO0FBQUVDLE1BQUFBLEtBQUssRUFBRTtBQUFDTixRQUFBQTtBQUFEO0FBQVQsS0FBYixDQUFuQjs7QUFFQSxRQUFJRyxJQUFJLEtBQUssSUFBYixFQUFrQjtBQUNkLGFBQU9ELElBQUksQ0FBQyw0QkFBRCxDQUFYO0FBQ0g7O0FBRUQsUUFBSSxFQUFFLE1BQU1DLElBQUksQ0FBQ0ksYUFBTCxDQUFtQk4sUUFBbkIsQ0FBUixDQUFKLEVBQTBDO0FBQ3RDLGFBQU9DLElBQUksQ0FBQyxxQkFBRCxDQUFYO0FBQ0g7O0FBQ0RBLElBQUFBLElBQUksQ0FBQyxLQUFELEVBQVFDLElBQVIsQ0FBSjtBQUNILEdBWEQsQ0FXRSxPQUFPSyxHQUFQLEVBQVk7QUFDVk4sSUFBQUEsSUFBSSxDQUFFLDZCQUE0Qk0sR0FBRyxDQUFDQyxPQUFRLEVBQTFDLENBQUo7QUFDSDtBQUNKLENBcEJRLENBQWIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvRXhwcmVzcyBJc2xhbmQgfCBub2RlL21pZGRsZXdhcmVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCB7U3RyYXRlZ3l9IGZyb20gJ3Bhc3Nwb3J0LWxvY2FsJ1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXInXG5cbnBhc3Nwb3J0LnVzZShuZXcgU3RyYXRlZ3koXG4gICAge1xuICAgICAgICB1c2VybmFtZUZpZWxkOiBcIm5pY2tuYW1lXCIsXG4gICAgICAgIHBhc3N3b3JkRmllbGQ6IFwicGFzc3dvcmRcIlxuICAgIH0sXG4gICAgYXN5bmMgKG5pY2tuYW1lLCBwYXNzd29yZCwgZG9uZSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHdoZXJlOiB7bmlja25hbWV9fSlcblxuICAgICAgICAgICAgaWYgKHVzZXIgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgIHJldHVybiBkb25lKCdQbGVhc2UgY2hlY2sgeW91ciBuaWNrbmFtZScpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKGF3YWl0IHVzZXIuY2hlY2tQYXNzd29yZChwYXNzd29yZCkpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZSgnaW5jb3JyZWN0IHBhc3N3b3JkLicpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb25lKGZhbHNlLCB1c2VyKVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGRvbmUoYFNvbWV0aGluZyB3cm9uZyBoYXBwZW5kIDogJHtlcnIubWVzc2FnZX1gKVxuICAgICAgICB9XG4gICAgfSkpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "passport.js"
      ],
      "names": [
        "passport",
        "use",
        "Strategy",
        "usernameField",
        "passwordField",
        "nickname",
        "password",
        "done",
        "user",
        "User",
        "findOne",
        "where",
        "checkPassword",
        "err",
        "message"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;;;AAEAA,kBAASC,GAAT,CAAa,IAAIC,uBAAJ,CACT;AACIC,EAAAA,aAAa,EAAE,UADnB;AAEIC,EAAAA,aAAa,EAAE;AAFnB,CADS,EAKT,OAAOC,QAAP,EAAiBC,QAAjB,EAA2BC,IAA3B,KAAoC;AAChC,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMC,cAAKC,OAAL,CAAa;AAAEC,MAAAA,KAAK,EAAE;AAACN,QAAAA;AAAD;AAAT,KAAb,CAAnB;;AAEA,QAAIG,IAAI,KAAK,IAAb,EAAkB;AACd,aAAOD,IAAI,CAAC,4BAAD,CAAX;AACH;;AAED,QAAI,EAAE,MAAMC,IAAI,CAACI,aAAL,CAAmBN,QAAnB,CAAR,CAAJ,EAA0C;AACtC,aAAOC,IAAI,CAAC,qBAAD,CAAX;AACH;;AACDA,IAAAA,IAAI,CAAC,KAAD,EAAQC,IAAR,CAAJ;AACH,GAXD,CAWE,OAAOK,GAAP,EAAY;AACVN,IAAAA,IAAI,CAAE,6BAA4BM,GAAG,CAACC,OAAQ,EAA1C,CAAJ;AACH;AACJ,CApBQ,CAAb",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares",
      "sourcesContent": [
        "import passport from 'passport';\nimport {Strategy} from 'passport-local'\nimport User from '../models/user'\n\npassport.use(new Strategy(\n    {\n        usernameField: \"nickname\",\n        passwordField: \"password\"\n    },\n    async (nickname, password, done) => {\n        try {\n            const user = await User.findOne({ where: {nickname}})\n\n            if (user === null){\n                return done('Please check your nickname')\n            }\n\n            if (!(await user.checkPassword(password))){\n                return done('incorrect password.')\n            }\n            done(false, user)\n        } catch (err) {\n            done(`Something wrong happend : ${err.message}`)\n        }\n    }));"
      ]
    },
    "sourceType": "script",
    "mtime": 1541683864211
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares/passport.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares/passport.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares/passport.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares/passport.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares",
        "sourceFileName": "passport.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _passportLocal = require(\"passport-local\");\n\nvar _passportJwt = require(\"passport-jwt\");\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_passport.default.use(new _passportLocal.Strategy({\n  usernameField: 'nickname',\n  passwordField: 'password'\n}, async (nickname, password, done) => {\n  try {\n    const user = await _user.default.findOne({\n      where: {\n        nickname\n      }\n    });\n\n    if (!user) {\n      done('invalid nickname');\n    }\n\n    if (!(await user.checkPwd(password))) {\n      done('wrong password');\n    }\n\n    done(false, user);\n  } catch (err) {\n    done(`${err.messages}`);\n  }\n}));\n\n_passport.default.use(new _passportJwt.Strategy({\n  jwtFromRequest: _passportJwt.ExtractJwt.fromAuthHeaderAsBearerToken(),\n  secretOrKey: process.env.JWT_ENCRYPTION\n}, async (jwtPayload, done) => {\n  try {\n    const user = await _user.default.findOne({\n      where: {\n        uuid: jwtPayload.uuid\n      }\n    });\n\n    if (user) {\n      done(false, null);\n    }\n  } catch (err) {\n    done(err);\n  }\n}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sIm5hbWVzIjpbInBhc3Nwb3J0IiwidXNlIiwiTG9jYWxTdHJhdGVneSIsInVzZXJuYW1lRmllbGQiLCJwYXNzd29yZEZpZWxkIiwibmlja25hbWUiLCJwYXNzd29yZCIsImRvbmUiLCJ1c2VyIiwiVXNlciIsImZpbmRPbmUiLCJ3aGVyZSIsImNoZWNrUHdkIiwiZXJyIiwibWVzc2FnZXMiLCJKc29uV2ViVG9rZW5TdHJhdGVneSIsImp3dEZyb21SZXF1ZXN0IiwiRXh0cmFjdEp3dCIsImZyb21BdXRoSGVhZGVyQXNCZWFyZXJUb2tlbiIsInNlY3JldE9yS2V5IiwicHJvY2VzcyIsImVudiIsIkpXVF9FTkNSWVBUSU9OIiwiand0UGF5bG9hZCIsInV1aWQiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQUEsa0JBQVNDLEdBQVQsQ0FDSSxJQUFJQyx1QkFBSixDQUNJO0FBQUVDLEVBQUFBLGFBQWEsRUFBRSxVQUFqQjtBQUE2QkMsRUFBQUEsYUFBYSxFQUFFO0FBQTVDLENBREosRUFFSSxPQUFPQyxRQUFQLEVBQWlCQyxRQUFqQixFQUEyQkMsSUFBM0IsS0FBb0M7QUFDaEMsTUFBSTtBQUNBLFVBQU1DLElBQUksR0FBRyxNQUFNQyxjQUFLQyxPQUFMLENBQWE7QUFBRUMsTUFBQUEsS0FBSyxFQUFFO0FBQUVOLFFBQUFBO0FBQUY7QUFBVCxLQUFiLENBQW5COztBQUNBLFFBQUksQ0FBQ0csSUFBTCxFQUFXO0FBQ1BELE1BQUFBLElBQUksQ0FBQyxrQkFBRCxDQUFKO0FBQ0g7O0FBQ0QsUUFBSSxFQUFFLE1BQU1DLElBQUksQ0FBQ0ksUUFBTCxDQUFjTixRQUFkLENBQVIsQ0FBSixFQUFzQztBQUNsQ0MsTUFBQUEsSUFBSSxDQUFDLGdCQUFELENBQUo7QUFDSDs7QUFDREEsSUFBQUEsSUFBSSxDQUFDLEtBQUQsRUFBUUMsSUFBUixDQUFKO0FBQ0gsR0FURCxDQVNFLE9BQU9LLEdBQVAsRUFBWTtBQUNWTixJQUFBQSxJQUFJLENBQUUsR0FBRU0sR0FBRyxDQUFDQyxRQUFTLEVBQWpCLENBQUo7QUFDSDtBQUNKLENBZkwsQ0FESjs7QUFvQkFkLGtCQUFTQyxHQUFULENBQ0ksSUFBSWMscUJBQUosQ0FDSTtBQUNJQyxFQUFBQSxjQUFjLEVBQUVDLHdCQUFXQywyQkFBWCxFQURwQjtBQUVJQyxFQUFBQSxXQUFXLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQztBQUY3QixDQURKLEVBS0ksT0FBT0MsVUFBUCxFQUFtQmhCLElBQW5CLEtBQTRCO0FBQ3hCLE1BQUk7QUFDQSxVQUFNQyxJQUFJLEdBQUcsTUFBTUMsY0FBS0MsT0FBTCxDQUFhO0FBQUVDLE1BQUFBLEtBQUssRUFBRTtBQUFFYSxRQUFBQSxJQUFJLEVBQUVELFVBQVUsQ0FBQ0M7QUFBbkI7QUFBVCxLQUFiLENBQW5COztBQUVBLFFBQUloQixJQUFKLEVBQVU7QUFDTkQsTUFBQUEsSUFBSSxDQUFDLEtBQUQsRUFBUSxJQUFSLENBQUo7QUFDSDtBQUNKLEdBTkQsQ0FNRSxPQUFPTSxHQUFQLEVBQVk7QUFDVk4sSUFBQUEsSUFBSSxDQUFDTSxHQUFELENBQUo7QUFDSDtBQUNKLENBZkwsQ0FESiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9FeHByZXNzIElzbGFuZCB8IG5vZGUvbWlkZGxld2FyZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IHsgU3RyYXRlZ3kgYXMgTG9jYWxTdHJhdGVneSB9IGZyb20gJ3Bhc3Nwb3J0LWxvY2FsJztcbmltcG9ydCB7IFN0cmF0ZWd5IGFzIEpzb25XZWJUb2tlblN0cmF0ZWd5LCBFeHRyYWN0Snd0IH0gZnJvbSAncGFzc3BvcnQtand0JztcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyJztcblxucGFzc3BvcnQudXNlKFxuICAgIG5ldyBMb2NhbFN0cmF0ZWd5KFxuICAgICAgICB7IHVzZXJuYW1lRmllbGQ6ICduaWNrbmFtZScsIHBhc3N3b3JkRmllbGQ6ICdwYXNzd29yZCcgfSxcbiAgICAgICAgYXN5bmMgKG5pY2tuYW1lLCBwYXNzd29yZCwgZG9uZSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgd2hlcmU6IHsgbmlja25hbWUgfSB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgnaW52YWxpZCBuaWNrbmFtZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIShhd2FpdCB1c2VyLmNoZWNrUHdkKHBhc3N3b3JkKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgnd3JvbmcgcGFzc3dvcmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9uZShmYWxzZSwgdXNlcik7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBkb25lKGAke2Vyci5tZXNzYWdlc31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICApLFxuKTtcblxucGFzc3BvcnQudXNlKFxuICAgIG5ldyBKc29uV2ViVG9rZW5TdHJhdGVneShcbiAgICAgICAge1xuICAgICAgICAgICAgand0RnJvbVJlcXVlc3Q6IEV4dHJhY3RKd3QuZnJvbUF1dGhIZWFkZXJBc0JlYXJlclRva2VuKCksXG4gICAgICAgICAgICBzZWNyZXRPcktleTogcHJvY2Vzcy5lbnYuSldUX0VOQ1JZUFRJT04sXG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIChqd3RQYXlsb2FkLCBkb25lKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyB3aGVyZTogeyB1dWlkOiBqd3RQYXlsb2FkLnV1aWQgfSB9KTtcblxuICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUoZmFsc2UsIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGRvbmUoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICApLFxuKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "passport.js"
      ],
      "names": [
        "passport",
        "use",
        "LocalStrategy",
        "usernameField",
        "passwordField",
        "nickname",
        "password",
        "done",
        "user",
        "User",
        "findOne",
        "where",
        "checkPwd",
        "err",
        "messages",
        "JsonWebTokenStrategy",
        "jwtFromRequest",
        "ExtractJwt",
        "fromAuthHeaderAsBearerToken",
        "secretOrKey",
        "process",
        "env",
        "JWT_ENCRYPTION",
        "jwtPayload",
        "uuid"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;;;AAEAA,kBAASC,GAAT,CACI,IAAIC,uBAAJ,CACI;AAAEC,EAAAA,aAAa,EAAE,UAAjB;AAA6BC,EAAAA,aAAa,EAAE;AAA5C,CADJ,EAEI,OAAOC,QAAP,EAAiBC,QAAjB,EAA2BC,IAA3B,KAAoC;AAChC,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMC,cAAKC,OAAL,CAAa;AAAEC,MAAAA,KAAK,EAAE;AAAEN,QAAAA;AAAF;AAAT,KAAb,CAAnB;;AACA,QAAI,CAACG,IAAL,EAAW;AACPD,MAAAA,IAAI,CAAC,kBAAD,CAAJ;AACH;;AACD,QAAI,EAAE,MAAMC,IAAI,CAACI,QAAL,CAAcN,QAAd,CAAR,CAAJ,EAAsC;AAClCC,MAAAA,IAAI,CAAC,gBAAD,CAAJ;AACH;;AACDA,IAAAA,IAAI,CAAC,KAAD,EAAQC,IAAR,CAAJ;AACH,GATD,CASE,OAAOK,GAAP,EAAY;AACVN,IAAAA,IAAI,CAAE,GAAEM,GAAG,CAACC,QAAS,EAAjB,CAAJ;AACH;AACJ,CAfL,CADJ;;AAoBAd,kBAASC,GAAT,CACI,IAAIc,qBAAJ,CACI;AACIC,EAAAA,cAAc,EAAEC,wBAAWC,2BAAX,EADpB;AAEIC,EAAAA,WAAW,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAF7B,CADJ,EAKI,OAAOC,UAAP,EAAmBhB,IAAnB,KAA4B;AACxB,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMC,cAAKC,OAAL,CAAa;AAAEC,MAAAA,KAAK,EAAE;AAAEa,QAAAA,IAAI,EAAED,UAAU,CAACC;AAAnB;AAAT,KAAb,CAAnB;;AAEA,QAAIhB,IAAJ,EAAU;AACND,MAAAA,IAAI,CAAC,KAAD,EAAQ,IAAR,CAAJ;AACH;AACJ,GAND,CAME,OAAOM,GAAP,EAAY;AACVN,IAAAA,IAAI,CAACM,GAAD,CAAJ;AACH;AACJ,CAfL,CADJ",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/Express Island | node/middlewares",
      "sourcesContent": [
        "import passport from 'passport';\nimport { Strategy as LocalStrategy } from 'passport-local';\nimport { Strategy as JsonWebTokenStrategy, ExtractJwt } from 'passport-jwt';\nimport User from '../models/user';\n\npassport.use(\n    new LocalStrategy(\n        { usernameField: 'nickname', passwordField: 'password' },\n        async (nickname, password, done) => {\n            try {\n                const user = await User.findOne({ where: { nickname } });\n                if (!user) {\n                    done('invalid nickname');\n                }\n                if (!(await user.checkPwd(password))) {\n                    done('wrong password');\n                }\n                done(false, user);\n            } catch (err) {\n                done(`${err.messages}`);\n            }\n        },\n    ),\n);\n\npassport.use(\n    new JsonWebTokenStrategy(\n        {\n            jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n            secretOrKey: process.env.JWT_ENCRYPTION,\n        },\n        async (jwtPayload, done) => {\n            try {\n                const user = await User.findOne({ where: { uuid: jwtPayload.uuid } });\n\n                if (user) {\n                    done(false, null);\n                }\n            } catch (err) {\n                done(err);\n            }\n        },\n    ),\n);"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689880325
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/server.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _utils = require(\"./lib/utils\");\n\nvar _models = require(\"./models\");\n\nvar _routes = _interopRequireDefault(require(\"./routes\"));\n\nrequire(\"./middlewares/passport\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst port = parseInt(process.argv[2], 10) || process.env.PORT;\nconst app = (0, _express.default)();\napp.use(_passport.default.initialize());\napp.use(_bodyParser.default.json());\napp.use(_bodyParser.default.urlencoded({\n  extended: true\n}));\n\nconst start = async () => {\n  try {\n    await _models.db.authenticate();\n\n    if (process.env.APP === 'development') {\n      _models.db.sync({\n        force: false\n      });\n    }\n\n    app.use('/api', _routes.default);\n    app.listen(port, err => {\n      if (err) {\n        throw err;\n      } else {\n        (0, _utils.mLog)(`Server is running on port ${port}`, 'cyan');\n      }\n    });\n  } catch (e) {\n    throw e;\n  }\n};\n\nstart();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJwb3J0IiwicGFyc2VJbnQiLCJwcm9jZXNzIiwiYXJndiIsImVudiIsIlBPUlQiLCJhcHAiLCJ1c2UiLCJwYXNzcG9ydCIsImluaXRpYWxpemUiLCJib2R5UGFyc2VyIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInN0YXJ0IiwiZGF0YWJhc2UiLCJhdXRoZW50aWNhdGUiLCJBUFAiLCJzeW5jIiwiZm9yY2UiLCJyb3V0ZXMiLCJsaXN0ZW4iLCJlcnIiLCJlIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUFBLGdCQUFPQyxNQUFQOztBQUVBLE1BQU1DLElBQUksR0FBR0MsUUFBUSxDQUFDQyxPQUFPLENBQUNDLElBQVIsQ0FBYSxDQUFiLENBQUQsRUFBa0IsRUFBbEIsQ0FBUixJQUFpQ0QsT0FBTyxDQUFDRSxHQUFSLENBQVlDLElBQTFEO0FBQ0EsTUFBTUMsR0FBRyxHQUFHLHVCQUFaO0FBQ0FBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRQyxrQkFBU0MsVUFBVCxFQUFSO0FBQ0FILEdBQUcsQ0FBQ0MsR0FBSixDQUFRRyxvQkFBV0MsSUFBWCxFQUFSO0FBQ0FMLEdBQUcsQ0FBQ0MsR0FBSixDQUFRRyxvQkFBV0UsVUFBWCxDQUFzQjtBQUFFQyxFQUFBQSxRQUFRLEVBQUU7QUFBWixDQUF0QixDQUFSOztBQUVBLE1BQU1DLEtBQUssR0FBRyxZQUFZO0FBQ3RCLE1BQUk7QUFDQSxVQUFNQyxXQUFTQyxZQUFULEVBQU47O0FBQ0EsUUFBSWQsT0FBTyxDQUFDRSxHQUFSLENBQVlhLEdBQVosS0FBb0IsYUFBeEIsRUFBdUM7QUFDbkNGLGlCQUFTRyxJQUFULENBQWM7QUFBQ0MsUUFBQUEsS0FBSyxFQUFFO0FBQVIsT0FBZDtBQUNIOztBQUVEYixJQUFBQSxHQUFHLENBQUNDLEdBQUosQ0FBUSxNQUFSLEVBQWdCYSxlQUFoQjtBQUNBZCxJQUFBQSxHQUFHLENBQUNlLE1BQUosQ0FBV3JCLElBQVgsRUFBa0JzQixHQUFELElBQVM7QUFDdEIsVUFBSUEsR0FBSixFQUFTO0FBQ0wsY0FBTUEsR0FBTjtBQUNILE9BRkQsTUFFTztBQUNILHlCQUFNLDZCQUE0QnRCLElBQUssRUFBdkMsRUFBMEMsTUFBMUM7QUFDSDtBQUNKLEtBTkQ7QUFPSCxHQWRELENBY0UsT0FBT3VCLENBQVAsRUFBVTtBQUNSLFVBQU1BLENBQU47QUFDSDtBQUNKLENBbEJEOztBQW1CQVQsS0FBSyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9teVMzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQge21Mb2d9IGZyb20gJy4vbGliL3V0aWxzJztcbmltcG9ydCB7ZGIgYXMgZGF0YWJhc2V9IGZyb20gJy4vbW9kZWxzJztcbmltcG9ydCByb3V0ZXMgZnJvbSAnLi9yb3V0ZXMnO1xuaW1wb3J0IFwiLi9taWRkbGV3YXJlcy9wYXNzcG9ydFwiXG5cbmRvdGVudi5jb25maWcoKTtcblxuY29uc3QgcG9ydCA9IHBhcnNlSW50KHByb2Nlc3MuYXJndlsyXSwgMTApIHx8IHByb2Nlc3MuZW52LlBPUlQ7XG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5hcHAudXNlKHBhc3Nwb3J0LmluaXRpYWxpemUoKSk7XG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuXG5jb25zdCBzdGFydCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBkYXRhYmFzZS5hdXRoZW50aWNhdGUoKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52LkFQUCA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgZGF0YWJhc2Uuc3luYyh7Zm9yY2U6IGZhbHNlfSk7XG4gICAgICAgIH1cblxuICAgICAgICBhcHAudXNlKCcvYXBpJywgcm91dGVzKTtcbiAgICAgICAgYXBwLmxpc3Rlbihwb3J0LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtTG9nKGBTZXJ2ZXIgaXMgcnVubmluZyBvbiBwb3J0ICR7cG9ydH1gLCAnY3lhbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxufVxuc3RhcnQoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "dotenv",
        "config",
        "port",
        "parseInt",
        "process",
        "argv",
        "env",
        "PORT",
        "app",
        "use",
        "passport",
        "initialize",
        "bodyParser",
        "json",
        "urlencoded",
        "extended",
        "start",
        "database",
        "authenticate",
        "APP",
        "sync",
        "force",
        "routes",
        "listen",
        "err",
        "e"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMC,IAAI,GAAGC,QAAQ,CAACC,OAAO,CAACC,IAAR,CAAa,CAAb,CAAD,EAAkB,EAAlB,CAAR,IAAiCD,OAAO,CAACE,GAAR,CAAYC,IAA1D;AACA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,kBAASC,UAAT,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQG,oBAAWC,IAAX,EAAR;AACAL,GAAG,CAACC,GAAJ,CAAQG,oBAAWE,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR;;AAEA,MAAMC,KAAK,GAAG,YAAY;AACtB,MAAI;AACA,UAAMC,WAASC,YAAT,EAAN;;AACA,QAAId,OAAO,CAACE,GAAR,CAAYa,GAAZ,KAAoB,aAAxB,EAAuC;AACnCF,iBAASG,IAAT,CAAc;AAACC,QAAAA,KAAK,EAAE;AAAR,OAAd;AACH;;AAEDb,IAAAA,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBa,eAAhB;AACAd,IAAAA,GAAG,CAACe,MAAJ,CAAWrB,IAAX,EAAkBsB,GAAD,IAAS;AACtB,UAAIA,GAAJ,EAAS;AACL,cAAMA,GAAN;AACH,OAFD,MAEO;AACH,yBAAM,6BAA4BtB,IAAK,EAAvC,EAA0C,MAA1C;AACH;AACJ,KAND;AAOH,GAdD,CAcE,OAAOuB,CAAP,EAAU;AACR,UAAMA,CAAN;AACH;AACJ,CAlBD;;AAmBAT,KAAK",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourcesContent": [
        "import express from 'express';\nimport passport from 'passport';\nimport bodyParser from 'body-parser'\nimport dotenv from 'dotenv';\nimport {mLog} from './lib/utils';\nimport {db as database} from './models';\nimport routes from './routes';\nimport \"./middlewares/passport\"\n\ndotenv.config();\n\nconst port = parseInt(process.argv[2], 10) || process.env.PORT;\nconst app = express();\napp.use(passport.initialize());\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\nconst start = async () => {\n    try {\n        await database.authenticate();\n        if (process.env.APP === 'development') {\n            database.sync({force: false});\n        }\n\n        app.use('/api', routes);\n        app.listen(port, (err) => {\n            if (err) {\n                throw err;\n            } else {\n                mLog(`Server is running on port ${port}`, 'cyan');\n            }\n        });\n    } catch (e) {\n        throw e;\n    }\n}\nstart();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1541948265183
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/utils.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/utils.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/utils.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mLog = mLog;\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _kleur = _interopRequireDefault(require(\"kleur\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mLog(str, c = 'magenta', withNewLine = true) {\n  const display = _kleur.default[c](`${(0, _moment.default)().format()} - ${str}`);\n\n  if (withNewLine) {\n    console.log(display);\n  } else {\n    process.stdout.write(display);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbIm1Mb2ciLCJzdHIiLCJjIiwid2l0aE5ld0xpbmUiLCJkaXNwbGF5Iiwia2xldXIiLCJmb3JtYXQiLCJjb25zb2xlIiwibG9nIiwicHJvY2VzcyIsInN0ZG91dCIsIndyaXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFTyxTQUFTQSxJQUFULENBQWNDLEdBQWQsRUFBbUJDLENBQUMsR0FBRyxTQUF2QixFQUFrQ0MsV0FBVyxHQUFHLElBQWhELEVBQXNEO0FBQ3pELFFBQU1DLE9BQU8sR0FBR0MsZUFBTUgsQ0FBTixFQUFVLEdBQUUsdUJBQVNJLE1BQVQsRUFBa0IsTUFBS0wsR0FBSSxFQUF2QyxDQUFoQjs7QUFDQSxNQUFJRSxXQUFKLEVBQWlCO0FBQ2JJLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSixPQUFaO0FBQ0gsR0FGRCxNQUVPO0FBQ0hLLElBQUFBLE9BQU8sQ0FBQ0MsTUFBUixDQUFlQyxLQUFmLENBQXFCUCxPQUFyQjtBQUNIO0FBQ0oiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvbXlTMy9saWIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQga2xldXIgZnJvbSAna2xldXInO1xuXG5leHBvcnQgZnVuY3Rpb24gbUxvZyhzdHIsIGMgPSAnbWFnZW50YScsIHdpdGhOZXdMaW5lID0gdHJ1ZSkge1xuICAgIGNvbnN0IGRpc3BsYXkgPSBrbGV1cltjXShgJHttb21lbnQoKS5mb3JtYXQoKX0gLSAke3N0cn1gKTtcbiAgICBpZiAod2l0aE5ld0xpbmUpIHtcbiAgICAgICAgY29uc29sZS5sb2coZGlzcGxheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoZGlzcGxheSk7XG4gICAgfVxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "mLog",
        "str",
        "c",
        "withNewLine",
        "display",
        "kleur",
        "format",
        "console",
        "log",
        "process",
        "stdout",
        "write"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEO,SAASA,IAAT,CAAcC,GAAd,EAAmBC,CAAC,GAAG,SAAvB,EAAkCC,WAAW,GAAG,IAAhD,EAAsD;AACzD,QAAMC,OAAO,GAAGC,eAAMH,CAAN,EAAU,GAAE,uBAASI,MAAT,EAAkB,MAAKL,GAAI,EAAvC,CAAhB;;AACA,MAAIE,WAAJ,EAAiB;AACbI,IAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AACH,GAFD,MAEO;AACHK,IAAAA,OAAO,CAACC,MAAR,CAAeC,KAAf,CAAqBP,OAArB;AACH;AACJ",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
      "sourcesContent": [
        "import moment from 'moment';\nimport kleur from 'kleur';\n\nexport function mLog(str, c = 'magenta', withNewLine = true) {\n    const display = kleur[c](`${moment().format()} - ${str}`);\n    if (withNewLine) {\n        console.log(display);\n    } else {\n        process.stdout.write(display);\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689857719
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.db = void 0;\n\nvar _sequelize = _interopRequireWildcard(require(\"sequelize\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _bucket = _interopRequireDefault(require(\"./bucket\"));\n\nvar _blob = _interopRequireDefault(require(\"./blob\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n_dotenv.default.config();\n\nconst db = new _sequelize.default(process.env.DATABASE_URL, {\n  operatorsAliases: _sequelize.Op,\n  define: {\n    underscored: true\n  }\n});\nexports.db = db;\n\nconst modelUser = _user.default.init(db, _sequelize.default);\n\nconst modelBucket = _bucket.default.init(db, _sequelize.default);\n\nconst modelBlob = _blob.default.init(db, _sequelize.default);\n\nmodelUser.hasMany(_bucket.default, {\n  as: 'buckets'\n});\nmodelBucket.belongsTo(_user.default, {\n  as: 'user'\n});\nmodelBucket.hasMany(_blob.default, {\n  as: 'blobs'\n});\nmodelBlob.belongsTo(_bucket.default, {\n  as: 'bucket'\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImRiIiwiU2VxdWVsaXplIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsIm9wZXJhdG9yc0FsaWFzZXMiLCJPcCIsImRlZmluZSIsInVuZGVyc2NvcmVkIiwibW9kZWxVc2VyIiwiVXNlciIsImluaXQiLCJtb2RlbEJ1Y2tldCIsIkJ1Y2tldCIsIm1vZGVsQmxvYiIsIkJsb2IiLCJoYXNNYW55IiwiYXMiLCJiZWxvbmdzVG8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUFBLGdCQUFPQyxNQUFQOztBQUVPLE1BQU1DLEVBQUUsR0FBRyxJQUFJQyxrQkFBSixDQUFjQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsWUFBMUIsRUFBd0M7QUFDdERDLEVBQUFBLGdCQUFnQixFQUFFQyxhQURvQztBQUV0REMsRUFBQUEsTUFBTSxFQUFFO0FBQ0pDLElBQUFBLFdBQVcsRUFBRTtBQURUO0FBRjhDLENBQXhDLENBQVg7OztBQU9QLE1BQU1DLFNBQVMsR0FBR0MsY0FBS0MsSUFBTCxDQUFVWCxFQUFWLEVBQWNDLGtCQUFkLENBQWxCOztBQUNBLE1BQU1XLFdBQVcsR0FBR0MsZ0JBQU9GLElBQVAsQ0FBWVgsRUFBWixFQUFnQkMsa0JBQWhCLENBQXBCOztBQUNBLE1BQU1hLFNBQVMsR0FBR0MsY0FBS0osSUFBTCxDQUFVWCxFQUFWLEVBQWNDLGtCQUFkLENBQWxCOztBQUVBUSxTQUFTLENBQUNPLE9BQVYsQ0FBa0JILGVBQWxCLEVBQTBCO0FBQUNJLEVBQUFBLEVBQUUsRUFBRTtBQUFMLENBQTFCO0FBQ0FMLFdBQVcsQ0FBQ00sU0FBWixDQUFzQlIsYUFBdEIsRUFBNEI7QUFBQ08sRUFBQUEsRUFBRSxFQUFFO0FBQUwsQ0FBNUI7QUFFQUwsV0FBVyxDQUFDSSxPQUFaLENBQW9CRCxhQUFwQixFQUEwQjtBQUFDRSxFQUFBQSxFQUFFLEVBQUU7QUFBTCxDQUExQjtBQUNBSCxTQUFTLENBQUNJLFNBQVYsQ0FBb0JMLGVBQXBCLEVBQTRCO0FBQUNJLEVBQUFBLEVBQUUsRUFBRTtBQUFMLENBQTVCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbnRvaW5lZnJhbmNvaXMvRGVza3RvcC9hbnRvaW5lL3Ryb2lzaWXMgG1lX2FubmVlL215UzMvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlcXVlbGl6ZSwgeyBPcCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgVXNlciBmcm9tICcuL3VzZXInO1xuaW1wb3J0IEJ1Y2tldCBmcm9tICcuL2J1Y2tldCc7XG5pbXBvcnQgQmxvYiBmcm9tICcuL2Jsb2InO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5cbmV4cG9ydCBjb25zdCBkYiA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLCB7XG4gICAgb3BlcmF0b3JzQWxpYXNlczogT3AsXG4gICAgZGVmaW5lOiB7XG4gICAgICAgIHVuZGVyc2NvcmVkOiB0cnVlXG4gICAgfVxufSk7XG5cbmNvbnN0IG1vZGVsVXNlciA9IFVzZXIuaW5pdChkYiwgU2VxdWVsaXplKTtcbmNvbnN0IG1vZGVsQnVja2V0ID0gQnVja2V0LmluaXQoZGIsIFNlcXVlbGl6ZSk7XG5jb25zdCBtb2RlbEJsb2IgPSBCbG9iLmluaXQoZGIsIFNlcXVlbGl6ZSk7XG5cbm1vZGVsVXNlci5oYXNNYW55KEJ1Y2tldCwge2FzOiAnYnVja2V0cyd9KVxubW9kZWxCdWNrZXQuYmVsb25nc1RvKFVzZXIsIHthczogJ3VzZXInfSlcblxubW9kZWxCdWNrZXQuaGFzTWFueShCbG9iLCB7YXM6ICdibG9icyd9KVxubW9kZWxCbG9iLmJlbG9uZ3NUbyhCdWNrZXQsIHthczogJ2J1Y2tldCd9KSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "dotenv",
        "config",
        "db",
        "Sequelize",
        "process",
        "env",
        "DATABASE_URL",
        "operatorsAliases",
        "Op",
        "define",
        "underscored",
        "modelUser",
        "User",
        "init",
        "modelBucket",
        "Bucket",
        "modelBlob",
        "Blob",
        "hasMany",
        "as",
        "belongsTo"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEAA,gBAAOC,MAAP;;AAEO,MAAMC,EAAE,GAAG,IAAIC,kBAAJ,CAAcC,OAAO,CAACC,GAAR,CAAYC,YAA1B,EAAwC;AACtDC,EAAAA,gBAAgB,EAAEC,aADoC;AAEtDC,EAAAA,MAAM,EAAE;AACJC,IAAAA,WAAW,EAAE;AADT;AAF8C,CAAxC,CAAX;;;AAOP,MAAMC,SAAS,GAAGC,cAAKC,IAAL,CAAUX,EAAV,EAAcC,kBAAd,CAAlB;;AACA,MAAMW,WAAW,GAAGC,gBAAOF,IAAP,CAAYX,EAAZ,EAAgBC,kBAAhB,CAApB;;AACA,MAAMa,SAAS,GAAGC,cAAKJ,IAAL,CAAUX,EAAV,EAAcC,kBAAd,CAAlB;;AAEAQ,SAAS,CAACO,OAAV,CAAkBH,eAAlB,EAA0B;AAACI,EAAAA,EAAE,EAAE;AAAL,CAA1B;AACAL,WAAW,CAACM,SAAZ,CAAsBR,aAAtB,EAA4B;AAACO,EAAAA,EAAE,EAAE;AAAL,CAA5B;AAEAL,WAAW,CAACI,OAAZ,CAAoBD,aAApB,EAA0B;AAACE,EAAAA,EAAE,EAAE;AAAL,CAA1B;AACAH,SAAS,CAACI,SAAV,CAAoBL,eAApB,EAA4B;AAACI,EAAAA,EAAE,EAAE;AAAL,CAA5B",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "sourcesContent": [
        "import Sequelize, { Op } from 'sequelize';\nimport dotenv from 'dotenv';\nimport User from './user';\nimport Bucket from './bucket';\nimport Blob from './blob';\n\ndotenv.config();\n\nexport const db = new Sequelize(process.env.DATABASE_URL, {\n    operatorsAliases: Op,\n    define: {\n        underscored: true\n    }\n});\n\nconst modelUser = User.init(db, Sequelize);\nconst modelBucket = Bucket.init(db, Sequelize);\nconst modelBlob = Blob.init(db, Sequelize);\n\nmodelUser.hasMany(Bucket, {as: 'buckets'})\nmodelBucket.belongsTo(User, {as: 'user'})\n\nmodelBucket.hasMany(Blob, {as: 'blobs'})\nmodelBlob.belongsTo(Bucket, {as: 'bucket'})"
      ]
    },
    "sourceType": "script",
    "mtime": 1541759176937
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/user.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst MIN_PWD_LENGTH = 7;\n\nclass User extends _sequelize.Model {\n  static init(sequelize, DataTypes) {\n    return super.init({\n      uuid: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n      },\n      email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          isEmail: true\n        },\n        unique: {\n          args: true,\n          msg: 'email aready in use'\n        }\n      },\n      nickname: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: {\n          args: true,\n          msg: 'nickname already exists'\n        }\n      },\n      password: {\n        type: DataTypes.VIRTUAL,\n        validate: {\n          isLongEnough(value) {\n            if (value.length < MIN_PWD_LENGTH) {\n              throw new Error('password is too short');\n            }\n          }\n\n        }\n      },\n      password_confirmation: {\n        type: DataTypes.VIRTUAL,\n        validate: {\n          isEqual(value) {\n            if (this.password !== value) {\n              throw new Error(\"passwords don't match\");\n            }\n          }\n\n        }\n      },\n      password_digest: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      }\n    }, {\n      sequelize,\n      tableName: 'users',\n      hooks: {\n        async beforeValidate(user) {\n          if (user.isNewRecord) {\n            const SALT_ROUND = 7;\n            const hash = await _bcrypt.default.hash(user.password, SALT_ROUND);\n\n            if (hash === null) {\n              throw new Error(\"can't hash password\");\n            }\n\n            user.password_digest = hash;\n          }\n        },\n\n        async beforeSave(user, options) {\n          if (user.changed('password')) {\n            if (user.password !== user.password_confirmation) {\n              throw new Error(\"passwords don't match\");\n            }\n          }\n        }\n\n      }\n    });\n  }\n\n  async checkPwd(password) {\n    return await _bcrypt.default.compare(password, this.password_digest);\n  }\n\n  toJSON() {\n    const values = Object.assign({}, this.get());\n    delete values.password_digest;\n    delete values.password;\n    delete values.password_confirmation;\n    return values;\n  }\n\n}\n\nexports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiTUlOX1BXRF9MRU5HVEgiLCJVc2VyIiwiTW9kZWwiLCJpbml0Iiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwidXVpZCIsInR5cGUiLCJVVUlEIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwicHJpbWFyeUtleSIsImVtYWlsIiwiU1RSSU5HIiwiYWxsb3dOdWxsIiwidmFsaWRhdGUiLCJpc0VtYWlsIiwidW5pcXVlIiwiYXJncyIsIm1zZyIsIm5pY2tuYW1lIiwicGFzc3dvcmQiLCJWSVJUVUFMIiwiaXNMb25nRW5vdWdoIiwidmFsdWUiLCJsZW5ndGgiLCJFcnJvciIsInBhc3N3b3JkX2NvbmZpcm1hdGlvbiIsImlzRXF1YWwiLCJwYXNzd29yZF9kaWdlc3QiLCJub3RFbXB0eSIsInRhYmxlTmFtZSIsImhvb2tzIiwiYmVmb3JlVmFsaWRhdGUiLCJ1c2VyIiwiaXNOZXdSZWNvcmQiLCJTQUxUX1JPVU5EIiwiaGFzaCIsImJjcnlwdCIsImJlZm9yZVNhdmUiLCJvcHRpb25zIiwiY2hhbmdlZCIsImNoZWNrUHdkIiwiY29tcGFyZSIsInRvSlNPTiIsInZhbHVlcyIsIk9iamVjdCIsImFzc2lnbiIsImdldCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsY0FBYyxHQUFHLENBQXZCOztBQUVlLE1BQU1DLElBQU4sU0FBbUJDLGdCQUFuQixDQUF5QjtBQUNwQyxTQUFPQyxJQUFQLENBQVlDLFNBQVosRUFBdUJDLFNBQXZCLEVBQWtDO0FBQzlCLFdBQU8sTUFBTUYsSUFBTixDQUNIO0FBQ0lHLE1BQUFBLElBQUksRUFBRTtBQUFFQyxRQUFBQSxJQUFJLEVBQUVGLFNBQVMsQ0FBQ0csSUFBbEI7QUFBd0JDLFFBQUFBLFlBQVksRUFBRUosU0FBUyxDQUFDSyxNQUFoRDtBQUF3REMsUUFBQUEsVUFBVSxFQUFFO0FBQXBFLE9BRFY7QUFFSUMsTUFBQUEsS0FBSyxFQUFFO0FBQ0hMLFFBQUFBLElB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QUFLQyxHQUFMLEVBQWxCLENBQWY7QUFDQSxXQUFPSCxNQUFNLENBQUNoQixlQUFkO0FBQ0EsV0FBT2dCLE1BQU0sQ0FBQ3hCLFFBQWQ7QUFDQSxXQUFPd0IsTUFBTSxDQUFDbEIscUJBQWQ7QUFDQSxXQUFPa0IsTUFBUDtBQUNIOztBQW5GbUMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvbXlTMy9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RlbCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5cbmNvbnN0IE1JTl9QV0RfTEVOR1RIID0gNztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlciBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgaW5pdChzZXF1ZWxpemUsIERhdGFUeXBlcykge1xuICAgICAgICByZXR1cm4gc3VwZXIuaW5pdChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1dWlkOiB7IHR5cGU6IERhdGFUeXBlcy5VVUlELCBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsIHByaW1hcnlLZXk6IHRydWUgfSxcbiAgICAgICAgICAgICAgICBlbWFpbDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICAgICAgICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZTogeyBpc0VtYWlsOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogJ2VtYWlsIGFyZWFkeSBpbiB1c2UnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbmlja25hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlOiB7IGFyZ3M6IHRydWUsIG1zZzogJ25pY2tuYW1lIGFscmVhZHkgZXhpc3RzJyB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlZJUlRVQUwsXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0xvbmdFbm91Z2godmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoIDwgTUlOX1BXRF9MRU5HVEgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXNzd29yZCBpcyB0b28gc2hvcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFUeXBlcy5WSVJUVUFMLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNFcXVhbCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhc3N3b3JkICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXNzd29yZHMgZG9uJ3QgbWF0Y2hcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkX2RpZ2VzdDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICAgICAgICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZTogeyBub3RFbXB0eTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VxdWVsaXplLFxuICAgICAgICAgICAgICAgIHRhYmxlTmFtZTogJ3VzZXJzJyxcbiAgICAgICAgICAgICAgICBob29rczoge1xuICAgICAgICAgICAgICAgICAgICBhc3luYyBiZWZvcmVWYWxpZGF0ZSh1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlci5pc05ld1JlY29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFNBTFRfUk9VTkQgPSA3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaCh1c2VyLnBhc3N3b3JkLCBTQUxUX1JPVU5EKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbid0IGhhc2ggcGFzc3dvcmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIucGFzc3dvcmRfZGlnZXN0ID0gaGFzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMgYmVmb3JlU2F2ZSh1c2VyLCBvcHRpb25zKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyLmNoYW5nZWQoJ3Bhc3N3b3JkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlci5wYXNzd29yZCAhPT0gdXNlci5wYXNzd29yZF9jb25maXJtYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFzc3dvcmRzIGRvbid0IG1hdGNoXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBjaGVja1B3ZChwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHRoaXMucGFzc3dvcmRfZGlnZXN0KTtcbiAgICB9XG5cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0KCkpO1xuICAgICAgICBkZWxldGUgdmFsdWVzLnBhc3N3b3JkX2RpZ2VzdDtcbiAgICAgICAgZGVsZXRlIHZhbHVlcy5wYXNzd29yZDtcbiAgICAgICAgZGVsZXRlIHZhbHVlcy5wYXNzd29yZF9jb25maXJtYXRpb247XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "MIN_PWD_LENGTH",
        "User",
        "Model",
        "init",
        "sequelize",
        "DataTypes",
        "uuid",
        "type",
        "UUID",
        "defaultValue",
        "UUIDV4",
        "primaryKey",
        "email",
        "STRING",
        "allowNull",
        "validate",
        "isEmail",
        "unique",
        "args",
        "msg",
        "nickname",
        "password",
        "VIRTUAL",
        "isLongEnough",
        "value",
        "length",
        "Error",
        "password_confirmation",
        "isEqual",
        "password_digest",
        "notEmpty",
        "tableName",
        "hooks",
        "beforeValidate",
        "user",
        "isNewRecord",
        "SALT_ROUND",
        "hash",
        "bcrypt",
        "beforeSave",
        "options",
        "changed",
        "checkPwd",
        "compare",
        "toJSON",
        "values",
        "Object",
        "assign",
        "get"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "sourcesContent": [
        "import { Model } from 'sequelize';\nimport bcrypt from 'bcrypt';\n\nconst MIN_PWD_LENGTH = 7;\n\nexport default class User extends Model {\n    static init(sequelize, DataTypes) {\n        return super.init(\n            {\n                uuid: { type: DataTypes.UUID, defaultValue: DataTypes.UUIDV4, primaryKey: true },\n                email: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    validate: { isEmail: true },\n                    unique: {\n                        args: true,\n                        msg: 'email aready in use',\n                    },\n                },\n                nickname: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    unique: { args: true, msg: 'nickname already exists' },\n                },\n                password: {\n                    type: DataTypes.VIRTUAL,\n                    validate: {\n                        isLongEnough(value) {\n                            if (value.length < MIN_PWD_LENGTH) {\n                                throw new Error('password is too short');\n                            }\n                        },\n                    },\n                },\n                password_confirmation: {\n                    type: DataTypes.VIRTUAL,\n                    validate: {\n                        isEqual(value) {\n                            if (this.password !== value) {\n                                throw new Error(\"passwords don't match\");\n                            }\n                        },\n                    },\n                },\n                password_digest: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    validate: { notEmpty: true },\n                },\n            },\n\n            {\n                sequelize,\n                tableName: 'users',\n                hooks: {\n                    async beforeValidate(user) {\n                        if (user.isNewRecord) {\n                            const SALT_ROUND = 7;\n                            const hash = await bcrypt.hash(user.password, SALT_ROUND);\n\n                            if (hash === null) {\n                                throw new Error(\"can't hash password\");\n                            }\n                            user.password_digest = hash;\n                        }\n                    },\n                    async beforeSave(user, options){\n                        if (user.changed('password')) {\n                            if (user.password !== user.password_confirmation) {\n                                throw new Error(\"passwords don't match\");\n                            }\n                        }\n                    },\n                },\n            },\n        );\n    }\n\n    async checkPwd(password) {\n        return await bcrypt.compare(password, this.password_digest);\n    }\n\n    toJSON() {\n        const values = Object.assign({}, this.get());\n        delete values.password_digest;\n        delete values.password;\n        delete values.password_confirmation;\n        return values;\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1541757842773
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _bucket = _interopRequireDefault(require(\"./bucket\"));\n\nvar _blob = _interopRequireDefault(require(\"./blob\"));\n\nvar _auth = _interopRequireDefault(require(\"./auth\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = (0, _express.Router)();\napi.get('/', (req, res) => {\n  res.json({\n    hello: 'express.island'\n  });\n});\napi.use('/users', _passport.default.authenticate('jwt', {\n  session: false\n}), _user.default);\napi.use('/users/:uuid/buckets', _bucket.default);\napi.use('/users/:uuid/buckets/:b_id/blob', _blob.default);\napi.use('/auth', _auth.default);\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwaSIsImdldCIsInJlcSIsInJlcyIsImpzb24iLCJoZWxsbyIsInVzZSIsInBhc3Nwb3J0IiwiYXV0aGVudGljYXRlIiwic2Vzc2lvbiIsInVzZXJzIiwiYnVja2V0cyIsImJsb2JzIiwiYXV0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsR0FBRyxHQUFHLHNCQUFaO0FBRUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUN2QkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVM7QUFBRUMsSUFBQUEsS0FBSyxFQUFFO0FBQVQsR0FBVDtBQUNILENBRkQ7QUFJQUwsR0FBRyxDQUFDTSxHQUFKLENBQVEsUUFBUixFQUFrQkMsa0JBQVNDLFlBQVQsQ0FBc0IsS0FBdEIsRUFBNkI7QUFBRUMsRUFBQUEsT0FBTyxFQUFHO0FBQVosQ0FBN0IsQ0FBbEIsRUFBcUVDLGFBQXJFO0FBQ0FWLEdBQUcsQ0FBQ00sR0FBSixDQUFRLHNCQUFSLEVBQWdDSyxlQUFoQztBQUNBWCxHQUFHLENBQUNNLEdBQUosQ0FBUSxpQ0FBUixFQUEyQ00sYUFBM0M7QUFDQVosR0FBRyxDQUFDTSxHQUFKLENBQVEsT0FBUixFQUFpQk8sYUFBakI7ZUFFZWIsRyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9teVMzL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0J1xuaW1wb3J0IHVzZXJzIGZyb20gJy4vdXNlcic7XG5pbXBvcnQgYnVja2V0cyBmcm9tICcuL2J1Y2tldCdcbmltcG9ydCBibG9icyBmcm9tICcuL2Jsb2InXG5pbXBvcnQgYXV0aCBmcm9tICcuL2F1dGgnO1xuXG5jb25zdCBhcGkgPSBSb3V0ZXIoKTtcblxuYXBpLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5qc29uKHsgaGVsbG86ICdleHByZXNzLmlzbGFuZCcgfSk7XG59KTtcblxuYXBpLnVzZSgnL3VzZXJzJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdqd3QnLCB7IHNlc3Npb24gOiBmYWxzZSB9KSwgdXNlcnMpO1xuYXBpLnVzZSgnL3VzZXJzLzp1dWlkL2J1Y2tldHMnLCBidWNrZXRzKTtcbmFwaS51c2UoJy91c2Vycy86dXVpZC9idWNrZXRzLzpiX2lkL2Jsb2InLCBibG9icyk7XG5hcGkudXNlKCcvYXV0aCcsIGF1dGgpO1xuXG5leHBvcnQgZGVmYXVsdCBhcGk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "api",
        "get",
        "req",
        "res",
        "json",
        "hello",
        "use",
        "passport",
        "authenticate",
        "session",
        "users",
        "buckets",
        "blobs",
        "auth"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvBA,EAAAA,GAAG,CAACC,IAAJ,CAAS;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAT;AACH,CAFD;AAIAL,GAAG,CAACM,GAAJ,CAAQ,QAAR,EAAkBC,kBAASC,YAAT,CAAsB,KAAtB,EAA6B;AAAEC,EAAAA,OAAO,EAAG;AAAZ,CAA7B,CAAlB,EAAqEC,aAArE;AACAV,GAAG,CAACM,GAAJ,CAAQ,sBAAR,EAAgCK,eAAhC;AACAX,GAAG,CAACM,GAAJ,CAAQ,iCAAR,EAA2CM,aAA3C;AACAZ,GAAG,CAACM,GAAJ,CAAQ,OAAR,EAAiBO,aAAjB;eAEeb,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "sourcesContent": [
        "import { Router } from 'express';\nimport passport from 'passport'\nimport users from './user';\nimport buckets from './bucket'\nimport blobs from './blob'\nimport auth from './auth';\n\nconst api = Router();\n\napi.get('/', (req, res) => {\n    res.json({ hello: 'express.island' });\n});\n\napi.use('/users', passport.authenticate('jwt', { session : false }), users);\napi.use('/users/:uuid/buckets', buckets);\napi.use('/users/:uuid/buckets/:b_id/blob', blobs);\napi.use('/auth', auth);\n\nexport default api;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541944972833
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/user.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nvar _lodash = require(\"lodash\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = (0, _express.Router)();\napi.get('/', async (req, res) => {\n  try {\n    const users = await _user.default.findAll();\n    res.status(200).json({\n      data: {\n        users\n      },\n      meta: {}\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `could not connect to database, err: ${err.message}`\n    });\n  }\n});\napi.get('/:uuid', async (req, res) => {\n  try {\n    const user = await _user.default.findOne({\n      where: {\n        uuid: req.params.uuid\n      }\n    });\n    res.status(200).json({\n      user\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `could not connect to database, err: ${err.message}`\n    });\n  }\n});\napi.put('/:uuid', async (req, res) => {\n  try {\n    const user = await _user.default.findOne({\n      where: {\n        uuid: req.params.uuid\n      }\n    });\n\n    if (user) {\n      const fields = (0, _lodash.pick)(req.body, [\"nickname\", \"email\", \"password\", \"password_confirmation\"]);\n      await user.update(fields);\n      res.status(204);\n    }\n  } catch (err) {\n    res.status(400).json({\n      err: err.message\n    });\n  }\n});\napi.delete('/:uuid', async (req, res) => {\n  try {\n    const user = await _user.default.destroy({\n      where: {\n        uuid: req.params.uuid\n      }\n    });\n    res.status(200).json({\n      user\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `User doesn't exist, err: ${err.message}`\n    });\n  }\n});\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiYXBpIiwiZ2V0IiwicmVxIiwicmVzIiwidXNlcnMiLCJVc2VyIiwiZmluZEFsbCIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWV0YSIsImVyciIsIm1lc3NhZ2UiLCJ1c2VyIiwiZmluZE9uZSIsIndoZXJlIiwidXVpZCIsInBhcmFtcyIsInB1dCIsImZpZWxkcyIsImJvZHkiLCJ1cGRhdGUiLCJkZWxldGUiLCJkZXN0cm95Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxHQUFHLEdBQUcsc0JBQVo7QUFFQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUixFQUFhLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUM3QixNQUFJO0FBQ0EsVUFBTUMsS0FBSyxHQUFHLE1BQU1DLGNBQUtDLE9BQUwsRUFBcEI7QUFDQUgsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0MsTUFBQUEsSUFBSSxFQUFFO0FBQUNMLFFBQUFBO0FBQUQsT0FBUDtBQUFnQk0sTUFBQUEsSUFBSSxFQUFFO0FBQXRCLEtBQXJCO0FBQ0gsR0FIRCxDQUdFLE9BQU9DLEdBQVAsRUFBWTtBQUNWUixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDRyxNQUFBQSxHQUFHLEVBQUcsdUNBQXNDQSxHQUFHLENBQUNDLE9BQVE7QUFBekQsS0FBckI7QUFDSDtBQUNKLENBUEQ7QUFTQVosR0FBRyxDQUFDQyxHQUFKLENBQVEsUUFBUixFQUFrQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDbEMsTUFBSTtBQUNBLFVBQU1VLElBQUksR0FBRyxNQUFNUixjQUFLUyxPQUFMLENBQWE7QUFBQ0MsTUFBQUEsS0FBSyxFQUFFO0FBQUNDLFFBQUFBLElBQUksRUFBRWQsR0FBRyxDQUFDZSxNQUFKLENBQVdEO0FBQWxCO0FBQVIsS0FBYixDQUFuQjtBQUNBYixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDSyxNQUFBQTtBQUFELEtBQXJCO0FBQ0gsR0FIRCxDQUdFLE9BQU9GLEdBQVAsRUFBWTtBQUNWUixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDRyxNQUFBQSxHQUFHLEVBQUcsdUNBQXNDQSxHQUFHLENBQUNDLE9BQVE7QUFBekQsS0FBckI7QUFDSDtBQUNKLENBUEQ7QUFTQVosR0FBRyxDQUFDa0IsR0FBSixDQUFRLFFBQVIsRUFBa0IsT0FBT2hCLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUNsQyxNQUFJO0FBQ0EsVUFBTVUsSUFBSSxHQUFHLE1BQU1SLGNBQUtTLE9BQUwsQ0FBYTtBQUFDQyxNQUFBQSxLQUFLLEVBQUU7QUFBQ0MsUUFBQUEsSUFBSSxFQUFFZCxHQUFHLENBQUNlLE1BQUosQ0FBV0Q7QUFBbEI7QUFBUixLQUFiLENBQW5COztBQUNBLFFBQUlILElBQUosRUFBVTtBQUNOLFlBQU1NLE1BQU0sR0FBRyxrQkFBS2pCLEdBQUcsQ0FBQ2tCLElBQVQsRUFBZSxDQUMxQixVQUQwQixFQUUxQixPQUYwQixFQUcxQixVQUgwQixFQUkxQix1QkFKMEIsQ0FBZixDQUFmO0FBTUEsWUFBTVAsSUFBSSxDQUFDUSxNQUFMLENBQVlGLE1BQVosQ0FBTjtBQUNBaEIsTUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWDtBQUNIO0FBQ0osR0FaRCxDQVlFLE9BQU9JLEdBQVAsRUFBWTtBQUNWUixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDRyxNQUFBQSxHQUFHLEVBQUVBLEdBQUcsQ0FBQ0M7QUFBVixLQUFyQjtBQUNIO0FBQ0osQ0FoQkQ7QUFrQkFaLEdBQUcsQ0FBQ3NCLE1BQUosQ0FBVyxRQUFYLEVBQXFCLE9BQU9wQixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDckMsTUFBSTtBQUNBLFVBQU1VLElBQUksR0FBRyxNQUFNUixjQUFLa0IsT0FBTCxDQUFhO0FBQUNSLE1BQUFBLEtBQUssRUFBRTtBQUFDQyxRQUFBQSxJQUFJLEVBQUVkLEdBQUcsQ0FBQ2UsTUFBSixDQUFXRDtBQUFsQjtBQUFSLEtBQWIsQ0FBbkI7QUFDQWIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0ssTUFBQUE7QUFBRCxLQUFyQjtBQUNILEdBSEQsQ0FHRSxPQUFPRixHQUFQLEVBQVk7QUFDVlIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0csTUFBQUEsR0FBRyxFQUFHLDRCQUEyQkEsR0FBRyxDQUFDQyxPQUFRO0FBQTlDLEtBQXJCO0FBQ0g7QUFDSixDQVBEO2VBU2VaLEciLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvbXlTMy9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlcic7XG5pbXBvcnQge3BpY2t9IGZyb20gJ2xvZGFzaCc7XG5cbmNvbnN0IGFwaSA9IFJvdXRlcigpO1xuXG5hcGkuZ2V0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2VyLmZpbmRBbGwoKTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe2RhdGE6IHt1c2Vyc30sIG1ldGE6IHt9fSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnI6IGBjb3VsZCBub3QgY29ubmVjdCB0byBkYXRhYmFzZSwgZXJyOiAke2Vyci5tZXNzYWdlfWB9KTtcbiAgICB9XG59KTtcblxuYXBpLmdldCgnLzp1dWlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7d2hlcmU6IHt1dWlkOiByZXEucGFyYW1zLnV1aWR9fSk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHt1c2VyfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnI6IGBjb3VsZCBub3QgY29ubmVjdCB0byBkYXRhYmFzZSwgZXJyOiAke2Vyci5tZXNzYWdlfWB9KTtcbiAgICB9XG59KTtcblxuYXBpLnB1dCgnLzp1dWlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7d2hlcmU6IHt1dWlkOiByZXEucGFyYW1zLnV1aWR9fSlcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkcyA9IHBpY2socmVxLmJvZHksIFtcbiAgICAgICAgICAgICAgICBcIm5pY2tuYW1lXCIsXG4gICAgICAgICAgICAgICAgXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgIFwicGFzc3dvcmRcIixcbiAgICAgICAgICAgICAgICBcInBhc3N3b3JkX2NvbmZpcm1hdGlvblwiXG4gICAgICAgICAgICBdKVxuICAgICAgICAgICAgYXdhaXQgdXNlci51cGRhdGUoZmllbGRzKVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDQpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnI6IGVyci5tZXNzYWdlfSlcbiAgICB9XG59KVxuXG5hcGkuZGVsZXRlKCcvOnV1aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5kZXN0cm95KHt3aGVyZToge3V1aWQ6IHJlcS5wYXJhbXMudXVpZH19KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe3VzZXJ9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe2VycjogYFVzZXIgZG9lc24ndCBleGlzdCwgZXJyOiAke2Vyci5tZXNzYWdlfWB9KTtcbiAgICB9XG59KVxuXG5leHBvcnQgZGVmYXVsdCBhcGk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "api",
        "get",
        "req",
        "res",
        "users",
        "User",
        "findAll",
        "status",
        "json",
        "data",
        "meta",
        "err",
        "message",
        "user",
        "findOne",
        "where",
        "uuid",
        "params",
        "put",
        "fields",
        "body",
        "update",
        "delete",
        "destroy"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC7B,MAAI;AACA,UAAMC,KAAK,GAAG,MAAMC,cAAKC,OAAL,EAApB;AACAH,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,IAAI,EAAE;AAACL,QAAAA;AAAD,OAAP;AAAgBM,MAAAA,IAAI,EAAE;AAAtB,KAArB;AACH,GAHD,CAGE,OAAOC,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACG,MAAAA,GAAG,EAAG,uCAAsCA,GAAG,CAACC,OAAQ;AAAzD,KAArB;AACH;AACJ,CAPD;AASAZ,GAAG,CAACC,GAAJ,CAAQ,QAAR,EAAkB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,MAAI;AACA,UAAMU,IAAI,GAAG,MAAMR,cAAKS,OAAL,CAAa;AAACC,MAAAA,KAAK,EAAE;AAACC,QAAAA,IAAI,EAAEd,GAAG,CAACe,MAAJ,CAAWD;AAAlB;AAAR,KAAb,CAAnB;AACAb,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACK,MAAAA;AAAD,KAArB;AACH,GAHD,CAGE,OAAOF,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACG,MAAAA,GAAG,EAAG,uCAAsCA,GAAG,CAACC,OAAQ;AAAzD,KAArB;AACH;AACJ,CAPD;AASAZ,GAAG,CAACkB,GAAJ,CAAQ,QAAR,EAAkB,OAAOhB,GAAP,EAAYC,GAAZ,KAAoB;AAClC,MAAI;AACA,UAAMU,IAAI,GAAG,MAAMR,cAAKS,OAAL,CAAa;AAACC,MAAAA,KAAK,EAAE;AAACC,QAAAA,IAAI,EAAEd,GAAG,CAACe,MAAJ,CAAWD;AAAlB;AAAR,KAAb,CAAnB;;AACA,QAAIH,IAAJ,EAAU;AACN,YAAMM,MAAM,GAAG,kBAAKjB,GAAG,CAACkB,IAAT,EAAe,CAC1B,UAD0B,EAE1B,OAF0B,EAG1B,UAH0B,EAI1B,uBAJ0B,CAAf,CAAf;AAMA,YAAMP,IAAI,CAACQ,MAAL,CAAYF,MAAZ,CAAN;AACAhB,MAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX;AACH;AACJ,GAZD,CAYE,OAAOI,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACG,MAAAA,GAAG,EAAEA,GAAG,CAACC;AAAV,KAArB;AACH;AACJ,CAhBD;AAkBAZ,GAAG,CAACsB,MAAJ,CAAW,QAAX,EAAqB,OAAOpB,GAAP,EAAYC,GAAZ,KAAoB;AACrC,MAAI;AACA,UAAMU,IAAI,GAAG,MAAMR,cAAKkB,OAAL,CAAa;AAACR,MAAAA,KAAK,EAAE;AAACC,QAAAA,IAAI,EAAEd,GAAG,CAACe,MAAJ,CAAWD;AAAlB;AAAR,KAAb,CAAnB;AACAb,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACK,MAAAA;AAAD,KAArB;AACH,GAHD,CAGE,OAAOF,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACG,MAAAA,GAAG,EAAG,4BAA2BA,GAAG,CAACC,OAAQ;AAA9C,KAArB;AACH;AACJ,CAPD;eASeZ,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "sourcesContent": [
        "import {Router} from 'express';\nimport User from '../models/user';\nimport {pick} from 'lodash';\n\nconst api = Router();\n\napi.get('/', async (req, res) => {\n    try {\n        const users = await User.findAll();\n        res.status(200).json({data: {users}, meta: {}});\n    } catch (err) {\n        res.status(400).json({err: `could not connect to database, err: ${err.message}`});\n    }\n});\n\napi.get('/:uuid', async (req, res) => {\n    try {\n        const user = await User.findOne({where: {uuid: req.params.uuid}});\n        res.status(200).json({user});\n    } catch (err) {\n        res.status(400).json({err: `could not connect to database, err: ${err.message}`});\n    }\n});\n\napi.put('/:uuid', async (req, res) => {\n    try {\n        const user = await User.findOne({where: {uuid: req.params.uuid}})\n        if (user) {\n            const fields = pick(req.body, [\n                \"nickname\",\n                \"email\",\n                \"password\",\n                \"password_confirmation\"\n            ])\n            await user.update(fields)\n            res.status(204);\n        }\n    } catch (err) {\n        res.status(400).json({err: err.message})\n    }\n})\n\napi.delete('/:uuid', async (req, res) => {\n    try {\n        const user = await User.destroy({where: {uuid: req.params.uuid}});\n        res.status(200).json({user});\n    } catch (err) {\n        res.status(400).json({err: `User doesn't exist, err: ${err.message}`});\n    }\n})\n\nexport default api;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1541772364792
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/auth.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/auth.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/auth.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nvar _mail = _interopRequireDefault(require(\"../lib/mail\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = (0, _express.Router)();\napi.post('/register', async (req, res) => {\n  const {\n    nickname,\n    email,\n    password,\n    password_confirmation\n  } = req.body;\n\n  try {\n    const user = new _user.default({\n      nickname,\n      email,\n      password,\n      password_confirmation\n    });\n    await user.save();\n\n    _mail.default.send(user.email, 'Welcome', `Hello ${user.nickname}`, `<h1>Hello ${user.nickname}</h1>`);\n\n    const payload = {\n      uuid: user.uuid,\n      nickname,\n      email\n    };\n\n    const token = _jsonwebtoken.default.sign(payload, process.env.JWT_ENCRYPTION);\n\n    res.status(201).json({\n      data: {\n        user\n      },\n      meta: {\n        token\n      }\n    });\n  } catch (err) {\n    res.status(400).json({\n      err\n    });\n  }\n});\napi.post('/login', (req, res) => {\n  _passport.default.authenticate('local', {\n    session: false\n  }, (err, user, message) => {\n    if (err) {\n      res.status(400).json({\n        err\n      });\n    }\n\n    const {\n      uuid,\n      nickname,\n      email\n    } = user.toJSON();\n    const payload = {\n      uuid: user.uuid,\n      nickname,\n      email\n    };\n\n    const token = _jsonwebtoken.default.sign(payload, process.env.JWT_ENCRYPTION);\n\n    res.status(200).json({\n      data: {\n        user: {\n          uuid,\n          nickname,\n          email\n        }\n      },\n      meta: {\n        token\n      }\n    });\n  })(req, res);\n});\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiYXBpIiwicG9zdCIsInJlcSIsInJlcyIsIm5pY2tuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInBhc3N3b3JkX2NvbmZpcm1hdGlvbiIsImJvZHkiLCJ1c2VyIiwiVXNlciIsInNhdmUiLCJNYWlsZXIiLCJzZW5kIiwicGF5bG9hZCIsInV1aWQiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiSldUX0VOQ1JZUFRJT04iLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsIm1ldGEiLCJlcnIiLCJwYXNzcG9ydCIsImF1dGhlbnRpY2F0ZSIsInNlc3Npb24iLCJtZXNzYWdlIiwidG9KU09OIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxHQUFHLEdBQUcsc0JBQVo7QUFFQUEsR0FBRyxDQUFDQyxJQUFKLENBQVMsV0FBVCxFQUFzQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTTtBQUNGQyxJQUFBQSxRQURFO0FBQ1FDLElBQUFBLEtBRFI7QUFDZUMsSUFBQUEsUUFEZjtBQUN5QkMsSUFBQUE7QUFEekIsTUFFRkwsR0FBRyxDQUFDTSxJQUZSOztBQUdBLE1BQUk7QUFDQSxVQUFNQyxJQUFJLEdBQUcsSUFBSUMsYUFBSixDQUFTO0FBQ2xCTixNQUFBQSxRQURrQjtBQUVsQkMsTUFBQUEsS0FGa0I7QUFHbEJDLE1BQUFBLFFBSGtCO0FBSWxCQyxNQUFBQTtBQUprQixLQUFULENBQWI7QUFNQSxVQUFNRSxJQUFJLENBQUNFLElBQUwsRUFBTjs7QUFDQUMsa0JBQU9DLElBQVAsQ0FBWUosSUFBSSxDQUFDSixLQUFqQixFQUF3QixTQUF4QixFQUFvQyxTQUFRSSxJQUFJLENBQUNMLFFBQVMsRUFBMUQsRUFBOEQsYUFBWUssSUFBSSxDQUFDTCxRQUFTLE9BQXhGOztBQUVBLFVBQU1VLE9BQU8sR0FBRztBQUFFQyxNQUFBQSxJQUFJLEVBQUVOLElBQUksQ0FBQ00sSUFBYjtBQUFtQlgsTUFBQUEsUUFBbkI7QUFBNkJDLE1BQUFBO0FBQTdCLEtBQWhCOztBQUNBLFVBQU1XLEtBQUssR0FBR0Msc0JBQUlDLElBQUosQ0FBU0osT0FBVCxFQUFrQkssT0FBTyxDQUFDQyxHQUFSLENBQVlDLGNBQTlCLENBQWQ7O0FBQ0FsQixJQUFBQSxHQUFHLENBQUNtQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsSUFBSSxFQUFFO0FBQUVmLFFBQUFBO0FBQUYsT0FBUjtBQUFrQmdCLE1BQUFBLElBQUksRUFBRTtBQUFFVCxRQUFBQTtBQUFGO0FBQXhCLEtBQXJCO0FBQ0gsR0FiRCxDQWFFLE9BQU9VLEdBQVAsRUFBWTtBQUNWdkIsSUFBQUEsR0FBRyxDQUFDbUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVHLE1BQUFBO0FBQUYsS0FBckI7QUFDSDtBQUNKLENBcEJEO0FBc0JBMUIsR0FBRyxDQUFDQyxJQUFKLENBQVMsUUFBVCxFQUFtQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUM3QndCLG9CQUFTQyxZQUFULENBQ0ksT0FESixFQUVJO0FBQ0lDLElBQUFBLE9BQU8sRUFBRTtBQURiLEdBRkosRUFLSSxDQUFDSCxHQUFELEVBQU1qQixJQUFOLEVBQVlxQixPQUFaLEtBQXdCO0FBQ3BCLFFBQUlKLEdBQUosRUFBUztBQUNMdkIsTUFBQUEsR0FBRyxDQUFDbUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVHLFFBQUFBO0FBQUYsT0FBckI7QUFDSDs7QUFFRCxVQUFNO0FBQUVYLE1BQUFBLElBQUY7QUFBUVgsTUFBQUEsUUFBUjtBQUFrQkMsTUFBQUE7QUFBbEIsUUFBNEJJLElBQUksQ0FBQ3NCLE1BQUwsRUFBbEM7QUFDQSxVQUFNakIsT0FBTyxHQUFHO0FBQUVDLE1BQUFBLElBQUksRUFBRU4sSUFBSSxDQUFDTSxJQUFiO0FBQW1CWCxNQUFBQSxRQUFuQjtBQUE2QkMsTUFBQUE7QUFBN0IsS0FBaEI7O0FBQ0EsVUFBTVcsS0FBSyxHQUFHQyxzQkFBSUMsSUFBSixDQUFTSixPQUFULEVBQWtCSyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsY0FBOUIsQ0FBZDs7QUFDQWxCLElBQUFBLEdBQUcsQ0FBQ21CLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxJQUFJLEVBQUU7QUFBRWYsUUFBQUEsSUFBSSxFQUFFO0FBQUVNLFVBQUFBLElBQUY7QUFBUVgsVUFBQUEsUUFBUjtBQUFrQkMsVUFBQUE7QUFBbEI7QUFBUixPQUFSO0FBQTZDb0IsTUFBQUEsSUFBSSxFQUFFO0FBQUVULFFBQUFBO0FBQUY7QUFBbkQsS0FBckI7QUFDSCxHQWRMLEVBZUVkLEdBZkYsRUFlT0MsR0FmUDtBQWdCSCxDQWpCRDtlQW1CZUgsRyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9teVMzL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyJztcbmltcG9ydCBNYWlsZXIgZnJvbSAnLi4vbGliL21haWwnO1xuXG5jb25zdCBhcGkgPSBSb3V0ZXIoKTtcblxuYXBpLnBvc3QoJy9yZWdpc3RlcicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICAgbmlja25hbWUsIGVtYWlsLCBwYXNzd29yZCwgcGFzc3dvcmRfY29uZmlybWF0aW9uLFxuICAgIH0gPSByZXEuYm9keTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xuICAgICAgICAgICAgbmlja25hbWUsXG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICAgICAgcGFzc3dvcmRfY29uZmlybWF0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgICAgIE1haWxlci5zZW5kKHVzZXIuZW1haWwsICdXZWxjb21lJywgYEhlbGxvICR7dXNlci5uaWNrbmFtZX1gLCBgPGgxPkhlbGxvICR7dXNlci5uaWNrbmFtZX08L2gxPmApO1xuXG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHV1aWQ6IHVzZXIudXVpZCwgbmlja25hbWUsIGVtYWlsIH07XG4gICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24ocGF5bG9hZCwgcHJvY2Vzcy5lbnYuSldUX0VOQ1JZUFRJT04pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IGRhdGE6IHsgdXNlciB9LCBtZXRhOiB7IHRva2VuIH0gfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyIH0pO1xuICAgIH1cbn0pO1xuXG5hcGkucG9zdCgnL2xvZ2luJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcGFzc3BvcnQuYXV0aGVudGljYXRlKFxuICAgICAgICAnbG9jYWwnLFxuICAgICAgICB7XG4gICAgICAgICAgICBzZXNzaW9uOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgKGVyciwgdXNlciwgbWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7IHV1aWQsIG5pY2tuYW1lLCBlbWFpbCB9ID0gdXNlci50b0pTT04oKTtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHV1aWQ6IHVzZXIudXVpZCwgbmlja25hbWUsIGVtYWlsIH07XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHBheWxvYWQsIHByb2Nlc3MuZW52LkpXVF9FTkNSWVBUSU9OKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZGF0YTogeyB1c2VyOiB7IHV1aWQsIG5pY2tuYW1lLCBlbWFpbCB9IH0sIG1ldGE6IHsgdG9rZW4gfSB9KTtcbiAgICAgICAgfSxcbiAgICApKHJlcSwgcmVzKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBhcGk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "api",
        "post",
        "req",
        "res",
        "nickname",
        "email",
        "password",
        "password_confirmation",
        "body",
        "user",
        "User",
        "save",
        "Mailer",
        "send",
        "payload",
        "uuid",
        "token",
        "jwt",
        "sign",
        "process",
        "env",
        "JWT_ENCRYPTION",
        "status",
        "json",
        "data",
        "meta",
        "err",
        "passport",
        "authenticate",
        "session",
        "message",
        "toJSON"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,IAAJ,CAAS,WAAT,EAAsB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM;AACFC,IAAAA,QADE;AACQC,IAAAA,KADR;AACeC,IAAAA,QADf;AACyBC,IAAAA;AADzB,MAEFL,GAAG,CAACM,IAFR;;AAGA,MAAI;AACA,UAAMC,IAAI,GAAG,IAAIC,aAAJ,CAAS;AAClBN,MAAAA,QADkB;AAElBC,MAAAA,KAFkB;AAGlBC,MAAAA,QAHkB;AAIlBC,MAAAA;AAJkB,KAAT,CAAb;AAMA,UAAME,IAAI,CAACE,IAAL,EAAN;;AACAC,kBAAOC,IAAP,CAAYJ,IAAI,CAACJ,KAAjB,EAAwB,SAAxB,EAAoC,SAAQI,IAAI,CAACL,QAAS,EAA1D,EAA8D,aAAYK,IAAI,CAACL,QAAS,OAAxF;;AAEA,UAAMU,OAAO,GAAG;AAAEC,MAAAA,IAAI,EAAEN,IAAI,CAACM,IAAb;AAAmBX,MAAAA,QAAnB;AAA6BC,MAAAA;AAA7B,KAAhB;;AACA,UAAMW,KAAK,GAAGC,sBAAIC,IAAJ,CAASJ,OAAT,EAAkBK,OAAO,CAACC,GAAR,CAAYC,cAA9B,CAAd;;AACAlB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAE;AAAEf,QAAAA;AAAF,OAAR;AAAkBgB,MAAAA,IAAI,EAAE;AAAET,QAAAA;AAAF;AAAxB,KAArB;AACH,GAbD,CAaE,OAAOU,GAAP,EAAY;AACVvB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,MAAAA;AAAF,KAArB;AACH;AACJ,CApBD;AAsBA1B,GAAG,CAACC,IAAJ,CAAS,QAAT,EAAmB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC7BwB,oBAASC,YAAT,CACI,OADJ,EAEI;AACIC,IAAAA,OAAO,EAAE;AADb,GAFJ,EAKI,CAACH,GAAD,EAAMjB,IAAN,EAAYqB,OAAZ,KAAwB;AACpB,QAAIJ,GAAJ,EAAS;AACLvB,MAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,QAAAA;AAAF,OAArB;AACH;;AAED,UAAM;AAAEX,MAAAA,IAAF;AAAQX,MAAAA,QAAR;AAAkBC,MAAAA;AAAlB,QAA4BI,IAAI,CAACsB,MAAL,EAAlC;AACA,UAAMjB,OAAO,GAAG;AAAEC,MAAAA,IAAI,EAAEN,IAAI,CAACM,IAAb;AAAmBX,MAAAA,QAAnB;AAA6BC,MAAAA;AAA7B,KAAhB;;AACA,UAAMW,KAAK,GAAGC,sBAAIC,IAAJ,CAASJ,OAAT,EAAkBK,OAAO,CAACC,GAAR,CAAYC,cAA9B,CAAd;;AACAlB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAE;AAAEf,QAAAA,IAAI,EAAE;AAAEM,UAAAA,IAAF;AAAQX,UAAAA,QAAR;AAAkBC,UAAAA;AAAlB;AAAR,OAAR;AAA6CoB,MAAAA,IAAI,EAAE;AAAET,QAAAA;AAAF;AAAnD,KAArB;AACH,GAdL,EAeEd,GAfF,EAeOC,GAfP;AAgBH,CAjBD;eAmBeH,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "sourcesContent": [
        "import { Router } from 'express';\nimport passport from 'passport';\nimport jwt from 'jsonwebtoken';\nimport User from '../models/user';\nimport Mailer from '../lib/mail';\n\nconst api = Router();\n\napi.post('/register', async (req, res) => {\n    const {\n        nickname, email, password, password_confirmation,\n    } = req.body;\n    try {\n        const user = new User({\n            nickname,\n            email,\n            password,\n            password_confirmation,\n        });\n        await user.save();\n        Mailer.send(user.email, 'Welcome', `Hello ${user.nickname}`, `<h1>Hello ${user.nickname}</h1>`);\n\n        const payload = { uuid: user.uuid, nickname, email };\n        const token = jwt.sign(payload, process.env.JWT_ENCRYPTION);\n        res.status(201).json({ data: { user }, meta: { token } });\n    } catch (err) {\n        res.status(400).json({ err });\n    }\n});\n\napi.post('/login', (req, res) => {\n    passport.authenticate(\n        'local',\n        {\n            session: false,\n        },\n        (err, user, message) => {\n            if (err) {\n                res.status(400).json({ err });\n            }\n\n            const { uuid, nickname, email } = user.toJSON();\n            const payload = { uuid: user.uuid, nickname, email };\n            const token = jwt.sign(payload, process.env.JWT_ENCRYPTION);\n            res.status(200).json({ data: { user: { uuid, nickname, email } }, meta: { token } });\n        },\n    )(req, res);\n});\n\nexport default api;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689690707
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/mail.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/mail.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/mail.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/mail.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
        "sourceFileName": "mail.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nclass Mailer {\n  constructor() {\n    if (!Mailer.instance) {\n      Mailer.instance = this;\n      this.init();\n    }\n\n    return Mailer.instance;\n  }\n\n  init() {\n    this.transporter = _nodemailer.default.createTransport({\n      host: process.env.MAILER_HOST,\n      port: process.env.MAILER_PORT,\n      secure: false,\n      ignoreTLS: true\n    });\n    this.transporter.verify((error, success) => {\n      if (error) {\n        console.log(error);\n      } else {\n        console.log('Server is ready to take our messages');\n      }\n    });\n  }\n\n  send(to, subject, text, html) {\n    const mailOptions = {\n      from: '\"Citadel Administration\" <admin@citadel.com>',\n      to,\n      subject,\n      text,\n      html\n    };\n    this.transporter.sendMail(mailOptions, (error, info) => {\n      if (error) {\n        return console.log(error);\n      }\n\n      return console.log('Message sent: %s', info.messageId);\n    });\n  }\n\n}\n\nconst instance = new Mailer();\nObject.freeze(instance);\nvar _default = instance;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haWwuanMiXSwibmFtZXMiOlsiZG90ZW52IiwiY29uZmlnIiwiTWFpbGVyIiwiY29uc3RydWN0b3IiLCJpbnN0YW5jZSIsImluaXQiLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicHJvY2VzcyIsImVudiIsIk1BSUxFUl9IT1NUIiwicG9ydCIsIk1BSUxFUl9QT1JUIiwic2VjdXJlIiwiaWdub3JlVExTIiwidmVyaWZ5IiwiZXJyb3IiLCJzdWNjZXNzIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ0byIsInN1YmplY3QiLCJ0ZXh0IiwiaHRtbCIsIm1haWxPcHRpb25zIiwiZnJvbSIsInNlbmRNYWlsIiwiaW5mbyIsIm1lc3NhZ2VJZCIsIk9iamVjdCIsImZyZWV6ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUFBLGdCQUFPQyxNQUFQOztBQUVBLE1BQU1DLE1BQU4sQ0FBYTtBQUNUQyxFQUFBQSxXQUFXLEdBQUc7QUFDVixRQUFJLENBQUNELE1BQU0sQ0FBQ0UsUUFBWixFQUFzQjtBQUNsQkYsTUFBQUEsTUFBTSxDQUFDRSxRQUFQLEdBQWtCLElBQWxCO0FBQ0EsV0FBS0MsSUFBTDtBQUNIOztBQUVELFdBQU9ILE1BQU0sQ0FBQ0UsUUFBZDtBQUNIOztBQUVEQyxFQUFBQSxJQUFJLEdBQUc7QUFDSCxTQUFLQyxXQUFMLEdBQW1CQyxvQkFBV0MsZUFBWCxDQUEyQjtBQUMxQ0MsTUFBQUEsSUFBSSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FEd0I7QUFFMUNDLE1BQUFBLElBQUksRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLFdBRndCO0FBRzFDQyxNQUFBQSxNQUFNLEVBQUUsS0FIa0M7QUFJMUNDLE1BQUFBLFNBQVMsRUFBRTtBQUorQixLQUEzQixDQUFuQjtBQU9BLFNBQUtWLFdBQUwsQ0FBaUJXLE1BQWpCLENBQXdCLENBQUNDLEtBQUQsRUFBUUMsT0FBUixLQUFvQjtBQUN4QyxVQUFJRCxLQUFKLEVBQVc7QUFDUEUsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlILEtBQVo7QUFDSCxPQUZELE1BRU87QUFDSEUsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksc0NBQVo7QUFDSDtBQUNKLEtBTkQ7QUFPSDs7QUFFREMsRUFBQUEsSUFBSSxDQUFDQyxFQUFELEVBQUtDLE9BQUwsRUFBY0MsSUFBZCxFQUFvQkMsSUFBcEIsRUFBMEI7QUFDMUIsVUFBTUMsV0FBVyxHQUFHO0FBQ2hCQyxNQUFBQSxJQUFJLEVBQUUsOENBRFU7QUFFaEJMLE1BQUFBLEVBRmdCO0FBR2hCQyxNQUFBQSxPQUhnQjtBQUloQkMsTUFBQUEsSUFKZ0I7QUFLaEJDLE1BQUFBO0FBTGdCLEtBQXBCO0FBUUEsU0FBS3BCLFdBQUwsQ0FBaUJ1QixRQUFqQixDQUEwQkYsV0FBMUIsRUFBdUMsQ0FBQ1QsS0FBRCxFQUFRWSxJQUFSLEtBQWlCO0FBQ3BELFVBQUlaLEtBQUosRUFBVztBQUNQLGVBQU9FLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxLQUFaLENBQVA7QUFDSDs7QUFDRCxhQUFPRSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQkFBWixFQUFnQ1MsSUFBSSxDQUFDQyxTQUFyQyxDQUFQO0FBQ0gsS0FMRDtBQU1IOztBQTFDUTs7QUE2Q2IsTUFBTTNCLFFBQVEsR0FBRyxJQUFJRixNQUFKLEVBQWpCO0FBQ0E4QixNQUFNLENBQUNDLE1BQVAsQ0FBYzdCLFFBQWQ7ZUFFZUEsUSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9teVMzL2xpYiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBub2RlbWFpbGVyIGZyb20gJ25vZGVtYWlsZXInO1xuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5cbmNsYXNzIE1haWxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGlmICghTWFpbGVyLmluc3RhbmNlKSB7XG4gICAgICAgICAgICBNYWlsZXIuaW5zdGFuY2UgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTWFpbGVyLmluc3RhbmNlO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gICAgICAgICAgICBob3N0OiBwcm9jZXNzLmVudi5NQUlMRVJfSE9TVCxcbiAgICAgICAgICAgIHBvcnQ6IHByb2Nlc3MuZW52Lk1BSUxFUl9QT1JULFxuICAgICAgICAgICAgc2VjdXJlOiBmYWxzZSxcbiAgICAgICAgICAgIGlnbm9yZVRMUzogdHJ1ZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50cmFuc3BvcnRlci52ZXJpZnkoKGVycm9yLCBzdWNjZXNzKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXIgaXMgcmVhZHkgdG8gdGFrZSBvdXIgbWVzc2FnZXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2VuZCh0bywgc3ViamVjdCwgdGV4dCwgaHRtbCkge1xuICAgICAgICBjb25zdCBtYWlsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGZyb206ICdcIkNpdGFkZWwgQWRtaW5pc3RyYXRpb25cIiA8YWRtaW5AY2l0YWRlbC5jb20+JyxcbiAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgc3ViamVjdCxcbiAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICBodG1sLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMudHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMsIChlcnJvciwgaW5mbykgPT4ge1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnTWVzc2FnZSBzZW50OiAlcycsIGluZm8ubWVzc2FnZUlkKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jb25zdCBpbnN0YW5jZSA9IG5ldyBNYWlsZXIoKTtcbk9iamVjdC5mcmVlemUoaW5zdGFuY2UpO1xuXG5leHBvcnQgZGVmYXVsdCBpbnN0YW5jZTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "mail.js"
      ],
      "names": [
        "dotenv",
        "config",
        "Mailer",
        "constructor",
        "instance",
        "init",
        "transporter",
        "nodemailer",
        "createTransport",
        "host",
        "process",
        "env",
        "MAILER_HOST",
        "port",
        "MAILER_PORT",
        "secure",
        "ignoreTLS",
        "verify",
        "error",
        "success",
        "console",
        "log",
        "send",
        "to",
        "subject",
        "text",
        "html",
        "mailOptions",
        "from",
        "sendMail",
        "info",
        "messageId",
        "Object",
        "freeze"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMC,MAAN,CAAa;AACTC,EAAAA,WAAW,GAAG;AACV,QAAI,CAACD,MAAM,CAACE,QAAZ,EAAsB;AAClBF,MAAAA,MAAM,CAACE,QAAP,GAAkB,IAAlB;AACA,WAAKC,IAAL;AACH;;AAED,WAAOH,MAAM,CAACE,QAAd;AACH;;AAEDC,EAAAA,IAAI,GAAG;AACH,SAAKC,WAAL,GAAmBC,oBAAWC,eAAX,CAA2B;AAC1CC,MAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADwB;AAE1CC,MAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFwB;AAG1CC,MAAAA,MAAM,EAAE,KAHkC;AAI1CC,MAAAA,SAAS,EAAE;AAJ+B,KAA3B,CAAnB;AAOA,SAAKV,WAAL,CAAiBW,MAAjB,CAAwB,CAACC,KAAD,EAAQC,OAAR,KAAoB;AACxC,UAAID,KAAJ,EAAW;AACPE,QAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACH,OAFD,MAEO;AACHE,QAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACH;AACJ,KAND;AAOH;;AAEDC,EAAAA,IAAI,CAACC,EAAD,EAAKC,OAAL,EAAcC,IAAd,EAAoBC,IAApB,EAA0B;AAC1B,UAAMC,WAAW,GAAG;AAChBC,MAAAA,IAAI,EAAE,8CADU;AAEhBL,MAAAA,EAFgB;AAGhBC,MAAAA,OAHgB;AAIhBC,MAAAA,IAJgB;AAKhBC,MAAAA;AALgB,KAApB;AAQA,SAAKpB,WAAL,CAAiBuB,QAAjB,CAA0BF,WAA1B,EAAuC,CAACT,KAAD,EAAQY,IAAR,KAAiB;AACpD,UAAIZ,KAAJ,EAAW;AACP,eAAOE,OAAO,CAACC,GAAR,CAAYH,KAAZ,CAAP;AACH;;AACD,aAAOE,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCS,IAAI,CAACC,SAArC,CAAP;AACH,KALD;AAMH;;AA1CQ;;AA6Cb,MAAM3B,QAAQ,GAAG,IAAIF,MAAJ,EAAjB;AACA8B,MAAM,CAACC,MAAP,CAAc7B,QAAd;eAEeA,Q",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
      "sourcesContent": [
        "import nodemailer from 'nodemailer';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nclass Mailer {\n    constructor() {\n        if (!Mailer.instance) {\n            Mailer.instance = this;\n            this.init();\n        }\n\n        return Mailer.instance;\n    }\n\n    init() {\n        this.transporter = nodemailer.createTransport({\n            host: process.env.MAILER_HOST,\n            port: process.env.MAILER_PORT,\n            secure: false,\n            ignoreTLS: true,\n        });\n\n        this.transporter.verify((error, success) => {\n            if (error) {\n                console.log(error);\n            } else {\n                console.log('Server is ready to take our messages');\n            }\n        });\n    }\n\n    send(to, subject, text, html) {\n        const mailOptions = {\n            from: '\"Citadel Administration\" <admin@citadel.com>',\n            to,\n            subject,\n            text,\n            html,\n        };\n\n        this.transporter.sendMail(mailOptions, (error, info) => {\n            if (error) {\n                return console.log(error);\n            }\n            return console.log('Message sent: %s', info.messageId);\n        });\n    }\n}\n\nconst instance = new Mailer();\nObject.freeze(instance);\n\nexport default instance;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541753713563
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/middlewares\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/middlewares/passport.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/middlewares",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/middlewares/passport.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/middlewares/passport.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/middlewares/passport.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/middlewares",
        "sourceFileName": "passport.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _passportLocal = require(\"passport-local\");\n\nvar _passportJwt = require(\"passport-jwt\");\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_passport.default.use(new _passportLocal.Strategy({\n  usernameField: 'nickname',\n  passwordField: 'password'\n}, async (nickname, password, done) => {\n  try {\n    const user = await _user.default.findOne({\n      where: {\n        nickname\n      }\n    });\n\n    if (!user) {\n      done('invalid nickname');\n    }\n\n    if (!(await user.checkPwd(password))) {\n      done('wrong password');\n    }\n\n    done(false, user);\n  } catch (err) {\n    done(`${err.messages}`);\n  }\n}));\n\n_passport.default.use(new _passportJwt.Strategy({\n  jwtFromRequest: _passportJwt.ExtractJwt.fromAuthHeaderAsBearerToken(),\n  secretOrKey: process.env.JWT_ENCRYPTION\n}, async (jwtPayload, done) => {\n  try {\n    const user = await _user.default.findOne({\n      where: {\n        uuid: jwtPayload.uuid\n      }\n    });\n\n    if (user) {\n      done(false, user);\n    }\n  } catch (err) {\n    done(err);\n  }\n}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sIm5hbWVzIjpbInBhc3Nwb3J0IiwidXNlIiwiTG9jYWxTdHJhdGVneSIsInVzZXJuYW1lRmllbGQiLCJwYXNzd29yZEZpZWxkIiwibmlja25hbWUiLCJwYXNzd29yZCIsImRvbmUiLCJ1c2VyIiwiVXNlciIsImZpbmRPbmUiLCJ3aGVyZSIsImNoZWNrUHdkIiwiZXJyIiwibWVzc2FnZXMiLCJKc29uV2ViVG9rZW5TdHJhdGVneSIsImp3dEZyb21SZXF1ZXN0IiwiRXh0cmFjdEp3dCIsImZyb21BdXRoSGVhZGVyQXNCZWFyZXJUb2tlbiIsInNlY3JldE9yS2V5IiwicHJvY2VzcyIsImVudiIsIkpXVF9FTkNSWVBUSU9OIiwiand0UGF5bG9hZCIsInV1aWQiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQUEsa0JBQVNDLEdBQVQsQ0FDSSxJQUFJQyx1QkFBSixDQUNJO0FBQUVDLEVBQUFBLGFBQWEsRUFBRSxVQUFqQjtBQUE2QkMsRUFBQUEsYUFBYSxFQUFFO0FBQTVDLENBREosRUFFSSxPQUFPQyxRQUFQLEVBQWlCQyxRQUFqQixFQUEyQkMsSUFBM0IsS0FBb0M7QUFDaEMsTUFBSTtBQUNBLFVBQU1DLElBQUksR0FBRyxNQUFNQyxjQUFLQyxPQUFMLENBQWE7QUFBRUMsTUFBQUEsS0FBSyxFQUFFO0FBQUVOLFFBQUFBO0FBQUY7QUFBVCxLQUFiLENBQW5COztBQUNBLFFBQUksQ0FBQ0csSUFBTCxFQUFXO0FBQ1BELE1BQUFBLElBQUksQ0FBQyxrQkFBRCxDQUFKO0FBQ0g7O0FBQ0QsUUFBSSxFQUFFLE1BQU1DLElBQUksQ0FBQ0ksUUFBTCxDQUFjTixRQUFkLENBQVIsQ0FBSixFQUFzQztBQUNsQ0MsTUFBQUEsSUFBSSxDQUFDLGdCQUFELENBQUo7QUFDSDs7QUFDREEsSUFBQUEsSUFBSSxDQUFDLEtBQUQsRUFBUUMsSUFBUixDQUFKO0FBQ0gsR0FURCxDQVNFLE9BQU9LLEdBQVAsRUFBWTtBQUNWTixJQUFBQSxJQUFJLENBQUUsR0FBRU0sR0FBRyxDQUFDQyxRQUFTLEVBQWpCLENBQUo7QUFDSDtBQUNKLENBZkwsQ0FESjs7QUFvQkFkLGtCQUFTQyxHQUFULENBQ0ksSUFBSWMscUJBQUosQ0FDSTtBQUNJQyxFQUFBQSxjQUFjLEVBQUVDLHdCQUFXQywyQkFBWCxFQURwQjtBQUVJQyxFQUFBQSxXQUFXLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQztBQUY3QixDQURKLEVBS0ksT0FBT0MsVUFBUCxFQUFtQmhCLElBQW5CLEtBQTRCO0FBQ3hCLE1BQUk7QUFDQSxVQUFNQyxJQUFJLEdBQUcsTUFBTUMsY0FBS0MsT0FBTCxDQUFhO0FBQUVDLE1BQUFBLEtBQUssRUFBRTtBQUFFYSxRQUFBQSxJQUFJLEVBQUVELFVBQVUsQ0FBQ0M7QUFBbkI7QUFBVCxLQUFiLENBQW5COztBQUVBLFFBQUloQixJQUFKLEVBQVU7QUFDTkQsTUFBQUEsSUFBSSxDQUFDLEtBQUQsRUFBUUMsSUFBUixDQUFKO0FBQ0g7QUFFSixHQVBELENBT0UsT0FBT0ssR0FBUCxFQUFZO0FBQ1ZOLElBQUFBLElBQUksQ0FBQ00sR0FBRCxDQUFKO0FBQ0g7QUFDSixDQWhCTCxDQURKIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbnRvaW5lZnJhbmNvaXMvRGVza3RvcC9hbnRvaW5lL3Ryb2lzaWXMgG1lX2FubmVlL215UzMvbWlkZGxld2FyZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IHsgU3RyYXRlZ3kgYXMgTG9jYWxTdHJhdGVneSB9IGZyb20gJ3Bhc3Nwb3J0LWxvY2FsJztcbmltcG9ydCB7IFN0cmF0ZWd5IGFzIEpzb25XZWJUb2tlblN0cmF0ZWd5LCBFeHRyYWN0Snd0IH0gZnJvbSAncGFzc3BvcnQtand0JztcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyJztcblxucGFzc3BvcnQudXNlKFxuICAgIG5ldyBMb2NhbFN0cmF0ZWd5KFxuICAgICAgICB7IHVzZXJuYW1lRmllbGQ6ICduaWNrbmFtZScsIHBhc3N3b3JkRmllbGQ6ICdwYXNzd29yZCcgfSxcbiAgICAgICAgYXN5bmMgKG5pY2tuYW1lLCBwYXNzd29yZCwgZG9uZSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgd2hlcmU6IHsgbmlja25hbWUgfSB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgnaW52YWxpZCBuaWNrbmFtZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIShhd2FpdCB1c2VyLmNoZWNrUHdkKHBhc3N3b3JkKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgnd3JvbmcgcGFzc3dvcmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9uZShmYWxzZSwgdXNlcik7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBkb25lKGAke2Vyci5tZXNzYWdlc31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICApLFxuKTtcblxucGFzc3BvcnQudXNlKFxuICAgIG5ldyBKc29uV2ViVG9rZW5TdHJhdGVneShcbiAgICAgICAge1xuICAgICAgICAgICAgand0RnJvbVJlcXVlc3Q6IEV4dHJhY3RKd3QuZnJvbUF1dGhIZWFkZXJBc0JlYXJlclRva2VuKCksXG4gICAgICAgICAgICBzZWNyZXRPcktleTogcHJvY2Vzcy5lbnYuSldUX0VOQ1JZUFRJT04sXG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIChqd3RQYXlsb2FkLCBkb25lKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyB3aGVyZTogeyB1dWlkOiBqd3RQYXlsb2FkLnV1aWQgfSB9KTtcblxuICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUoZmFsc2UsIHVzZXIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgZG9uZShlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICksXG4pOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "passport.js"
      ],
      "names": [
        "passport",
        "use",
        "LocalStrategy",
        "usernameField",
        "passwordField",
        "nickname",
        "password",
        "done",
        "user",
        "User",
        "findOne",
        "where",
        "checkPwd",
        "err",
        "messages",
        "JsonWebTokenStrategy",
        "jwtFromRequest",
        "ExtractJwt",
        "fromAuthHeaderAsBearerToken",
        "secretOrKey",
        "process",
        "env",
        "JWT_ENCRYPTION",
        "jwtPayload",
        "uuid"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;;;AAEAA,kBAASC,GAAT,CACI,IAAIC,uBAAJ,CACI;AAAEC,EAAAA,aAAa,EAAE,UAAjB;AAA6BC,EAAAA,aAAa,EAAE;AAA5C,CADJ,EAEI,OAAOC,QAAP,EAAiBC,QAAjB,EAA2BC,IAA3B,KAAoC;AAChC,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMC,cAAKC,OAAL,CAAa;AAAEC,MAAAA,KAAK,EAAE;AAAEN,QAAAA;AAAF;AAAT,KAAb,CAAnB;;AACA,QAAI,CAACG,IAAL,EAAW;AACPD,MAAAA,IAAI,CAAC,kBAAD,CAAJ;AACH;;AACD,QAAI,EAAE,MAAMC,IAAI,CAACI,QAAL,CAAcN,QAAd,CAAR,CAAJ,EAAsC;AAClCC,MAAAA,IAAI,CAAC,gBAAD,CAAJ;AACH;;AACDA,IAAAA,IAAI,CAAC,KAAD,EAAQC,IAAR,CAAJ;AACH,GATD,CASE,OAAOK,GAAP,EAAY;AACVN,IAAAA,IAAI,CAAE,GAAEM,GAAG,CAACC,QAAS,EAAjB,CAAJ;AACH;AACJ,CAfL,CADJ;;AAoBAd,kBAASC,GAAT,CACI,IAAIc,qBAAJ,CACI;AACIC,EAAAA,cAAc,EAAEC,wBAAWC,2BAAX,EADpB;AAEIC,EAAAA,WAAW,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAF7B,CADJ,EAKI,OAAOC,UAAP,EAAmBhB,IAAnB,KAA4B;AACxB,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMC,cAAKC,OAAL,CAAa;AAAEC,MAAAA,KAAK,EAAE;AAAEa,QAAAA,IAAI,EAAED,UAAU,CAACC;AAAnB;AAAT,KAAb,CAAnB;;AAEA,QAAIhB,IAAJ,EAAU;AACND,MAAAA,IAAI,CAAC,KAAD,EAAQC,IAAR,CAAJ;AACH;AAEJ,GAPD,CAOE,OAAOK,GAAP,EAAY;AACVN,IAAAA,IAAI,CAACM,GAAD,CAAJ;AACH;AACJ,CAhBL,CADJ",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/middlewares",
      "sourcesContent": [
        "import passport from 'passport';\nimport { Strategy as LocalStrategy } from 'passport-local';\nimport { Strategy as JsonWebTokenStrategy, ExtractJwt } from 'passport-jwt';\nimport User from '../models/user';\n\npassport.use(\n    new LocalStrategy(\n        { usernameField: 'nickname', passwordField: 'password' },\n        async (nickname, password, done) => {\n            try {\n                const user = await User.findOne({ where: { nickname } });\n                if (!user) {\n                    done('invalid nickname');\n                }\n                if (!(await user.checkPwd(password))) {\n                    done('wrong password');\n                }\n                done(false, user);\n            } catch (err) {\n                done(`${err.messages}`);\n            }\n        },\n    ),\n);\n\npassport.use(\n    new JsonWebTokenStrategy(\n        {\n            jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n            secretOrKey: process.env.JWT_ENCRYPTION,\n        },\n        async (jwtPayload, done) => {\n            try {\n                const user = await User.findOne({ where: { uuid: jwtPayload.uuid } });\n\n                if (user) {\n                    done(false, user);\n                }\n\n            } catch (err) {\n                done(err);\n            }\n        },\n    ),\n);"
      ]
    },
    "sourceType": "script",
    "mtime": 1541773131297
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/utils.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/utils.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/utils.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mLog = mLog;\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _kleur = _interopRequireDefault(require(\"kleur\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mLog(str, c = 'magenta', withNewLine = true) {\n  const display = _kleur.default[c](`${(0, _moment.default)().format()} - ${str}`);\n\n  if (withNewLine) {\n    console.log(display);\n  } else {\n    process.stdout.write(display);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbIm1Mb2ciLCJzdHIiLCJjIiwid2l0aE5ld0xpbmUiLCJkaXNwbGF5Iiwia2xldXIiLCJmb3JtYXQiLCJjb25zb2xlIiwibG9nIiwicHJvY2VzcyIsInN0ZG91dCIsIndyaXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFTyxTQUFTQSxJQUFULENBQWNDLEdBQWQsRUFBbUJDLENBQUMsR0FBRyxTQUF2QixFQUFrQ0MsV0FBVyxHQUFHLElBQWhELEVBQXNEO0FBQ3pELFFBQU1DLE9BQU8sR0FBR0MsZUFBTUgsQ0FBTixFQUFVLEdBQUUsdUJBQVNJLE1BQVQsRUFBa0IsTUFBS0wsR0FBSSxFQUF2QyxDQUFoQjs7QUFDQSxNQUFJRSxXQUFKLEVBQWlCO0FBQ2JJLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSixPQUFaO0FBQ0gsR0FGRCxNQUVPO0FBQ0hLLElBQUFBLE9BQU8sQ0FBQ0MsTUFBUixDQUFlQyxLQUFmLENBQXFCUCxPQUFyQjtBQUNIO0FBQ0oiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvbXlTMy9saWIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQga2xldXIgZnJvbSAna2xldXInO1xuXG5leHBvcnQgZnVuY3Rpb24gbUxvZyhzdHIsIGMgPSAnbWFnZW50YScsIHdpdGhOZXdMaW5lID0gdHJ1ZSkge1xuICAgIGNvbnN0IGRpc3BsYXkgPSBrbGV1cltjXShgJHttb21lbnQoKS5mb3JtYXQoKX0gLSAke3N0cn1gKTtcbiAgICBpZiAod2l0aE5ld0xpbmUpIHtcbiAgICAgICAgY29uc29sZS5sb2coZGlzcGxheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoZGlzcGxheSk7XG4gICAgfVxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "mLog",
        "str",
        "c",
        "withNewLine",
        "display",
        "kleur",
        "format",
        "console",
        "log",
        "process",
        "stdout",
        "write"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEO,SAASA,IAAT,CAAcC,GAAd,EAAmBC,CAAC,GAAG,SAAvB,EAAkCC,WAAW,GAAG,IAAhD,EAAsD;AACzD,QAAMC,OAAO,GAAGC,eAAMH,CAAN,EAAU,GAAE,uBAASI,MAAT,EAAkB,MAAKL,GAAI,EAAvC,CAAhB;;AACA,MAAIE,WAAJ,EAAiB;AACbI,IAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AACH,GAFD,MAEO;AACHK,IAAAA,OAAO,CAACC,MAAR,CAAeC,KAAf,CAAqBP,OAArB;AACH;AACJ",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
      "sourcesContent": [
        "import moment from 'moment';\nimport kleur from 'kleur';\n\nexport function mLog(str, c = 'magenta', withNewLine = true) {\n    const display = kleur[c](`${moment().format()} - ${str}`);\n    if (withNewLine) {\n        console.log(display);\n    } else {\n        process.stdout.write(display);\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689857719
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/bucket.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/bucket.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/bucket.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/bucket.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
        "sourceFileName": "bucket.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nclass Bucket extends _sequelize.Model {\n  static init(sequelize, DataTypes) {\n    return super.init({\n      id: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true\n      },\n      name: {\n        type: DataTypes.STRING,\n        allowNull: false\n      }\n    }, {\n      sequelize,\n      tableName: 'bucket'\n    });\n  }\n\n}\n\nexports.default = Bucket;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1Y2tldC5qcyJdLCJuYW1lcyI6WyJCdWNrZXQiLCJNb2RlbCIsImluaXQiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJpZCIsInR5cGUiLCJJTlRFR0VSIiwiYWxsb3dOdWxsIiwiYXV0b0luY3JlbWVudCIsInByaW1hcnlLZXkiLCJuYW1lIiwiU1RSSU5HIiwidGFibGVOYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBR2UsTUFBTUEsTUFBTixTQUFxQkMsZ0JBQXJCLENBQTJCO0FBQ3RDLFNBQU9DLElBQVAsQ0FBWUMsU0FBWixFQUF1QkMsU0FBdkIsRUFBa0M7QUFDOUIsV0FBTyxNQUFNRixJQUFOLENBQ0g7QUFDSUcsTUFBQUEsRUFBRSxFQUFFO0FBQ0FDLFFBQUFBLElBQUksRUFBRUYsU0FBUyxDQUFDRyxPQURoQjtBQUVBQyxRQUFBQSxTQUFTLEVBQUUsS0FGWDtBQUdBQyxRQUFBQSxhQUFhLEVBQUcsSUFIaEI7QUFJQUMsUUFBQUEsVUFBVSxFQUFFO0FBSlosT0FEUjtBQU9JQyxNQUFBQSxJQUFJLEVBQUU7QUFDRkwsUUFBQUEsSUFBSSxFQUFFRixTQUFTLENBQUNRLE1BRGQ7QUFFRkosUUFBQUEsU0FBUyxFQUFFO0FBRlQ7QUFQVixLQURHLEVBWUE7QUFBQ0wsTUFBQUEsU0FBRDtBQUNDVSxNQUFBQSxTQUFTLEVBQUU7QUFEWixLQVpBLENBQVA7QUFlSDs7QUFqQnFDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbnRvaW5lZnJhbmNvaXMvRGVza3RvcC9hbnRvaW5lL3Ryb2lzaWXMgG1lX2FubmVlL215UzMvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9kZWwgfSBmcm9tICdzZXF1ZWxpemUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1Y2tldCBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgaW5pdChzZXF1ZWxpemUsIERhdGFUeXBlcykge1xuICAgICAgICByZXR1cm4gc3VwZXIuaW5pdChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b0luY3JlbWVudCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgICAgICAgICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sIHtzZXF1ZWxpemUsXG4gICAgICAgICAgICAgICAgdGFibGVOYW1lOiAnYnVja2V0Jyx9LFxuICAgICAgICApO1xuICAgIH1cbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "bucket.js"
      ],
      "names": [
        "Bucket",
        "Model",
        "init",
        "sequelize",
        "DataTypes",
        "id",
        "type",
        "INTEGER",
        "allowNull",
        "autoIncrement",
        "primaryKey",
        "name",
        "STRING",
        "tableName"
      ],
      "mappings": ";;;;;;;AAAA;;AAGe,MAAMA,MAAN,SAAqBC,gBAArB,CAA2B;AACtC,SAAOC,IAAP,CAAYC,SAAZ,EAAuBC,SAAvB,EAAkC;AAC9B,WAAO,MAAMF,IAAN,CACH;AACIG,MAAAA,EAAE,EAAE;AACAC,QAAAA,IAAI,EAAEF,SAAS,CAACG,OADhB;AAEAC,QAAAA,SAAS,EAAE,KAFX;AAGAC,QAAAA,aAAa,EAAG,IAHhB;AAIAC,QAAAA,UAAU,EAAE;AAJZ,OADR;AAOIC,MAAAA,IAAI,EAAE;AACFL,QAAAA,IAAI,EAAEF,SAAS,CAACQ,MADd;AAEFJ,QAAAA,SAAS,EAAE;AAFT;AAPV,KADG,EAYA;AAACL,MAAAA,SAAD;AACCU,MAAAA,SAAS,EAAE;AADZ,KAZA,CAAP;AAeH;;AAjBqC",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "sourcesContent": [
        "import { Model } from 'sequelize';\n\n\nexport default class Bucket extends Model {\n    static init(sequelize, DataTypes) {\n        return super.init(\n            {\n                id: {\n                    type: DataTypes.INTEGER,\n                    allowNull: false,\n                    autoIncrement : true,\n                    primaryKey: true,\n                },\n                name: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                },\n            }, {sequelize,\n                tableName: 'bucket',},\n        );\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1541753636719
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/blob.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/blob.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/blob.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/blob.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
        "sourceFileName": "blob.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nclass Blob extends _sequelize.Model {\n  static init(sequelize, DataTypes) {\n    return super.init({\n      id: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true\n      },\n      name: {\n        type: DataTypes.STRING,\n        allowNull: false\n      },\n      path: {\n        type: DataTypes.STRING,\n        allowNull: false\n      },\n      size: {\n        type: DataTypes.INTEGER,\n        allowNull: false\n      }\n    }, {\n      sequelize,\n      tableName: 'blob'\n    });\n  }\n\n}\n\nexports.default = Blob;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2IuanMiXSwibmFtZXMiOlsiQmxvYiIsIk1vZGVsIiwiaW5pdCIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsImlkIiwidHlwZSIsIklOVEVHRVIiLCJhbGxvd051bGwiLCJhdXRvSW5jcmVtZW50IiwicHJpbWFyeUtleSIsIm5hbWUiLCJTVFJJTkciLCJwYXRoIiwic2l6ZSIsInRhYmxlTmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUdlLE1BQU1BLElBQU4sU0FBbUJDLGdCQUFuQixDQUF5QjtBQUNwQyxTQUFPQyxJQUFQLENBQVlDLFNBQVosRUFBdUJDLFNBQXZCLEVBQWtDO0FBQzlCLFdBQU8sTUFBTUYsSUFBTixDQUNIO0FBQ0lHLE1BQUFBLEVBQUUsRUFBRTtBQUNBQyxRQUFBQSxJQUFJLEVBQUVGLFNBQVMsQ0FBQ0csT0FEaEI7QUFFQUMsUUFBQUEsU0FBUyxFQUFFLEtBRlg7QUFHQUMsUUFBQUEsYUFBYSxFQUFHLElBSGhCO0FBSUFDLFFBQUFBLFVBQVUsRUFBRTtBQUpaLE9BRFI7QUFPSUMsTUFBQUEsSUFBSSxFQUFFO0FBQ0ZMLFFBQUFBLElBQUksRUFBRUYsU0FBUyxDQUFDUSxNQURkO0FBRUZKLFFBQUFBLFNBQVMsRUFBRTtBQUZULE9BUFY7QUFXSUssTUFBQUEsSUFBSSxFQUFFO0FBQ0ZQLFFBQUFBLElBQUksRUFBRUYsU0FBUyxDQUFDUSxNQURkO0FBRUZKLFFBQUFBLFNBQVMsRUFBRTtBQUZULE9BWFY7QUFlSU0sTUFBQUEsSUFBSSxFQUFFO0FBQ0ZSLFFBQUFBLElBQUksRUFBRUYsU0FBUyxDQUFDRyxPQURkO0FBRUZDLFFBQUFBLFNBQVMsRUFBRTtBQUZUO0FBZlYsS0FERyxFQXFCSDtBQUNJTCxNQUFBQSxTQURKO0FBRUlZLE1BQUFBLFNBQVMsRUFBRTtBQUZmLEtBckJHLENBQVA7QUEwQkg7O0FBNUJtQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9teVMzL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbG9iIGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBpbml0KHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5pbml0KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICAgICAgICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSW5jcmVtZW50IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBhdGg6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgICAgICAgICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VxdWVsaXplLFxuICAgICAgICAgICAgICAgIHRhYmxlTmFtZTogJ2Jsb2InLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "blob.js"
      ],
      "names": [
        "Blob",
        "Model",
        "init",
        "sequelize",
        "DataTypes",
        "id",
        "type",
        "INTEGER",
        "allowNull",
        "autoIncrement",
        "primaryKey",
        "name",
        "STRING",
        "path",
        "size",
        "tableName"
      ],
      "mappings": ";;;;;;;AAAA;;AAGe,MAAMA,IAAN,SAAmBC,gBAAnB,CAAyB;AACpC,SAAOC,IAAP,CAAYC,SAAZ,EAAuBC,SAAvB,EAAkC;AAC9B,WAAO,MAAMF,IAAN,CACH;AACIG,MAAAA,EAAE,EAAE;AACAC,QAAAA,IAAI,EAAEF,SAAS,CAACG,OADhB;AAEAC,QAAAA,SAAS,EAAE,KAFX;AAGAC,QAAAA,aAAa,EAAG,IAHhB;AAIAC,QAAAA,UAAU,EAAE;AAJZ,OADR;AAOIC,MAAAA,IAAI,EAAE;AACFL,QAAAA,IAAI,EAAEF,SAAS,CAACQ,MADd;AAEFJ,QAAAA,SAAS,EAAE;AAFT,OAPV;AAWIK,MAAAA,IAAI,EAAE;AACFP,QAAAA,IAAI,EAAEF,SAAS,CAACQ,MADd;AAEFJ,QAAAA,SAAS,EAAE;AAFT,OAXV;AAeIM,MAAAA,IAAI,EAAE;AACFR,QAAAA,IAAI,EAAEF,SAAS,CAACG,OADd;AAEFC,QAAAA,SAAS,EAAE;AAFT;AAfV,KADG,EAqBH;AACIL,MAAAA,SADJ;AAEIY,MAAAA,SAAS,EAAE;AAFf,KArBG,CAAP;AA0BH;;AA5BmC",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "sourcesContent": [
        "import { Model } from 'sequelize';\n\n\nexport default class Blob extends Model {\n    static init(sequelize, DataTypes) {\n        return super.init(\n            {\n                id: {\n                    type: DataTypes.INTEGER,\n                    allowNull: false,\n                    autoIncrement : true,\n                    primaryKey: true,\n                },\n                name: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                },\n                path: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                },\n                size: {\n                    type: DataTypes.INTEGER,\n                    allowNull: false,\n                },\n            },\n            {\n                sequelize,\n                tableName: 'blob',\n            },\n        );\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1541756524772
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.db = void 0;\n\nvar _sequelize = _interopRequireWildcard(require(\"sequelize\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _bucket = _interopRequireDefault(require(\"./bucket\"));\n\nvar _blob = _interopRequireDefault(require(\"./blob\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n_dotenv.default.config();\n\nconst db = new _sequelize.default(process.env.DATABASE_URL, {\n  operatorsAliases: _sequelize.Op,\n  define: {\n    underscored: true\n  }\n});\nexports.db = db;\n\nconst modelUser = _user.default.init(db, _sequelize.default);\n\nconst modelBucket = _bucket.default.init(db, _sequelize.default);\n\nconst modelBlob = _blob.default.init(db, _sequelize.default);\n\nmodelUser.hasMany(_bucket.default, {\n  as: 'buckets'\n});\nmodelBucket.belongsTo(_user.default, {\n  as: 'user'\n});\nmodelBucket.hasMany(_blob.default, {\n  as: 'blobs'\n});\nmodelBlob.belongsTo(_bucket.default, {\n  as: 'bucket'\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImRiIiwiU2VxdWVsaXplIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsIm9wZXJhdG9yc0FsaWFzZXMiLCJPcCIsImRlZmluZSIsInVuZGVyc2NvcmVkIiwibW9kZWxVc2VyIiwiVXNlciIsImluaXQiLCJtb2RlbEJ1Y2tldCIsIkJ1Y2tldCIsIm1vZGVsQmxvYiIsIkJsb2IiLCJoYXNNYW55IiwiYXMiLCJiZWxvbmdzVG8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUFBLGdCQUFPQyxNQUFQOztBQUVPLE1BQU1DLEVBQUUsR0FBRyxJQUFJQyxrQkFBSixDQUFjQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsWUFBMUIsRUFBd0M7QUFDdERDLEVBQUFBLGdCQUFnQixFQUFFQyxhQURvQztBQUV0REMsRUFBQUEsTUFBTSxFQUFFO0FBQ0pDLElBQUFBLFdBQVcsRUFBRTtBQURUO0FBRjhDLENBQXhDLENBQVg7OztBQU9QLE1BQU1DLFNBQVMsR0FBR0MsY0FBS0MsSUFBTCxDQUFVWCxFQUFWLEVBQWNDLGtCQUFkLENBQWxCOztBQUNBLE1BQU1XLFdBQVcsR0FBR0MsZ0JBQU9GLElBQVAsQ0FBWVgsRUFBWixFQUFnQkMsa0JBQWhCLENBQXBCOztBQUNBLE1BQU1hLFNBQVMsR0FBR0MsY0FBS0osSUFBTCxDQUFVWCxFQUFWLEVBQWNDLGtCQUFkLENBQWxCOztBQUVBUSxTQUFTLENBQUNPLE9BQVYsQ0FBa0JILGVBQWxCLEVBQTBCO0FBQUNJLEVBQUFBLEVBQUUsRUFBRTtBQUFMLENBQTFCO0FBQ0FMLFdBQVcsQ0FBQ00sU0FBWixDQUFzQlIsYUFBdEIsRUFBNEI7QUFBQ08sRUFBQUEsRUFBRSxFQUFFO0FBQUwsQ0FBNUI7QUFFQUwsV0FBVyxDQUFDSSxPQUFaLENBQW9CRCxhQUFwQixFQUEwQjtBQUFDRSxFQUFBQSxFQUFFLEVBQUU7QUFBTCxDQUExQjtBQUNBSCxTQUFTLENBQUNJLFNBQVYsQ0FBb0JMLGVBQXBCLEVBQTRCO0FBQUNJLEVBQUFBLEVBQUUsRUFBRTtBQUFMLENBQTVCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbnRvaW5lZnJhbmNvaXMvRGVza3RvcC9hbnRvaW5lL3Ryb2lzaWXMgG1lX2FubmVlL215UzMvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlcXVlbGl6ZSwgeyBPcCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgVXNlciBmcm9tICcuL3VzZXInO1xuaW1wb3J0IEJ1Y2tldCBmcm9tICcuL2J1Y2tldCc7XG5pbXBvcnQgQmxvYiBmcm9tICcuL2Jsb2InO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5cbmV4cG9ydCBjb25zdCBkYiA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLCB7XG4gICAgb3BlcmF0b3JzQWxpYXNlczogT3AsXG4gICAgZGVmaW5lOiB7XG4gICAgICAgIHVuZGVyc2NvcmVkOiB0cnVlXG4gICAgfVxufSk7XG5cbmNvbnN0IG1vZGVsVXNlciA9IFVzZXIuaW5pdChkYiwgU2VxdWVsaXplKTtcbmNvbnN0IG1vZGVsQnVja2V0ID0gQnVja2V0LmluaXQoZGIsIFNlcXVlbGl6ZSk7XG5jb25zdCBtb2RlbEJsb2IgPSBCbG9iLmluaXQoZGIsIFNlcXVlbGl6ZSk7XG5cbm1vZGVsVXNlci5oYXNNYW55KEJ1Y2tldCwge2FzOiAnYnVja2V0cyd9KVxubW9kZWxCdWNrZXQuYmVsb25nc1RvKFVzZXIsIHthczogJ3VzZXInfSlcblxubW9kZWxCdWNrZXQuaGFzTWFueShCbG9iLCB7YXM6ICdibG9icyd9KVxubW9kZWxCbG9iLmJlbG9uZ3NUbyhCdWNrZXQsIHthczogJ2J1Y2tldCd9KSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "dotenv",
        "config",
        "db",
        "Sequelize",
        "process",
        "env",
        "DATABASE_URL",
        "operatorsAliases",
        "Op",
        "define",
        "underscored",
        "modelUser",
        "User",
        "init",
        "modelBucket",
        "Bucket",
        "modelBlob",
        "Blob",
        "hasMany",
        "as",
        "belongsTo"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEAA,gBAAOC,MAAP;;AAEO,MAAMC,EAAE,GAAG,IAAIC,kBAAJ,CAAcC,OAAO,CAACC,GAAR,CAAYC,YAA1B,EAAwC;AACtDC,EAAAA,gBAAgB,EAAEC,aADoC;AAEtDC,EAAAA,MAAM,EAAE;AACJC,IAAAA,WAAW,EAAE;AADT;AAF8C,CAAxC,CAAX;;;AAOP,MAAMC,SAAS,GAAGC,cAAKC,IAAL,CAAUX,EAAV,EAAcC,kBAAd,CAAlB;;AACA,MAAMW,WAAW,GAAGC,gBAAOF,IAAP,CAAYX,EAAZ,EAAgBC,kBAAhB,CAApB;;AACA,MAAMa,SAAS,GAAGC,cAAKJ,IAAL,CAAUX,EAAV,EAAcC,kBAAd,CAAlB;;AAEAQ,SAAS,CAACO,OAAV,CAAkBH,eAAlB,EAA0B;AAACI,EAAAA,EAAE,EAAE;AAAL,CAA1B;AACAL,WAAW,CAACM,SAAZ,CAAsBR,aAAtB,EAA4B;AAACO,EAAAA,EAAE,EAAE;AAAL,CAA5B;AAEAL,WAAW,CAACI,OAAZ,CAAoBD,aAApB,EAA0B;AAACE,EAAAA,EAAE,EAAE;AAAL,CAA1B;AACAH,SAAS,CAACI,SAAV,CAAoBL,eAApB,EAA4B;AAACI,EAAAA,EAAE,EAAE;AAAL,CAA5B",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "sourcesContent": [
        "import Sequelize, { Op } from 'sequelize';\nimport dotenv from 'dotenv';\nimport User from './user';\nimport Bucket from './bucket';\nimport Blob from './blob';\n\ndotenv.config();\n\nexport const db = new Sequelize(process.env.DATABASE_URL, {\n    operatorsAliases: Op,\n    define: {\n        underscored: true\n    }\n});\n\nconst modelUser = User.init(db, Sequelize);\nconst modelBucket = Bucket.init(db, Sequelize);\nconst modelBlob = Blob.init(db, Sequelize);\n\nmodelUser.hasMany(Bucket, {as: 'buckets'})\nmodelBucket.belongsTo(User, {as: 'user'})\n\nmodelBucket.hasMany(Blob, {as: 'blobs'})\nmodelBlob.belongsTo(Bucket, {as: 'bucket'})"
      ]
    },
    "sourceType": "script",
    "mtime": 1541759176937
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/user.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst MIN_PWD_LENGTH = 7;\n\nclass User extends _sequelize.Model {\n  static init(sequelize, DataTypes) {\n    return super.init({\n      uuid: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n      },\n      email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          isEmail: true\n        },\n        unique: {\n          args: true,\n          msg: 'email aready in use'\n        }\n      },\n      nickname: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: {\n          args: true,\n          msg: 'nickname already exists'\n        }\n      },\n      password: {\n        type: DataTypes.VIRTUAL,\n        validate: {\n          isLongEnough(value) {\n            if (value.length < MIN_PWD_LENGTH) {\n              throw new Error('password is too short');\n            }\n          }\n\n        }\n      },\n      password_confirmation: {\n        type: DataTypes.VIRTUAL,\n        validate: {\n          isEqual(value) {\n            if (this.password !== value) {\n              throw new Error(\"passwords don't match\");\n            }\n          }\n\n        }\n      },\n      password_digest: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      }\n    }, {\n      sequelize,\n      tableName: 'users',\n      hooks: {\n        async beforeValidate(user) {\n          if (user.isNewRecord) {\n            const SALT_ROUND = 7;\n            const hash = await _bcrypt.default.hash(user.password, SALT_ROUND);\n\n            if (hash === null) {\n              throw new Error(\"can't hash password\");\n            }\n\n            user.password_digest = hash;\n          }\n        },\n\n        async beforeSave(user, options) {\n          if (user.changed('password')) {\n            if (user.password !== user.password_confirmation) {\n              throw new Error(\"passwords don't match\");\n            }\n          }\n        }\n\n      }\n    });\n  }\n\n  async checkPwd(password) {\n    return await _bcrypt.default.compare(password, this.password_digest);\n  }\n\n  toJSON() {\n    const values = Object.assign({}, this.get());\n    delete values.password_digest;\n    delete values.password;\n    delete values.password_confirmation;\n    return values;\n  }\n\n}\n\nexports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiTUlOX1BXRF9MRU5HVEgiLCJVc2VyIiwiTW9kZWwiLCJpbml0Iiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwidXVpZCIsInR5cGUiLCJVVUlEIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwicHJpbWFyeUtleSIsImVtYWlsIiwiU1RSSU5HIiwiYWxsb3dOdWxsIiwidmFsaWRhdGUiLCJpc0VtYWlsIiwidW5pcXVlIiwiYXJncyIsIm1zZyIsIm5pY2tuYW1lIiwicGFzc3dvcmQiLCJWSVJUVUFMIiwiaXNMb25nRW5vdWdoIiwidmFsdWUiLCJsZW5ndGgiLCJFcnJvciIsInBhc3N3b3JkX2NvbmZpcm1hdGlvbiIsImlzRXF1YWwiLCJwYXNzd29yZF9kaWdlc3QiLCJub3RFbXB0eSIsInRhYmxlTmFtZSIsImhvb2tzIiwiYmVmb3JlVmFsaWRhdGUiLCJ1c2VyIiwiaXNOZXdSZWNvcmQiLCJTQUxUX1JPVU5EIiwiaGFzaCIsImJjcnlwdCIsImJlZm9yZVNhdmUiLCJvcHRpb25zIiwiY2hhbmdlZCIsImNoZWNrUHdkIiwiY29tcGFyZSIsInRvSlNPTiIsInZhbHVlcyIsIk9iamVjdCIsImFzc2lnbiIsImdldCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsY0FBYyxHQUFHLENBQXZCOztBQUVlLE1BQU1DLElBQU4sU0FBbUJDLGdCQUFuQixDQUF5QjtBQUNwQyxTQUFPQyxJQUFQLENBQVlDLFNBQVosRUFBdUJDLFNBQXZCLEVBQWtDO0FBQzlCLFdBQU8sTUFBTUYsSUFBTixDQUNIO0FBQ0lHLE1BQUFBLElBQUksRUFBRTtBQUFFQyxRQUFBQSxJQUFJLEVBQUVGLFNBQVMsQ0FBQ0csSUFBbEI7QUFBd0JDLFFBQUFBLFlBQVksRUFBRUosU0FBUyxDQUFDSyxNQUFoRDtBQUF3REMsUUFBQUEsVUFBVSxFQUFFO0FBQXBFLE9BRFY7QUFFSUMsTUFBQUEsS0FBSyxFQUFFO0FBQ0hMLFFBQUFBLElB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QUFLQyxHQUFMLEVBQWxCLENBQWY7QUFDQSxXQUFPSCxNQUFNLENBQUNoQixlQUFkO0FBQ0EsV0FBT2dCLE1BQU0sQ0FBQ3hCLFFBQWQ7QUFDQSxXQUFPd0IsTUFBTSxDQUFDbEIscUJBQWQ7QUFDQSxXQUFPa0IsTUFBUDtBQUNIOztBQW5GbUMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvbXlTMy9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RlbCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5cbmNvbnN0IE1JTl9QV0RfTEVOR1RIID0gNztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlciBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgaW5pdChzZXF1ZWxpemUsIERhdGFUeXBlcykge1xuICAgICAgICByZXR1cm4gc3VwZXIuaW5pdChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1dWlkOiB7IHR5cGU6IERhdGFUeXBlcy5VVUlELCBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsIHByaW1hcnlLZXk6IHRydWUgfSxcbiAgICAgICAgICAgICAgICBlbWFpbDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICAgICAgICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZTogeyBpc0VtYWlsOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogJ2VtYWlsIGFyZWFkeSBpbiB1c2UnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbmlja25hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlOiB7IGFyZ3M6IHRydWUsIG1zZzogJ25pY2tuYW1lIGFscmVhZHkgZXhpc3RzJyB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlZJUlRVQUwsXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0xvbmdFbm91Z2godmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoIDwgTUlOX1BXRF9MRU5HVEgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXNzd29yZCBpcyB0b28gc2hvcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFUeXBlcy5WSVJUVUFMLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNFcXVhbCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhc3N3b3JkICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXNzd29yZHMgZG9uJ3QgbWF0Y2hcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkX2RpZ2VzdDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICAgICAgICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZTogeyBub3RFbXB0eTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VxdWVsaXplLFxuICAgICAgICAgICAgICAgIHRhYmxlTmFtZTogJ3VzZXJzJyxcbiAgICAgICAgICAgICAgICBob29rczoge1xuICAgICAgICAgICAgICAgICAgICBhc3luYyBiZWZvcmVWYWxpZGF0ZSh1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlci5pc05ld1JlY29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFNBTFRfUk9VTkQgPSA3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaCh1c2VyLnBhc3N3b3JkLCBTQUxUX1JPVU5EKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbid0IGhhc2ggcGFzc3dvcmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIucGFzc3dvcmRfZGlnZXN0ID0gaGFzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMgYmVmb3JlU2F2ZSh1c2VyLCBvcHRpb25zKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyLmNoYW5nZWQoJ3Bhc3N3b3JkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlci5wYXNzd29yZCAhPT0gdXNlci5wYXNzd29yZF9jb25maXJtYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFzc3dvcmRzIGRvbid0IG1hdGNoXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBjaGVja1B3ZChwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHRoaXMucGFzc3dvcmRfZGlnZXN0KTtcbiAgICB9XG5cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0KCkpO1xuICAgICAgICBkZWxldGUgdmFsdWVzLnBhc3N3b3JkX2RpZ2VzdDtcbiAgICAgICAgZGVsZXRlIHZhbHVlcy5wYXNzd29yZDtcbiAgICAgICAgZGVsZXRlIHZhbHVlcy5wYXNzd29yZF9jb25maXJtYXRpb247XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "MIN_PWD_LENGTH",
        "User",
        "Model",
        "init",
        "sequelize",
        "DataTypes",
        "uuid",
        "type",
        "UUID",
        "defaultValue",
        "UUIDV4",
        "primaryKey",
        "email",
        "STRING",
        "allowNull",
        "validate",
        "isEmail",
        "unique",
        "args",
        "msg",
        "nickname",
        "password",
        "VIRTUAL",
        "isLongEnough",
        "value",
        "length",
        "Error",
        "password_confirmation",
        "isEqual",
        "password_digest",
        "notEmpty",
        "tableName",
        "hooks",
        "beforeValidate",
        "user",
        "isNewRecord",
        "SALT_ROUND",
        "hash",
        "bcrypt",
        "beforeSave",
        "options",
        "changed",
        "checkPwd",
        "compare",
        "toJSON",
        "values",
        "Object",
        "assign",
        "get"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,cAAc,GAAG,CAAvB;;AAEe,MAAMC,IAAN,SAAmBC,gBAAnB,CAAyB;AACpC,SAAOC,IAAP,CAAYC,SAAZ,EAAuBC,SAAvB,EAAkC;AAC9B,WAAO,MAAMF,IAAN,CACH;AACIG,MAAAA,IAAI,EAAE;AAAEC,QAAAA,IAAI,EAAEF,SAAS,CAACG,IAAlB;AAAwBC,QAAAA,YAAY,EAAEJ,SAAS,CAACK,MAAhD;AAAwDC,QAAAA,UAAU,EAAE;AAApE,OADV;AAEIC,MAAAA,KAAK,EAAE;AACHL,QAAAA,IAAI,EAAEF,SAAS,CAACQ,MADb;AAEHC,QAAAA,SAAS,EAAE,KAFR;AAGHC,QAAAA,QAAQ,EAAE;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAHP;AAIHC,QAAAA,MAAM,EAAE;AACJC,UAAAA,IAAI,EAAE,IADF;AAEJC,UAAAA,GAAG,EAAE;AAFD;AAJL,OAFX;AAWIC,MAAAA,QAAQ,EAAE;AACNb,QAAAA,IAAI,EAAEF,SAAS,CAACQ,MADV;AAENC,QAAAA,SAAS,EAAE,KAFL;AAGNG,QAAAA,MAAM,EAAE;AAAEC,UAAAA,IAAI,EAAE,IAAR;AAAcC,UAAAA,GAAG,EAAE;AAAnB;AAHF,OAXd;AAgBIE,MAAAA,QAAQ,EAAE;AACNd,QAAAA,IAAI,EAAEF,SAAS,CAACiB,OADV;AAENP,QAAAA,QAAQ,EAAE;AACNQ,UAAAA,YAAY,CAACC,KAAD,EAAQ;AAChB,gBAAIA,KAAK,CAACC,MAAN,GAAezB,cAAnB,EAAmC;AAC/B,oBAAM,IAAI0B,KAAJ,CAAU,uBAAV,CAAN;AACH;AACJ;;AALK;AAFJ,OAhBd;AA0BIC,MAAAA,qBAAqB,EAAE;AACnBpB,QAAAA,IAAI,EAAEF,SAAS,CAACiB,OADG;AAEnBP,QAAAA,QAAQ,EAAE;AACNa,UAAAA,OAAO,CAACJ,KAAD,EAAQ;AACX,gBAAI,KAAKH,QAAL,KAAkBG,KAAtB,EAA6B;AACzB,oBAAM,IAAIE,KAAJ,CAAU,uBAAV,CAAN;AACH;AACJ;;AALK;AAFS,OA1B3B;AAoCIG,MAAAA,eAAe,EAAE;AACbtB,QAAAA,IAAI,EAAEF,SAAS,CAACQ,MADH;AAEbC,QAAAA,SAAS,EAAE,KAFE;AAGbC,QAAAA,QAAQ,EAAE;AAAEe,UAAAA,QAAQ,EAAE;AAAZ;AAHG;AApCrB,KADG,EA4CH;AACI1B,MAAAA,SADJ;AAEI2B,MAAAA,SAAS,EAAE,OAFf;AAGIC,MAAAA,KAAK,EAAE;AACH,cAAMC,cAAN,CAAqBC,IAArB,EAA2B;AACvB,cAAIA,IAAI,CAACC,WAAT,EAAsB;AAClB,kBAAMC,UAAU,GAAG,CAAnB;AACA,kBAAMC,IAAI,GAAG,MAAMC,gBAAOD,IAAP,CAAYH,IAAI,CAACb,QAAjB,EAA2Be,UAA3B,CAAnB;;AAEA,gBAAIC,IAAI,KAAK,IAAb,EAAmB;AACf,oBAAM,IAAIX,KAAJ,CAAU,qBAAV,CAAN;AACH;;AACDQ,YAAAA,IAAI,CAACL,eAAL,GAAuBQ,IAAvB;AACH;AACJ,SAXE;;AAYH,cAAME,UAAN,CAAiBL,IAAjB,EAAuBM,OAAvB,EAA+B;AAC3B,cAAIN,IAAI,CAACO,OAAL,CAAa,UAAb,CAAJ,EAA8B;AAC1B,gBAAIP,IAAI,CAACb,QAAL,KAAkBa,IAAI,CAACP,qBAA3B,EAAkD;AAC9C,oBAAM,IAAID,KAAJ,CAAU,uBAAV,CAAN;AACH;AACJ;AACJ;;AAlBE;AAHX,KA5CG,CAAP;AAqEH;;AAED,QAAMgB,QAAN,CAAerB,QAAf,EAAyB;AACrB,WAAO,MAAMiB,gBAAOK,OAAP,CAAetB,QAAf,EAAyB,KAAKQ,eAA9B,CAAb;AACH;;AAEDe,EAAAA,MAAM,GAAG;AACL,UAAMC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKC,GAAL,EAAlB,CAAf;AACA,WAAOH,MAAM,CAAChB,eAAd;AACA,WAAOgB,MAAM,CAACxB,QAAd;AACA,WAAOwB,MAAM,CAAClB,qBAAd;AACA,WAAOkB,MAAP;AACH;;AAnFmC",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "sourcesContent": [
        "import { Model } from 'sequelize';\nimport bcrypt from 'bcrypt';\n\nconst MIN_PWD_LENGTH = 7;\n\nexport default class User extends Model {\n    static init(sequelize, DataTypes) {\n        return super.init(\n            {\n                uuid: { type: DataTypes.UUID, defaultValue: DataTypes.UUIDV4, primaryKey: true },\n                email: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    validate: { isEmail: true },\n                    unique: {\n                        args: true,\n                        msg: 'email aready in use',\n                    },\n                },\n                nickname: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    unique: { args: true, msg: 'nickname already exists' },\n                },\n                password: {\n                    type: DataTypes.VIRTUAL,\n                    validate: {\n                        isLongEnough(value) {\n                            if (value.length < MIN_PWD_LENGTH) {\n                                throw new Error('password is too short');\n                            }\n                        },\n                    },\n                },\n                password_confirmation: {\n                    type: DataTypes.VIRTUAL,\n                    validate: {\n                        isEqual(value) {\n                            if (this.password !== value) {\n                                throw new Error(\"passwords don't match\");\n                            }\n                        },\n                    },\n                },\n                password_digest: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                    validate: { notEmpty: true },\n                },\n            },\n\n            {\n                sequelize,\n                tableName: 'users',\n                hooks: {\n                    async beforeValidate(user) {\n                        if (user.isNewRecord) {\n                            const SALT_ROUND = 7;\n                            const hash = await bcrypt.hash(user.password, SALT_ROUND);\n\n                            if (hash === null) {\n                                throw new Error(\"can't hash password\");\n                            }\n                            user.password_digest = hash;\n                        }\n                    },\n                    async beforeSave(user, options){\n                        if (user.changed('password')) {\n                            if (user.password !== user.password_confirmation) {\n                                throw new Error(\"passwords don't match\");\n                            }\n                        }\n                    },\n                },\n            },\n        );\n    }\n\n    async checkPwd(password) {\n        return await bcrypt.compare(password, this.password_digest);\n    }\n\n    toJSON() {\n        const values = Object.assign({}, this.get());\n        delete values.password_digest;\n        delete values.password;\n        delete values.password_confirmation;\n        return values;\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1541757842773
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/bucket.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/bucket.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/bucket.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/bucket.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
        "sourceFileName": "bucket.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nclass Bucket extends _sequelize.Model {\n  static init(sequelize, DataTypes) {\n    return super.init({\n      id: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true\n      },\n      name: {\n        type: DataTypes.STRING,\n        allowNull: false\n      }\n    }, {\n      sequelize,\n      tableName: 'bucket'\n    });\n  }\n\n}\n\nexports.default = Bucket;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1Y2tldC5qcyJdLCJuYW1lcyI6WyJCdWNrZXQiLCJNb2RlbCIsImluaXQiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJpZCIsInR5cGUiLCJJTlRFR0VSIiwiYWxsb3dOdWxsIiwiYXV0b0luY3JlbWVudCIsInByaW1hcnlLZXkiLCJuYW1lIiwiU1RSSU5HIiwidGFibGVOYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBR2UsTUFBTUEsTUFBTixTQUFxQkMsZ0JBQXJCLENBQTJCO0FBQ3RDLFNBQU9DLElBQVAsQ0FBWUMsU0FBWixFQUF1QkMsU0FBdkIsRUFBa0M7QUFDOUIsV0FBTyxNQUFNRixJQUFOLENBQ0g7QUFDSUcsTUFBQUEsRUFBRSxFQUFFO0FBQ0FDLFFBQUFBLElBQUksRUFBRUYsU0FBUyxDQUFDRyxPQURoQjtBQUVBQyxRQUFBQSxTQUFTLEVBQUUsS0FGWDtBQUdBQyxRQUFBQSxhQUFhLEVBQUcsSUFIaEI7QUFJQUMsUUFBQUEsVUFBVSxFQUFFO0FBSlosT0FEUjtBQU9JQyxNQUFBQSxJQUFJLEVBQUU7QUFDRkwsUUFBQUEsSUFBSSxFQUFFRixTQUFTLENBQUNRLE1BRGQ7QUFFRkosUUFBQUEsU0FBUyxFQUFFO0FBRlQ7QUFQVixLQURHLEVBWUE7QUFBQ0wsTUFBQUEsU0FBRDtBQUNDVSxNQUFBQSxTQUFTLEVBQUU7QUFEWixLQVpBLENBQVA7QUFlSDs7QUFqQnFDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbnRvaW5lZnJhbmNvaXMvRGVza3RvcC9hbnRvaW5lL3Ryb2lzaWXMgG1lX2FubmVlL215UzMvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9kZWwgfSBmcm9tICdzZXF1ZWxpemUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1Y2tldCBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgaW5pdChzZXF1ZWxpemUsIERhdGFUeXBlcykge1xuICAgICAgICByZXR1cm4gc3VwZXIuaW5pdChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b0luY3JlbWVudCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgICAgICAgICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sIHtzZXF1ZWxpemUsXG4gICAgICAgICAgICAgICAgdGFibGVOYW1lOiAnYnVja2V0Jyx9LFxuICAgICAgICApO1xuICAgIH1cbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "bucket.js"
      ],
      "names": [
        "Bucket",
        "Model",
        "init",
        "sequelize",
        "DataTypes",
        "id",
        "type",
        "INTEGER",
        "allowNull",
        "autoIncrement",
        "primaryKey",
        "name",
        "STRING",
        "tableName"
      ],
      "mappings": ";;;;;;;AAAA;;AAGe,MAAMA,MAAN,SAAqBC,gBAArB,CAA2B;AACtC,SAAOC,IAAP,CAAYC,SAAZ,EAAuBC,SAAvB,EAAkC;AAC9B,WAAO,MAAMF,IAAN,CACH;AACIG,MAAAA,EAAE,EAAE;AACAC,QAAAA,IAAI,EAAEF,SAAS,CAACG,OADhB;AAEAC,QAAAA,SAAS,EAAE,KAFX;AAGAC,QAAAA,aAAa,EAAG,IAHhB;AAIAC,QAAAA,UAAU,EAAE;AAJZ,OADR;AAOIC,MAAAA,IAAI,EAAE;AACFL,QAAAA,IAAI,EAAEF,SAAS,CAACQ,MADd;AAEFJ,QAAAA,SAAS,EAAE;AAFT;AAPV,KADG,EAYA;AAACL,MAAAA,SAAD;AACCU,MAAAA,SAAS,EAAE;AADZ,KAZA,CAAP;AAeH;;AAjBqC",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "sourcesContent": [
        "import { Model } from 'sequelize';\n\n\nexport default class Bucket extends Model {\n    static init(sequelize, DataTypes) {\n        return super.init(\n            {\n                id: {\n                    type: DataTypes.INTEGER,\n                    allowNull: false,\n                    autoIncrement : true,\n                    primaryKey: true,\n                },\n                name: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                },\n            }, {sequelize,\n                tableName: 'bucket',},\n        );\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1541753636719
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/blob.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/blob.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/blob.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models/blob.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
        "sourceFileName": "blob.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sequelize = require(\"sequelize\");\n\nclass Blob extends _sequelize.Model {\n  static init(sequelize, DataTypes) {\n    return super.init({\n      id: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true\n      },\n      name: {\n        type: DataTypes.STRING,\n        allowNull: false\n      },\n      path: {\n        type: DataTypes.STRING,\n        allowNull: false\n      },\n      size: {\n        type: DataTypes.INTEGER,\n        allowNull: false\n      }\n    }, {\n      sequelize,\n      tableName: 'blob'\n    });\n  }\n\n}\n\nexports.default = Blob;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2IuanMiXSwibmFtZXMiOlsiQmxvYiIsIk1vZGVsIiwiaW5pdCIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsImlkIiwidHlwZSIsIklOVEVHRVIiLCJhbGxvd051bGwiLCJhdXRvSW5jcmVtZW50IiwicHJpbWFyeUtleSIsIm5hbWUiLCJTVFJJTkciLCJwYXRoIiwic2l6ZSIsInRhYmxlTmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUdlLE1BQU1BLElBQU4sU0FBbUJDLGdCQUFuQixDQUF5QjtBQUNwQyxTQUFPQyxJQUFQLENBQVlDLFNBQVosRUFBdUJDLFNBQXZCLEVBQWtDO0FBQzlCLFdBQU8sTUFBTUYsSUFBTixDQUNIO0FBQ0lHLE1BQUFBLEVBQUUsRUFBRTtBQUNBQyxRQUFBQSxJQUFJLEVBQUVGLFNBQVMsQ0FBQ0csT0FEaEI7QUFFQUMsUUFBQUEsU0FBUyxFQUFFLEtBRlg7QUFHQUMsUUFBQUEsYUFBYSxFQUFHLElBSGhCO0FBSUFDLFFBQUFBLFVBQVUsRUFBRTtBQUpaLE9BRFI7QUFPSUMsTUFBQUEsSUFBSSxFQUFFO0FBQ0ZMLFFBQUFBLElBQUksRUFBRUYsU0FBUyxDQUFDUSxNQURkO0FBRUZKLFFBQUFBLFNBQVMsRUFBRTtBQUZULE9BUFY7QUFXSUssTUFBQUEsSUFBSSxFQUFFO0FBQ0ZQLFFBQUFBLElBQUksRUFBRUYsU0FBUyxDQUFDUSxNQURkO0FBRUZKLFFBQUFBLFNBQVMsRUFBRTtBQUZULE9BWFY7QUFlSU0sTUFBQUEsSUFBSSxFQUFFO0FBQ0ZSLFFBQUFBLElBQUksRUFBRUYsU0FBUyxDQUFDRyxPQURkO0FBRUZDLFFBQUFBLFNBQVMsRUFBRTtBQUZUO0FBZlYsS0FERyxFQXFCSDtBQUNJTCxNQUFBQSxTQURKO0FBRUlZLE1BQUFBLFNBQVMsRUFBRTtBQUZmLEtBckJHLENBQVA7QUEwQkg7O0FBNUJtQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9teVMzL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbG9iIGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBpbml0KHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5pbml0KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICAgICAgICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSW5jcmVtZW50IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBhdGg6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgICAgICAgICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VxdWVsaXplLFxuICAgICAgICAgICAgICAgIHRhYmxlTmFtZTogJ2Jsb2InLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "blob.js"
      ],
      "names": [
        "Blob",
        "Model",
        "init",
        "sequelize",
        "DataTypes",
        "id",
        "type",
        "INTEGER",
        "allowNull",
        "autoIncrement",
        "primaryKey",
        "name",
        "STRING",
        "path",
        "size",
        "tableName"
      ],
      "mappings": ";;;;;;;AAAA;;AAGe,MAAMA,IAAN,SAAmBC,gBAAnB,CAAyB;AACpC,SAAOC,IAAP,CAAYC,SAAZ,EAAuBC,SAAvB,EAAkC;AAC9B,WAAO,MAAMF,IAAN,CACH;AACIG,MAAAA,EAAE,EAAE;AACAC,QAAAA,IAAI,EAAEF,SAAS,CAACG,OADhB;AAEAC,QAAAA,SAAS,EAAE,KAFX;AAGAC,QAAAA,aAAa,EAAG,IAHhB;AAIAC,QAAAA,UAAU,EAAE;AAJZ,OADR;AAOIC,MAAAA,IAAI,EAAE;AACFL,QAAAA,IAAI,EAAEF,SAAS,CAACQ,MADd;AAEFJ,QAAAA,SAAS,EAAE;AAFT,OAPV;AAWIK,MAAAA,IAAI,EAAE;AACFP,QAAAA,IAAI,EAAEF,SAAS,CAACQ,MADd;AAEFJ,QAAAA,SAAS,EAAE;AAFT,OAXV;AAeIM,MAAAA,IAAI,EAAE;AACFR,QAAAA,IAAI,EAAEF,SAAS,CAACG,OADd;AAEFC,QAAAA,SAAS,EAAE;AAFT;AAfV,KADG,EAqBH;AACIL,MAAAA,SADJ;AAEIY,MAAAA,SAAS,EAAE;AAFf,KArBG,CAAP;AA0BH;;AA5BmC",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/models",
      "sourcesContent": [
        "import { Model } from 'sequelize';\n\n\nexport default class Blob extends Model {\n    static init(sequelize, DataTypes) {\n        return super.init(\n            {\n                id: {\n                    type: DataTypes.INTEGER,\n                    allowNull: false,\n                    autoIncrement : true,\n                    primaryKey: true,\n                },\n                name: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                },\n                path: {\n                    type: DataTypes.STRING,\n                    allowNull: false,\n                },\n                size: {\n                    type: DataTypes.INTEGER,\n                    allowNull: false,\n                },\n            },\n            {\n                sequelize,\n                tableName: 'blob',\n            },\n        );\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1541756524772
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _bucket = _interopRequireDefault(require(\"./bucket\"));\n\nvar _blob = _interopRequireDefault(require(\"./blob\"));\n\nvar _auth = _interopRequireDefault(require(\"./auth\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = (0, _express.Router)();\napi.get('/', (req, res) => {\n  res.json({\n    hello: 'express.island'\n  });\n});\napi.use('/users', _passport.default.authenticate('jwt', {\n  session: false\n}), _user.default);\napi.use('/users/:uuid/buckets', _bucket.default);\napi.use('/users/:uuid/buckets/:b_id/blob', _blob.default);\napi.use('/auth', _auth.default);\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwaSIsImdldCIsInJlcSIsInJlcyIsImpzb24iLCJoZWxsbyIsInVzZSIsInBhc3Nwb3J0IiwiYXV0aGVudGljYXRlIiwic2Vzc2lvbiIsInVzZXJzIiwiYnVja2V0cyIsImJsb2JzIiwiYXV0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsR0FBRyxHQUFHLHNCQUFaO0FBRUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUN2QkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVM7QUFBRUMsSUFBQUEsS0FBSyxFQUFFO0FBQVQsR0FBVDtBQUNILENBRkQ7QUFJQUwsR0FBRyxDQUFDTSxHQUFKLENBQVEsUUFBUixFQUFrQkMsa0JBQVNDLFlBQVQsQ0FBc0IsS0FBdEIsRUFBNkI7QUFBRUMsRUFBQUEsT0FBTyxFQUFHO0FBQVosQ0FBN0IsQ0FBbEIsRUFBcUVDLGFBQXJFO0FBQ0FWLEdBQUcsQ0FBQ00sR0FBSixDQUFRLHNCQUFSLEVBQWdDSyxlQUFoQztBQUNBWCxHQUFHLENBQUNNLEdBQUosQ0FBUSxpQ0FBUixFQUEyQ00sYUFBM0M7QUFDQVosR0FBRyxDQUFDTSxHQUFKLENBQVEsT0FBUixFQUFpQk8sYUFBakI7ZUFFZWIsRyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9teVMzL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0J1xuaW1wb3J0IHVzZXJzIGZyb20gJy4vdXNlcic7XG5pbXBvcnQgYnVja2V0cyBmcm9tICcuL2J1Y2tldCdcbmltcG9ydCBibG9icyBmcm9tICcuL2Jsb2InXG5pbXBvcnQgYXV0aCBmcm9tICcuL2F1dGgnO1xuXG5jb25zdCBhcGkgPSBSb3V0ZXIoKTtcblxuYXBpLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5qc29uKHsgaGVsbG86ICdleHByZXNzLmlzbGFuZCcgfSk7XG59KTtcblxuYXBpLnVzZSgnL3VzZXJzJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdqd3QnLCB7IHNlc3Npb24gOiBmYWxzZSB9KSwgdXNlcnMpO1xuYXBpLnVzZSgnL3VzZXJzLzp1dWlkL2J1Y2tldHMnLCBidWNrZXRzKTtcbmFwaS51c2UoJy91c2Vycy86dXVpZC9idWNrZXRzLzpiX2lkL2Jsb2InLCBibG9icyk7XG5hcGkudXNlKCcvYXV0aCcsIGF1dGgpO1xuXG5leHBvcnQgZGVmYXVsdCBhcGk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "api",
        "get",
        "req",
        "res",
        "json",
        "hello",
        "use",
        "passport",
        "authenticate",
        "session",
        "users",
        "buckets",
        "blobs",
        "auth"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvBA,EAAAA,GAAG,CAACC,IAAJ,CAAS;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAT;AACH,CAFD;AAIAL,GAAG,CAACM,GAAJ,CAAQ,QAAR,EAAkBC,kBAASC,YAAT,CAAsB,KAAtB,EAA6B;AAAEC,EAAAA,OAAO,EAAG;AAAZ,CAA7B,CAAlB,EAAqEC,aAArE;AACAV,GAAG,CAACM,GAAJ,CAAQ,sBAAR,EAAgCK,eAAhC;AACAX,GAAG,CAACM,GAAJ,CAAQ,iCAAR,EAA2CM,aAA3C;AACAZ,GAAG,CAACM,GAAJ,CAAQ,OAAR,EAAiBO,aAAjB;eAEeb,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "sourcesContent": [
        "import { Router } from 'express';\nimport passport from 'passport'\nimport users from './user';\nimport buckets from './bucket'\nimport blobs from './blob'\nimport auth from './auth';\n\nconst api = Router();\n\napi.get('/', (req, res) => {\n    res.json({ hello: 'express.island' });\n});\n\napi.use('/users', passport.authenticate('jwt', { session : false }), users);\napi.use('/users/:uuid/buckets', buckets);\napi.use('/users/:uuid/buckets/:b_id/blob', blobs);\napi.use('/auth', auth);\n\nexport default api;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541944972833
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/user.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nvar _lodash = require(\"lodash\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = (0, _express.Router)();\napi.get('/', async (req, res) => {\n  try {\n    const users = await _user.default.findAll();\n    res.status(200).json({\n      data: {\n        users\n      },\n      meta: {}\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `could not connect to database, err: ${err.message}`\n    });\n  }\n});\napi.get('/:uuid', async (req, res) => {\n  try {\n    const user = await _user.default.findOne({\n      where: {\n        uuid: req.params.uuid\n      }\n    });\n    res.status(200).json({\n      user\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `could not connect to database, err: ${err.message}`\n    });\n  }\n});\napi.put('/:uuid', async (req, res) => {\n  try {\n    const user = await _user.default.findOne({\n      where: {\n        uuid: req.params.uuid\n      }\n    });\n\n    if (user) {\n      const fields = (0, _lodash.pick)(req.body, [\"nickname\", \"email\", \"password\", \"password_confirmation\"]);\n      await user.update(fields);\n      res.status(204);\n    }\n  } catch (err) {\n    res.status(400).json({\n      err: err.message\n    });\n  }\n});\napi.delete('/:uuid', async (req, res) => {\n  try {\n    const user = await _user.default.destroy({\n      where: {\n        uuid: req.params.uuid\n      }\n    });\n    res.status(200).json({\n      user\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `User doesn't exist, err: ${err.message}`\n    });\n  }\n});\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiYXBpIiwiZ2V0IiwicmVxIiwicmVzIiwidXNlcnMiLCJVc2VyIiwiZmluZEFsbCIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWV0YSIsImVyciIsIm1lc3NhZ2UiLCJ1c2VyIiwiZmluZE9uZSIsIndoZXJlIiwidXVpZCIsInBhcmFtcyIsInB1dCIsImZpZWxkcyIsImJvZHkiLCJ1cGRhdGUiLCJkZWxldGUiLCJkZXN0cm95Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxHQUFHLEdBQUcsc0JBQVo7QUFFQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUixFQUFhLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUM3QixNQUFJO0FBQ0EsVUFBTUMsS0FBSyxHQUFHLE1BQU1DLGNBQUtDLE9BQUwsRUFBcEI7QUFDQUgsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0MsTUFBQUEsSUFBSSxFQUFFO0FBQUNMLFFBQUFBO0FBQUQsT0FBUDtBQUFnQk0sTUFBQUEsSUFBSSxFQUFFO0FBQXRCLEtBQXJCO0FBQ0gsR0FIRCxDQUdFLE9BQU9DLEdBQVAsRUFBWTtBQUNWUixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDRyxNQUFBQSxHQUFHLEVBQUcsdUNBQXNDQSxHQUFHLENBQUNDLE9BQVE7QUFBekQsS0FBckI7QUFDSDtBQUNKLENBUEQ7QUFTQVosR0FBRyxDQUFDQyxHQUFKLENBQVEsUUFBUixFQUFrQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDbEMsTUFBSTtBQUNBLFVBQU1VLElBQUksR0FBRyxNQUFNUixjQUFLUyxPQUFMLENBQWE7QUFBQ0MsTUFBQUEsS0FBSyxFQUFFO0FBQUNDLFFBQUFBLElBQUksRUFBRWQsR0FBRyxDQUFDZSxNQUFKLENBQVdEO0FBQWxCO0FBQVIsS0FBYixDQUFuQjtBQUNBYixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDSyxNQUFBQTtBQUFELEtBQXJCO0FBQ0gsR0FIRCxDQUdFLE9BQU9GLEdBQVAsRUFBWTtBQUNWUixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDRyxNQUFBQSxHQUFHLEVBQUcsdUNBQXNDQSxHQUFHLENBQUNDLE9BQVE7QUFBekQsS0FBckI7QUFDSDtBQUNKLENBUEQ7QUFTQVosR0FBRyxDQUFDa0IsR0FBSixDQUFRLFFBQVIsRUFBa0IsT0FBT2hCLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUNsQyxNQUFJO0FBQ0EsVUFBTVUsSUFBSSxHQUFHLE1BQU1SLGNBQUtTLE9BQUwsQ0FBYTtBQUFDQyxNQUFBQSxLQUFLLEVBQUU7QUFBQ0MsUUFBQUEsSUFBSSxFQUFFZCxHQUFHLENBQUNlLE1BQUosQ0FBV0Q7QUFBbEI7QUFBUixLQUFiLENBQW5COztBQUNBLFFBQUlILElBQUosRUFBVTtBQUNOLFlBQU1NLE1BQU0sR0FBRyxrQkFBS2pCLEdBQUcsQ0FBQ2tCLElBQVQsRUFBZSxDQUMxQixVQUQwQixFQUUxQixPQUYwQixFQUcxQixVQUgwQixFQUkxQix1QkFKMEIsQ0FBZixDQUFmO0FBTUEsWUFBTVAsSUFBSSxDQUFDUSxNQUFMLENBQVlGLE1BQVosQ0FBTjtBQUNBaEIsTUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWDtBQUNIO0FBQ0osR0FaRCxDQVlFLE9BQU9JLEdBQVAsRUFBWTtBQUNWUixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDRyxNQUFBQSxHQUFHLEVBQUVBLEdBQUcsQ0FBQ0M7QUFBVixLQUFyQjtBQUNIO0FBQ0osQ0FoQkQ7QUFrQkFaLEdBQUcsQ0FBQ3NCLE1BQUosQ0FBVyxRQUFYLEVBQXFCLE9BQU9wQixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDckMsTUFBSTtBQUNBLFVBQU1VLElBQUksR0FBRyxNQUFNUixjQUFLa0IsT0FBTCxDQUFhO0FBQUNSLE1BQUFBLEtBQUssRUFBRTtBQUFDQyxRQUFBQSxJQUFJLEVBQUVkLEdBQUcsQ0FBQ2UsTUFBSixDQUFXRDtBQUFsQjtBQUFSLEtBQWIsQ0FBbkI7QUFDQWIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0ssTUFBQUE7QUFBRCxLQUFyQjtBQUNILEdBSEQsQ0FHRSxPQUFPRixHQUFQLEVBQVk7QUFDVlIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0csTUFBQUEsR0FBRyxFQUFHLDRCQUEyQkEsR0FBRyxDQUFDQyxPQUFRO0FBQTlDLEtBQXJCO0FBQ0g7QUFDSixDQVBEO2VBU2VaLEciLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvbXlTMy9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlcic7XG5pbXBvcnQge3BpY2t9IGZyb20gJ2xvZGFzaCc7XG5cbmNvbnN0IGFwaSA9IFJvdXRlcigpO1xuXG5hcGkuZ2V0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2VyLmZpbmRBbGwoKTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe2RhdGE6IHt1c2Vyc30sIG1ldGE6IHt9fSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnI6IGBjb3VsZCBub3QgY29ubmVjdCB0byBkYXRhYmFzZSwgZXJyOiAke2Vyci5tZXNzYWdlfWB9KTtcbiAgICB9XG59KTtcblxuYXBpLmdldCgnLzp1dWlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7d2hlcmU6IHt1dWlkOiByZXEucGFyYW1zLnV1aWR9fSk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHt1c2VyfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnI6IGBjb3VsZCBub3QgY29ubmVjdCB0byBkYXRhYmFzZSwgZXJyOiAke2Vyci5tZXNzYWdlfWB9KTtcbiAgICB9XG59KTtcblxuYXBpLnB1dCgnLzp1dWlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7d2hlcmU6IHt1dWlkOiByZXEucGFyYW1zLnV1aWR9fSlcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkcyA9IHBpY2socmVxLmJvZHksIFtcbiAgICAgICAgICAgICAgICBcIm5pY2tuYW1lXCIsXG4gICAgICAgICAgICAgICAgXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgIFwicGFzc3dvcmRcIixcbiAgICAgICAgICAgICAgICBcInBhc3N3b3JkX2NvbmZpcm1hdGlvblwiXG4gICAgICAgICAgICBdKVxuICAgICAgICAgICAgYXdhaXQgdXNlci51cGRhdGUoZmllbGRzKVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDQpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnI6IGVyci5tZXNzYWdlfSlcbiAgICB9XG59KVxuXG5hcGkuZGVsZXRlKCcvOnV1aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5kZXN0cm95KHt3aGVyZToge3V1aWQ6IHJlcS5wYXJhbXMudXVpZH19KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe3VzZXJ9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe2VycjogYFVzZXIgZG9lc24ndCBleGlzdCwgZXJyOiAke2Vyci5tZXNzYWdlfWB9KTtcbiAgICB9XG59KVxuXG5leHBvcnQgZGVmYXVsdCBhcGk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "api",
        "get",
        "req",
        "res",
        "users",
        "User",
        "findAll",
        "status",
        "json",
        "data",
        "meta",
        "err",
        "message",
        "user",
        "findOne",
        "where",
        "uuid",
        "params",
        "put",
        "fields",
        "body",
        "update",
        "delete",
        "destroy"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC7B,MAAI;AACA,UAAMC,KAAK,GAAG,MAAMC,cAAKC,OAAL,EAApB;AACAH,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,IAAI,EAAE;AAACL,QAAAA;AAAD,OAAP;AAAgBM,MAAAA,IAAI,EAAE;AAAtB,KAArB;AACH,GAHD,CAGE,OAAOC,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACG,MAAAA,GAAG,EAAG,uCAAsCA,GAAG,CAACC,OAAQ;AAAzD,KAArB;AACH;AACJ,CAPD;AASAZ,GAAG,CAACC,GAAJ,CAAQ,QAAR,EAAkB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,MAAI;AACA,UAAMU,IAAI,GAAG,MAAMR,cAAKS,OAAL,CAAa;AAACC,MAAAA,KAAK,EAAE;AAACC,QAAAA,IAAI,EAAEd,GAAG,CAACe,MAAJ,CAAWD;AAAlB;AAAR,KAAb,CAAnB;AACAb,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACK,MAAAA;AAAD,KAArB;AACH,GAHD,CAGE,OAAOF,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACG,MAAAA,GAAG,EAAG,uCAAsCA,GAAG,CAACC,OAAQ;AAAzD,KAArB;AACH;AACJ,CAPD;AASAZ,GAAG,CAACkB,GAAJ,CAAQ,QAAR,EAAkB,OAAOhB,GAAP,EAAYC,GAAZ,KAAoB;AAClC,MAAI;AACA,UAAMU,IAAI,GAAG,MAAMR,cAAKS,OAAL,CAAa;AAACC,MAAAA,KAAK,EAAE;AAACC,QAAAA,IAAI,EAAEd,GAAG,CAACe,MAAJ,CAAWD;AAAlB;AAAR,KAAb,CAAnB;;AACA,QAAIH,IAAJ,EAAU;AACN,YAAMM,MAAM,GAAG,kBAAKjB,GAAG,CAACkB,IAAT,EAAe,CAC1B,UAD0B,EAE1B,OAF0B,EAG1B,UAH0B,EAI1B,uBAJ0B,CAAf,CAAf;AAMA,YAAMP,IAAI,CAACQ,MAAL,CAAYF,MAAZ,CAAN;AACAhB,MAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX;AACH;AACJ,GAZD,CAYE,OAAOI,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACG,MAAAA,GAAG,EAAEA,GAAG,CAACC;AAAV,KAArB;AACH;AACJ,CAhBD;AAkBAZ,GAAG,CAACsB,MAAJ,CAAW,QAAX,EAAqB,OAAOpB,GAAP,EAAYC,GAAZ,KAAoB;AACrC,MAAI;AACA,UAAMU,IAAI,GAAG,MAAMR,cAAKkB,OAAL,CAAa;AAACR,MAAAA,KAAK,EAAE;AAACC,QAAAA,IAAI,EAAEd,GAAG,CAACe,MAAJ,CAAWD;AAAlB;AAAR,KAAb,CAAnB;AACAb,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACK,MAAAA;AAAD,KAArB;AACH,GAHD,CAGE,OAAOF,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACG,MAAAA,GAAG,EAAG,4BAA2BA,GAAG,CAACC,OAAQ;AAA9C,KAArB;AACH;AACJ,CAPD;eASeZ,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "sourcesContent": [
        "import {Router} from 'express';\nimport User from '../models/user';\nimport {pick} from 'lodash';\n\nconst api = Router();\n\napi.get('/', async (req, res) => {\n    try {\n        const users = await User.findAll();\n        res.status(200).json({data: {users}, meta: {}});\n    } catch (err) {\n        res.status(400).json({err: `could not connect to database, err: ${err.message}`});\n    }\n});\n\napi.get('/:uuid', async (req, res) => {\n    try {\n        const user = await User.findOne({where: {uuid: req.params.uuid}});\n        res.status(200).json({user});\n    } catch (err) {\n        res.status(400).json({err: `could not connect to database, err: ${err.message}`});\n    }\n});\n\napi.put('/:uuid', async (req, res) => {\n    try {\n        const user = await User.findOne({where: {uuid: req.params.uuid}})\n        if (user) {\n            const fields = pick(req.body, [\n                \"nickname\",\n                \"email\",\n                \"password\",\n                \"password_confirmation\"\n            ])\n            await user.update(fields)\n            res.status(204);\n        }\n    } catch (err) {\n        res.status(400).json({err: err.message})\n    }\n})\n\napi.delete('/:uuid', async (req, res) => {\n    try {\n        const user = await User.destroy({where: {uuid: req.params.uuid}});\n        res.status(200).json({user});\n    } catch (err) {\n        res.status(400).json({err: `User doesn't exist, err: ${err.message}`});\n    }\n})\n\nexport default api;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1541772364792
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/bucket.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/bucket.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/bucket.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/bucket.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
        "sourceFileName": "bucket.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _bucket = _interopRequireDefault(require(\"../models/bucket\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet api = (0, _express.Router)({\n  mergeParams: true\n});\napi.get('/:b_id', async (req, res) => {\n  try {\n    const bucker = await _bucket.default.findOne({\n      where: {\n        b_id: req.params.id\n      }\n    });\n    res.status(200).json({\n      bucker\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `could not connect to database, err: ${err.message}`\n    });\n  }\n});\napi.put('/:b_id', async (req, res) => {\n  try {\n    const bucket = await _bucket.default.findOne({\n      where: {\n        b_id: req.params.id\n      }\n    });\n    const {\n      uuid\n    } = req.user.dataValues;\n\n    let bucketPath = _path.default.join(WORKSPACE_DIR, uuid, bucket.name);\n\n    if (_fs.default.existsSync(bucketPath)) {\n      let newBucketPath = _path.default.join(WORKSPACE_DIR, uuid, req.body.name);\n\n      _fs.default.rename(bucketPath, newBucketPath);\n    }\n\n    await bucket.update({\n      name: req.body.name\n    });\n    res.status(200);\n  } catch (err) {\n    res.status(400).json({\n      err: err.message\n    });\n  }\n});\napi.delete('/:b_id', async (req, res) => {\n  try {\n    const bucket = await _bucket.default.destroy({\n      where: {\n        b_id: req.params.id\n      }\n    });\n    const {\n      uuid\n    } = req.user.dataValues;\n\n    let bucketPath = _path.default.join(WORKSPACE_DIR, uuid, bucket.name);\n\n    if (_fs.default.existsSync(bucketPath)) {\n      _fs.default.rmdirSync(bucketPath);\n    }\n\n    res.status(200).json({\n      bucket\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `bucket doesn't exist, err: ${err.message}`\n    });\n  }\n});\napi.post('/', async (req, res) => {\n  try {\n    const {\n      uuid\n    } = req.user.dataValues;\n    const {\n      name\n    } = req.body;\n    const bucket = new _bucket.default({\n      name,\n      user_uuid: uuid\n    });\n    const BASE_URL = '/opt/workspace/myS3/';\n\n    if (!_fs.default.existsSync(BASE_URL)) {\n      _fs.default.mkdirSync(BASE_URL);\n    }\n\n    if (!_fs.default.existsSync(_path.default.join(BASE_URL, uuid))) {\n      let folderUser = _path.default.join(BASE_URL, uuid);\n\n      _fs.default.mkdirSync(folderUser);\n    }\n\n    if (!_fs.default.existsSync(_path.default.join(BASE_URL, uuid, name))) {\n      let bucketUser = _path.default.join(BASE_URL, uuid, name);\n\n      _fs.default.mkdirSync(bucketUser);\n    }\n\n    await bucket.save();\n    res.status(201).json(bucket);\n  } catch (err) {\n    res.status(400).json({\n      err: err.message\n    });\n  }\n});\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1Y2tldC5qcyJdLCJuYW1lcyI6WyJhcGkiLCJtZXJnZVBhcmFtcyIsImdldCIsInJlcSIsInJlcyIsImJ1Y2tlciIsIkJ1Y2tldCIsImZpbmRPbmUiLCJ3aGVyZSIsImJfaWQiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJtZXNzYWdlIiwicHV0IiwiYnVja2V0IiwidXVpZCIsInVzZXIiLCJkYXRhVmFsdWVzIiwiYnVja2V0UGF0aCIsInBhdGgiLCJqb2luIiwiV09SS1NQQUNFX0RJUiIsIm5hbWUiLCJmcyIsImV4aXN0c1N5bmMiLCJuZXdCdWNrZXRQYXRoIiwiYm9keSIsInJlbmFtZSIsInVwZGF0ZSIsImRlbGV0ZSIsImRlc3Ryb3kiLCJybWRpclN5bmMiLCJwb3N0IiwidXNlcl91dWlkIiwiQkFTRV9VUkwiLCJta2RpclN5bmMiLCJmb2xkZXJVc2VyIiwiYnVja2V0VXNlciIsInNhdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7OztBQUVBLElBQUlBLEdBQUcsR0FBRyxxQkFBTztBQUFDQyxFQUFBQSxXQUFXLEVBQUU7QUFBZCxDQUFQLENBQVY7QUFFQUQsR0FBRyxDQUFDRSxHQUFKLENBQVEsUUFBUixFQUFrQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDbEMsTUFBSTtBQUNBLFVBQU1DLE1BQU0sR0FBRyxNQUFNQyxnQkFBT0MsT0FBUCxDQUFlO0FBQUNDLE1BQUFBLEtBQUssRUFBRTtBQUFDQyxRQUFBQSxJQUFJLEVBQUVOLEdBQUcsQ0FBQ08sTUFBSixDQUFXQztBQUFsQjtBQUFSLEtBQWYsQ0FBckI7QUFDQVAsSUFBQUEsR0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ1IsTUFBQUE7QUFBRCxLQUFyQjtBQUNILEdBSEQsQ0FHRSxPQUFPUyxHQUFQLEVBQVk7QUFDVlYsSUFBQUEsR0FBRyxDQUFDUSxNQUFKLENBQVcs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L1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvbXlTMy9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuXG5pbXBvcnQgQnVja2V0IGZyb20gXCIuLi9tb2RlbHMvYnVja2V0XCI7XG5pbXBvcnQge3BpY2t9IGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXG5cbmxldCBhcGkgPSBSb3V0ZXIoe21lcmdlUGFyYW1zOiB0cnVlfSk7XG5cbmFwaS5nZXQoJy86Yl9pZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJ1Y2tlciA9IGF3YWl0IEJ1Y2tldC5maW5kT25lKHt3aGVyZToge2JfaWQ6IHJlcS5wYXJhbXMuaWR9fSk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtidWNrZXJ9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe2VycjogYGNvdWxkIG5vdCBjb25uZWN0IHRvIGRhdGFiYXNlLCBlcnI6ICR7ZXJyLm1lc3NhZ2V9YH0pO1xuICAgIH1cbn0pO1xuXG5hcGkucHV0KCcvOmJfaWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBidWNrZXQgPSBhd2FpdCBCdWNrZXQuZmluZE9uZSh7d2hlcmU6IHtiX2lkOiByZXEucGFyYW1zLmlkfX0pXG4gICAgICAgIGNvbnN0IHt1dWlkfSA9IHJlcS51c2VyLmRhdGFWYWx1ZXM7XG5cbiAgICAgICAgbGV0IGJ1Y2tldFBhdGggPSBwYXRoLmpvaW4oV09SS1NQQUNFX0RJUiwgdXVpZCwgYnVja2V0Lm5hbWUpO1xuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhidWNrZXRQYXRoKSkge1xuICAgICAgICAgICAgbGV0IG5ld0J1Y2tldFBhdGggPSBwYXRoLmpvaW4oV09SS1NQQUNFX0RJUiwgdXVpZCwgcmVxLmJvZHkubmFtZSk7XG4gICAgICAgICAgICBmcy5yZW5hbWUoYnVja2V0UGF0aCwgbmV3QnVja2V0UGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgYnVja2V0LnVwZGF0ZSh7bmFtZTogcmVxLmJvZHkubmFtZX0pXG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7ZXJyOiBlcnIubWVzc2FnZX0pXG4gICAgfVxufSlcblxuYXBpLmRlbGV0ZSgnLzpiX2lkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYnVja2V0ID0gYXdhaXQgQnVja2V0LmRlc3Ryb3koe3doZXJlOiB7Yl9pZDogcmVxLnBhcmFtcy5pZH19KTtcbiAgICAgICAgY29uc3Qge3V1aWR9ID0gcmVxLnVzZXIuZGF0YVZhbHVlcztcbiAgICAgICAgbGV0IGJ1Y2tldFBhdGggPSBwYXRoLmpvaW4oV09SS1NQQUNFX0RJUiwgdXVpZCwgYnVja2V0Lm5hbWUpO1xuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhidWNrZXRQYXRoKSkge1xuICAgICAgICAgICAgZnMucm1kaXJTeW5jKGJ1Y2tldFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtidWNrZXR9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe2VycjogYGJ1Y2tldCBkb2Vzbid0IGV4aXN0LCBlcnI6ICR7ZXJyLm1lc3NhZ2V9YH0pO1xuICAgIH1cbn0pXG5cbmFwaS5wb3N0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qge3V1aWR9ID0gcmVxLnVzZXIuZGF0YVZhbHVlc1xuICAgICAgICBjb25zdCB7bmFtZX0gPSByZXEuYm9keVxuXG4gICAgICAgIGNvbnN0IGJ1Y2tldCA9IG5ldyBCdWNrZXQoe25hbWUsIHVzZXJfdXVpZDogdXVpZH0pXG5cbiAgICAgICAgY29uc3QgQkFTRV9VUkwgPSAnL29wdC93b3Jrc3BhY2UvbXlTMy8nO1xuXG4gICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhCQVNFX1VSTCkpIHtcbiAgICAgICAgICAgIGZzLm1rZGlyU3luYyhCQVNFX1VSTCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmMocGF0aC5qb2luKEJBU0VfVVJMLCB1dWlkKSkpIHtcbiAgICAgICAgICAgIGxldCBmb2xkZXJVc2VyID0gcGF0aC5qb2luKEJBU0VfVVJMLCB1dWlkKTtcblxuICAgICAgICAgICAgZnMubWtkaXJTeW5jKGZvbGRlclVzZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKHBhdGguam9pbihCQVNFX1VSTCwgdXVpZCwgbmFtZSkpKSB7XG4gICAgICAgICAgICBsZXQgYnVja2V0VXNlciA9IHBhdGguam9pbihCQVNFX1VSTCwgdXVpZCwgbmFtZSlcbiAgICAgICAgICAgIGZzLm1rZGlyU3luYyhidWNrZXRVc2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IGJ1Y2tldC5zYXZlKCk7XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oYnVja2V0KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7ZXJyOiBlcnIubWVzc2FnZX0pXG4gICAgfVxufSlcblxuZXhwb3J0IGRlZmF1bHQgYXBpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "bucket.js"
      ],
      "names": [
        "api",
        "mergeParams",
        "get",
        "req",
        "res",
        "bucker",
        "Bucket",
        "findOne",
        "where",
        "b_id",
        "params",
        "id",
        "status",
        "json",
        "err",
        "message",
        "put",
        "bucket",
        "uuid",
        "user",
        "dataValues",
        "bucketPath",
        "path",
        "join",
        "WORKSPACE_DIR",
        "name",
        "fs",
        "existsSync",
        "newBucketPath",
        "body",
        "rename",
        "update",
        "delete",
        "destroy",
        "rmdirSync",
        "post",
        "user_uuid",
        "BASE_URL",
        "mkdirSync",
        "folderUser",
        "bucketUser",
        "save"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "sourcesContent": [
        "import {Router} from 'express';\nimport fs from 'fs';\n\nimport Bucket from \"../models/bucket\";\nimport {pick} from \"lodash\";\nimport path from 'path'\n\nlet api = Router({mergeParams: true});\n\napi.get('/:b_id', async (req, res) => {\n    try {\n        const bucker = await Bucket.findOne({where: {b_id: req.params.id}});\n        res.status(200).json({bucker});\n    } catch (err) {\n        res.status(400).json({err: `could not connect to database, err: ${err.message}`});\n    }\n});\n\napi.put('/:b_id', async (req, res) => {\n    try {\n        const bucket = await Bucket.findOne({where: {b_id: req.params.id}})\n        const {uuid} = req.user.dataValues;\n\n        let bucketPath = path.join(WORKSPACE_DIR, uuid, bucket.name);\n        if (fs.existsSync(bucketPath)) {\n            let newBucketPath = path.join(WORKSPACE_DIR, uuid, req.body.name);\n            fs.rename(bucketPath, newBucketPath);\n        }\n        await bucket.update({name: req.body.name})\n\n        res.status(200);\n    } catch (err) {\n        res.status(400).json({err: err.message})\n    }\n})\n\napi.delete('/:b_id', async (req, res) => {\n    try {\n        const bucket = await Bucket.destroy({where: {b_id: req.params.id}});\n        const {uuid} = req.user.dataValues;\n        let bucketPath = path.join(WORKSPACE_DIR, uuid, bucket.name);\n        if (fs.existsSync(bucketPath)) {\n            fs.rmdirSync(bucketPath);\n        }\n        res.status(200).json({bucket});\n    } catch (err) {\n        res.status(400).json({err: `bucket doesn't exist, err: ${err.message}`});\n    }\n})\n\napi.post('/', async (req, res) => {\n    try {\n        const {uuid} = req.user.dataValues\n        const {name} = req.body\n\n        const bucket = new Bucket({name, user_uuid: uuid})\n\n        const BASE_URL = '/opt/workspace/myS3/';\n\n        if (!fs.existsSync(BASE_URL)) {\n            fs.mkdirSync(BASE_URL);\n        }\n\n        if (!fs.existsSync(path.join(BASE_URL, uuid))) {\n            let folderUser = path.join(BASE_URL, uuid);\n\n            fs.mkdirSync(folderUser);\n        }\n\n        if (!fs.existsSync(path.join(BASE_URL, uuid, name))) {\n            let bucketUser = path.join(BASE_URL, uuid, name)\n            fs.mkdirSync(bucketUser);\n        }\n\n        await bucket.save();\n\n        res.status(201).json(bucket)\n    } catch (err) {\n        res.status(400).json({err: err.message})\n    }\n})\n\nexport default api;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541944647915
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/bucket.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/bucket.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/bucket.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/bucket.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
        "sourceFileName": "bucket.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _bucket = _interopRequireDefault(require(\"../models/bucket\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet api = (0, _express.Router)({\n  mergeParams: true\n});\napi.get('/:b_id', async (req, res) => {\n  try {\n    const bucker = await _bucket.default.findOne({\n      where: {\n        id: req.params.b_id\n      }\n    });\n    res.status(200).json({\n      bucker\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `could not connect to database, err: ${err.message}`\n    });\n  }\n});\napi.put('/:b_id', async (req, res) => {\n  try {\n    const bucket = await _bucket.default.findOne({\n      where: {\n        id: req.params.b_id\n      }\n    });\n    const {\n      uuid\n    } = req.user.dataValues;\n\n    let bucketPath = _path.default.join(WORKSPACE_DIR, uuid, bucket.name);\n\n    if (_fs.default.existsSync(bucketPath)) {\n      let newBucketPath = _path.default.join(WORKSPACE_DIR, uuid, req.body.name);\n\n      _fs.default.rename(bucketPath, newBucketPath);\n    }\n\n    await bucket.update({\n      name: req.body.name\n    });\n    res.status(200);\n  } catch (err) {\n    res.status(400).json({\n      err: err.message\n    });\n  }\n});\napi.delete('/:b_id', async (req, res) => {\n  try {\n    const bucket = await _bucket.default.destroy({\n      where: {\n        id: req.params.b_id\n      }\n    });\n    const {\n      uuid\n    } = req.user.dataValues;\n\n    let bucketPath = _path.default.join(WORKSPACE_DIR, uuid, bucket.name);\n\n    if (_fs.default.existsSync(bucketPath)) {\n      _fs.default.rmdirSync(bucketPath);\n    }\n\n    res.status(200).json({\n      bucket\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `bucket doesn't exist, err: ${err.message}`\n    });\n  }\n});\napi.post('/', async (req, res) => {\n  try {\n    const {\n      uuid\n    } = req.user.dataValues;\n    const {\n      name\n    } = req.body;\n    const bucket = new _bucket.default({\n      name,\n      user_uuid: uuid\n    });\n    const BASE_URL = '/opt/workspace/myS3/';\n\n    if (!_fs.default.existsSync(BASE_URL)) {\n      _fs.default.mkdirSync(BASE_URL);\n    }\n\n    if (!_fs.default.existsSync(_path.default.join(BASE_URL, uuid))) {\n      let folderUser = _path.default.join(BASE_URL, uuid);\n\n      _fs.default.mkdirSync(folderUser);\n    }\n\n    if (!_fs.default.existsSync(_path.default.join(BASE_URL, uuid, name))) {\n      let bucketUser = _path.default.join(BASE_URL, uuid, name);\n\n      _fs.default.mkdirSync(bucketUser);\n    }\n\n    await bucket.save();\n    res.status(201).json(bucket);\n  } catch (err) {\n    res.status(400).json({\n      err: err.message\n    });\n  }\n});\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1Y2tldC5qcyJdLCJuYW1lcyI6WyJhcGkiLCJtZXJnZVBhcmFtcyIsImdldCIsInJlcSIsInJlcyIsImJ1Y2tlciIsIkJ1Y2tldCIsImZpbmRPbmUiLCJ3aGVyZSIsImlkIiwicGFyYW1zIiwiYl9pZCIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJtZXNzYWdlIiwicHV0IiwiYnVja2V0IiwidXVpZCIsInVzZXIiLCJkYXRhVmFsdWVzIiwiYnVja2V0UGF0aCIsInBhdGgiLCJqb2luIiwiV09SS1NQQUNFX0RJUiIsIm5hbWUiLCJmcyIsImV4aXN0c1N5bmMiLCJuZXdCdWNrZXRQYXRoIiwiYm9keSIsInJlbmFtZSIsInVwZGF0ZSIsImRlbGV0ZSIsImRlc3Ryb3kiLCJybWRpclN5bmMiLCJwb3N0IiwidXNlcl91dWlkIiwiQkFTRV9VUkwiLCJta2RpclN5bmMiLCJmb2xkZXJVc2VyIiwiYnVja2V0VXNlciIsInNhdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLElBQUlBLEdBQUcsR0FBRyxxQkFBTztBQUFDQyxFQUFBQSxXQUFXLEVBQUU7QUFBZCxDQUFQLENBQVY7QUFFQUQsR0FBRyxDQUFDRSxHQUFKLENBQVEsUUFBUixFQUFrQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDbEMsTUFBSTtBQUNBLFVBQU1DLE1BQU0sR0FBRyxNQUFNQyxnQkFBT0MsT0FBUCxDQUFlO0FBQUNDLE1BQUFBLEtBQUssRUFBRTtBQUFDQyxRQUFBQSxFQUFFLEVBQUVOLEdBQUcsQ0FBQ08sTUFBSixDQUFXQztBQUFoQjtBQUFSLEtBQWYsQ0FBckI7QUFDQVAsSUFBQUEsR0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ1IsTUFBQUE7QUFBRCxLQUFyQjtBQUNILEdBSEQsQ0FHRSxPQUFPUyxHQUFQLEVBQVk7QUFDVlYsSUFBQUEsR0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0MsTUFBQUEsR0FBRyxFQUFHLHVDQUFzQ0EsR0FBRyxDQUFDQyxPQUFRO0FBQXpELEtBQXJCO0FBQ0g7QUFDSixDQVBEO0FBU0FmLEdBQUcsQ0FBQ2dCLEdBQUosQ0FBUSxRQUFSLEVBQWtCLE9BQU9iLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUNsQyxNQUFJO0FBQ0EsVUFBTWEsTUFBTSxHQUFHLE1BQU1YLGdCQUFPQyxPQUFQLENBQWU7QUFBQ0MsTUFBQUEsS0FBSyxFQUFFO0FBQUNDLFFBQUFBLEVBQUUsRUFBRU4sR0FBRyxDQUFDTyxNQUFKLENBQVdDO0FBQWhCO0FBQVIsS0FBZixDQUFyQjtBQUNBLFVBQU07QUFBQ08sTUFBQUE7QUFBRCxRQUFTZixHQUFHLENBQUNnQixJQUFKLENBQVNDLFVBQXhCOztBQUVBLFFBQUlDLFVBQVUsR0FBR0MsY0FBS0MsSUFBTCxDQUFVQyxhQUFWLEVBQXlCTixJQUF6QixFQUErQkQsTUFBTSxDQUFDUSxJQUF0QyxDQUFqQjs7QUFDQSxRQUFJQyxZQUFHQyxVQUFILENBQWNOLFVBQWQsQ0FBSixFQUErQjtBQUMzQixVQUFJTyxhQUFhLEdBQUdOLGNBQUtDLElBQUwsQ0FBVUMsYUFBVixFQUF5Qk4sSUFBekIsRUFBK0JmLEdBQUcsQ0FBQzBCLElBQUosQ0FBU0osSUFBeEMsQ0FBcEI7O0FBQ0FDLGtCQUFHSSxNQUFILENBQVVULFVBQVYsRUFBc0JPLGFBQXRCO0FBQ0g7O0FBQ0QsVUFBTVgsTUFBTSxDQUFDYyxNQUFQLENBQWM7QUFBQ04sTUFBQUEsSUFBSSxFQUFFdEIsR0FBRyxDQUFDMEIsSUFBSixDQUFTSjtBQUFoQixLQUFkLENBQU47QUFFQXJCLElBQUFBLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVg7QUFDSCxHQVpELENBWUUsT0FBT0UsR0FBUCxFQUFZO0FBQ1ZWLElBQUFBLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNDLE1BQUFBLEdBQUcsRUFBRUEsR0FBRyxDQUFDQztBQUFWLEtBQXJCO0FBQ0g7QUFDSixDQWhCRDtBQWtCQWYsR0FBRyxDQUFDZ0MsTUFBSixDQUFXLFFBQVgsRUFBcUIsT0FBTzdCLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUNyQyxNQUFJO0FBQ0EsVUFBTWEsTUFBTSxHQUFHLE1BQU1YLGdCQUFPMkIsT0FBUCxDQUFlO0FBQUN6QixNQUFBQSxLQUFLLEVBQUU7QUFBQ0MsUUFBQUEsRUFBRSxFQUFFTixHQUFHLENBQUNPLE1BQUosQ0FBV0M7QUFBaEI7QUFBUixLQUFmLENBQXJCO0FBQ0EsVUFBTTtBQUFDTyxNQUFBQTtBQUFELFFBQVNmLEdBQUcsQ0FBQ2dCLElBQUosQ0FBU0MsVUFBeEI7O0FBQ0EsUUFBSUMsVUFBVSxHQUFHQyxjQUFLQyxJQUFMLENBQVVDLGFBQVYsRUFBeUJOLElBQXpCLEVBQStCRCxNQUFNLENBQUNRLElBQXRDLENBQWpCOztBQUNBLFFBQUlDLFlBQUdDLFVBQUgsQ0FBY04sVUFBZCxDQUFKLEVBQStCO0FBQzNCSyxrQkFBR1EsU0FBSCxDQUFhYixVQUFiO0FBQ0g7O0FBQ0RqQixJQUFBQSxHQUFHLENBQUNRLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDSSxNQUFBQTtBQUFELEtBQXJCO0FBQ0gsR0FSRCxDQVFFLE9BQU9ILEdBQVAsRUFBWTtBQUNWVixJQUFBQSxHQUFHLENBQUNRLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxHQUFHLEVBQUcsOEJBQTZCQSxHQUFHLENBQUNDLE9BQVE7QUFBaEQsS0FBckI7QUFDSDtBQUNKLENBWkQ7QUFjQWYsR0FBRyxDQUFDbUMsSUFBSixDQUFTLEdBQVQsRUFBYyxPQUFPaEMsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzlCLE1BQUk7QUFDQSxVQUFNO0FBQUNjLE1BQUFBO0FBQUQsUUFBU2YsR0FBRyxDQUFDZ0IsSUFBSixDQUFTQyxVQUF4QjtBQUNBLFVBQU07QUFBQ0ssTUFBQUE7QUFBRCxRQUFTdEIsR0FBRyxDQUFDMEIsSUFBbkI7QUFFQSxVQUFNWixNQUFNLEdBQUcsSUFBSVgsZUFBSixDQUFXO0FBQUNtQixNQUFBQSxJQUFEO0FBQU9XLE1BQUFBLFNBQVMsRUFBRWxCO0FBQWxCLEtBQVgsQ0FBZjtBQUVBLFVBQU1tQixRQUFRLEdBQUcsc0JBQWpCOztBQUVBLFFBQUksQ0FBQ1gsWUFBR0MsVUFBSCxDQUFjVSxRQUFkLENBQUwsRUFBOEI7QUFDMUJYLGtCQUFHWSxTQUFILENBQWFELFFBQWI7QUFDSDs7QUFFRCxRQUFJLENBQUNYLFlBQUdDLFVBQUgsQ0FBY0wsY0FBS0MsSUFBTCxDQUFVYyxRQUFWLEVBQW9CbkIsSUFBcEIsQ0FBZCxDQUFMLEVBQStDO0FBQzNDLFVBQUlxQixVQUFVLEdBQUdqQixjQUFLQyxJQUFMLENBQVVjLFFBQVYsRUFBb0JuQixJQUFwQixDQUFqQjs7QUFFQVEsa0JBQUdZLFNBQUgsQ0FBYUMsVUFBYjtBQUNIOztBQUVELFFBQUksQ0FBQ2IsWUFBR0MsVUFBSCxDQUFjTCxjQUFLQyxJQUFMLENBQVVjLFFBQVYsRUFBb0JuQixJQUFwQixFQUEwQk8sSUFBMUIsQ0FBZCxDQUFMLEVBQXFEO0FBQ2pELFVBQUllLFVBQVUsR0FBR2xCLGNBQUtDLElBQUwsQ0FBVWMsUUFBVixFQUFvQm5CLElBQXBCLEVBQTBCTyxJQUExQixDQUFqQjs7QUFDQUMsa0JBQUdZLFNBQUgsQ0FBYUUsVUFBYjtBQUNIOztBQUVELFVBQU12QixNQUFNLENBQUN3QixJQUFQLEVBQU47QUFFQXJDLElBQUFBLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCSSxNQUFyQjtBQUNILEdBMUJELENBMEJFLE9BQU9ILEdBQVAsRUFBWTtBQUNWVixJQUFBQSxHQUFHLENBQUNRLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxHQUFHLEVBQUVBLEdBQUcsQ0FBQ0M7QUFBVixLQUFyQjtBQUNIO0FBQ0osQ0E5QkQ7ZUFnQ2VmLEciLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvbXlTMy9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IEJ1Y2tldCBmcm9tIFwiLi4vbW9kZWxzL2J1Y2tldFwiO1xuaW1wb3J0IHtwaWNrfSBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5sZXQgYXBpID0gUm91dGVyKHttZXJnZVBhcmFtczogdHJ1ZX0pO1xuXG5hcGkuZ2V0KCcvOmJfaWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBidWNrZXIgPSBhd2FpdCBCdWNrZXQuZmluZE9uZSh7d2hlcmU6IHtpZDogcmVxLnBhcmFtcy5iX2lkfX0pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7YnVja2VyfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnI6IGBjb3VsZCBub3QgY29ubmVjdCB0byBkYXRhYmFzZSwgZXJyOiAke2Vyci5tZXNzYWdlfWB9KTtcbiAgICB9XG59KTtcblxuYXBpLnB1dCgnLzpiX2lkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYnVja2V0ID0gYXdhaXQgQnVja2V0LmZpbmRPbmUoe3doZXJlOiB7aWQ6IHJlcS5wYXJhbXMuYl9pZH19KVxuICAgICAgICBjb25zdCB7dXVpZH0gPSByZXEudXNlci5kYXRhVmFsdWVzO1xuXG4gICAgICAgIGxldCBidWNrZXRQYXRoID0gcGF0aC5qb2luKFdPUktTUEFDRV9ESVIsIHV1aWQsIGJ1Y2tldC5uYW1lKTtcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoYnVja2V0UGF0aCkpIHtcbiAgICAgICAgICAgIGxldCBuZXdCdWNrZXRQYXRoID0gcGF0aC5qb2luKFdPUktTUEFDRV9ESVIsIHV1aWQsIHJlcS5ib2R5Lm5hbWUpO1xuICAgICAgICAgICAgZnMucmVuYW1lKGJ1Y2tldFBhdGgsIG5ld0J1Y2tldFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGJ1Y2tldC51cGRhdGUoe25hbWU6IHJlcS5ib2R5Lm5hbWV9KVxuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe2VycjogZXJyLm1lc3NhZ2V9KVxuICAgIH1cbn0pXG5cbmFwaS5kZWxldGUoJy86Yl9pZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJ1Y2tldCA9IGF3YWl0IEJ1Y2tldC5kZXN0cm95KHt3aGVyZToge2lkOiByZXEucGFyYW1zLmJfaWR9fSk7XG4gICAgICAgIGNvbnN0IHt1dWlkfSA9IHJlcS51c2VyLmRhdGFWYWx1ZXM7XG4gICAgICAgIGxldCBidWNrZXRQYXRoID0gcGF0aC5qb2luKFdPUktTUEFDRV9ESVIsIHV1aWQsIGJ1Y2tldC5uYW1lKTtcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoYnVja2V0UGF0aCkpIHtcbiAgICAgICAgICAgIGZzLnJtZGlyU3luYyhidWNrZXRQYXRoKTtcbiAgICAgICAgfVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7YnVja2V0fSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnI6IGBidWNrZXQgZG9lc24ndCBleGlzdCwgZXJyOiAke2Vyci5tZXNzYWdlfWB9KTtcbiAgICB9XG59KVxuXG5hcGkucG9zdCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHt1dWlkfSA9IHJlcS51c2VyLmRhdGFWYWx1ZXNcbiAgICAgICAgY29uc3Qge25hbWV9ID0gcmVxLmJvZHlcblxuICAgICAgICBjb25zdCBidWNrZXQgPSBuZXcgQnVja2V0KHtuYW1lLCB1c2VyX3V1aWQ6IHV1aWR9KVxuXG4gICAgICAgIGNvbnN0IEJBU0VfVVJMID0gJy9vcHQvd29ya3NwYWNlL215UzMvJztcblxuICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoQkFTRV9VUkwpKSB7XG4gICAgICAgICAgICBmcy5ta2RpclN5bmMoQkFTRV9VUkwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKHBhdGguam9pbihCQVNFX1VSTCwgdXVpZCkpKSB7XG4gICAgICAgICAgICBsZXQgZm9sZGVyVXNlciA9IHBhdGguam9pbihCQVNFX1VSTCwgdXVpZCk7XG5cbiAgICAgICAgICAgIGZzLm1rZGlyU3luYyhmb2xkZXJVc2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhwYXRoLmpvaW4oQkFTRV9VUkwsIHV1aWQsIG5hbWUpKSkge1xuICAgICAgICAgICAgbGV0IGJ1Y2tldFVzZXIgPSBwYXRoLmpvaW4oQkFTRV9VUkwsIHV1aWQsIG5hbWUpXG4gICAgICAgICAgICBmcy5ta2RpclN5bmMoYnVja2V0VXNlcik7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCBidWNrZXQuc2F2ZSgpO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKGJ1Y2tldClcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe2VycjogZXJyLm1lc3NhZ2V9KVxuICAgIH1cbn0pXG5cbmV4cG9ydCBkZWZhdWx0IGFwaTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "bucket.js"
      ],
      "names": [
        "api",
        "mergeParams",
        "get",
        "req",
        "res",
        "bucker",
        "Bucket",
        "findOne",
        "where",
        "id",
        "params",
        "b_id",
        "status",
        "json",
        "err",
        "message",
        "put",
        "bucket",
        "uuid",
        "user",
        "dataValues",
        "bucketPath",
        "path",
        "join",
        "WORKSPACE_DIR",
        "name",
        "fs",
        "existsSync",
        "newBucketPath",
        "body",
        "rename",
        "update",
        "delete",
        "destroy",
        "rmdirSync",
        "post",
        "user_uuid",
        "BASE_URL",
        "mkdirSync",
        "folderUser",
        "bucketUser",
        "save"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "sourcesContent": [
        "import {Router} from 'express';\nimport fs from 'fs';\nimport Bucket from \"../models/bucket\";\nimport {pick} from \"lodash\";\nimport path from 'path'\n\nlet api = Router({mergeParams: true});\n\napi.get('/:b_id', async (req, res) => {\n    try {\n        const bucker = await Bucket.findOne({where: {id: req.params.b_id}});\n        res.status(200).json({bucker});\n    } catch (err) {\n        res.status(400).json({err: `could not connect to database, err: ${err.message}`});\n    }\n});\n\napi.put('/:b_id', async (req, res) => {\n    try {\n        const bucket = await Bucket.findOne({where: {id: req.params.b_id}})\n        const {uuid} = req.user.dataValues;\n\n        let bucketPath = path.join(WORKSPACE_DIR, uuid, bucket.name);\n        if (fs.existsSync(bucketPath)) {\n            let newBucketPath = path.join(WORKSPACE_DIR, uuid, req.body.name);\n            fs.rename(bucketPath, newBucketPath);\n        }\n        await bucket.update({name: req.body.name})\n\n        res.status(200);\n    } catch (err) {\n        res.status(400).json({err: err.message})\n    }\n})\n\napi.delete('/:b_id', async (req, res) => {\n    try {\n        const bucket = await Bucket.destroy({where: {id: req.params.b_id}});\n        const {uuid} = req.user.dataValues;\n        let bucketPath = path.join(WORKSPACE_DIR, uuid, bucket.name);\n        if (fs.existsSync(bucketPath)) {\n            fs.rmdirSync(bucketPath);\n        }\n        res.status(200).json({bucket});\n    } catch (err) {\n        res.status(400).json({err: `bucket doesn't exist, err: ${err.message}`});\n    }\n})\n\napi.post('/', async (req, res) => {\n    try {\n        const {uuid} = req.user.dataValues\n        const {name} = req.body\n\n        const bucket = new Bucket({name, user_uuid: uuid})\n\n        const BASE_URL = '/opt/workspace/myS3/';\n\n        if (!fs.existsSync(BASE_URL)) {\n            fs.mkdirSync(BASE_URL);\n        }\n\n        if (!fs.existsSync(path.join(BASE_URL, uuid))) {\n            let folderUser = path.join(BASE_URL, uuid);\n\n            fs.mkdirSync(folderUser);\n        }\n\n        if (!fs.existsSync(path.join(BASE_URL, uuid, name))) {\n            let bucketUser = path.join(BASE_URL, uuid, name)\n            fs.mkdirSync(bucketUser);\n        }\n\n        await bucket.save();\n\n        res.status(201).json(bucket)\n    } catch (err) {\n        res.status(400).json({err: err.message})\n    }\n})\n\nexport default api;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541953941394
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/auth.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/auth.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/auth.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nvar _mail = _interopRequireDefault(require(\"../lib/mail\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = (0, _express.Router)();\napi.post('/register', async (req, res) => {\n  const {\n    nickname,\n    email,\n    password,\n    password_confirmation\n  } = req.body;\n\n  try {\n    const user = new _user.default({\n      nickname,\n      email,\n      password,\n      password_confirmation\n    });\n    await user.save();\n\n    _mail.default.send(user.email, 'Welcome', `Hello ${user.nickname}`, `<h1>Hello ${user.nickname}</h1>`);\n\n    const payload = {\n      uuid: user.uuid,\n      nickname,\n      email\n    };\n\n    const token = _jsonwebtoken.default.sign(payload, process.env.JWT_ENCRYPTION);\n\n    res.status(201).json({\n      data: {\n        user\n      },\n      meta: {\n        token\n      }\n    });\n  } catch (err) {\n    res.status(400).json({\n      err\n    });\n  }\n});\napi.post('/login', (req, res) => {\n  _passport.default.authenticate('local', {\n    session: false\n  }, (err, user, message) => {\n    if (err) {\n      res.status(400).json({\n        err\n      });\n    }\n\n    const {\n      uuid,\n      nickname,\n      email\n    } = user.toJSON();\n    const payload = {\n      uuid: user.uuid,\n      nickname,\n      email\n    };\n\n    const token = _jsonwebtoken.default.sign(payload, process.env.JWT_ENCRYPTION);\n\n    res.status(200).json({\n      data: {\n        user: {\n          uuid,\n          nickname,\n          email\n        }\n      },\n      meta: {\n        token\n      }\n    });\n  })(req, res);\n});\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiYXBpIiwicG9zdCIsInJlcSIsInJlcyIsIm5pY2tuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInBhc3N3b3JkX2NvbmZpcm1hdGlvbiIsImJvZHkiLCJ1c2VyIiwiVXNlciIsInNhdmUiLCJNYWlsZXIiLCJzZW5kIiwicGF5bG9hZCIsInV1aWQiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiSldUX0VOQ1JZUFRJT04iLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsIm1ldGEiLCJlcnIiLCJwYXNzcG9ydCIsImF1dGhlbnRpY2F0ZSIsInNlc3Npb24iLCJtZXNzYWdlIiwidG9KU09OIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxHQUFHLEdBQUcsc0JBQVo7QUFFQUEsR0FBRyxDQUFDQyxJQUFKLENBQVMsV0FBVCxFQUFzQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTTtBQUNGQyxJQUFBQSxRQURFO0FBQ1FDLElBQUFBLEtBRFI7QUFDZUMsSUFBQUEsUUFEZjtBQUN5QkMsSUFBQUE7QUFEekIsTUFFRkwsR0FBRyxDQUFDTSxJQUZSOztBQUdBLE1BQUk7QUFDQSxVQUFNQyxJQUFJLEdBQUcsSUFBSUMsYUFBSixDQUFTO0FBQ2xCTixNQUFBQSxRQURrQjtBQUVsQkMsTUFBQUEsS0FGa0I7QUFHbEJDLE1BQUFBLFFBSGtCO0FBSWxCQyxNQUFBQTtBQUprQixLQUFULENBQWI7QUFNQSxVQUFNRSxJQUFJLENBQUNFLElBQUwsRUFBTjs7QUFDQUMsa0JBQU9DLElBQVAsQ0FBWUosSUFBSSxDQUFDSixLQUFqQixFQUF3QixTQUF4QixFQUFvQyxTQUFRSSxJQUFJLENBQUNMLFFBQVMsRUFBMUQsRUFBOEQsYUFBWUssSUFBSSxDQUFDTCxRQUFTLE9BQXhGOztBQUVBLFVBQU1VLE9BQU8sR0FBRztBQUFFQyxNQUFBQSxJQUFJLEVBQUVOLElBQUksQ0FBQ00sSUFBYjtBQUFtQlgsTUFBQUEsUUFBbkI7QUFBNkJDLE1BQUFBO0FBQTdCLEtBQWhCOztBQUNBLFVBQU1XLEtBQUssR0FBR0Msc0JBQUlDLElBQUosQ0FBU0osT0FBVCxFQUFrQkssT0FBTyxDQUFDQyxHQUFSLENBQVlDLGNBQTlCLENBQWQ7O0FBQ0FsQixJQUFBQSxHQUFHLENBQUNtQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsSUFBSSxFQUFFO0FBQUVmLFFBQUFBO0FBQUYsT0FBUjtBQUFrQmdCLE1BQUFBLElBQUksRUFBRTtBQUFFVCxRQUFBQTtBQUFGO0FBQXhCLEtBQXJCO0FBQ0gsR0FiRCxDQWFFLE9BQU9VLEdBQVAsRUFBWTtBQUNWdkIsSUFBQUEsR0FBRyxDQUFDbUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVHLE1BQUFBO0FBQUYsS0FBckI7QUFDSDtBQUNKLENBcEJEO0FBc0JBMUIsR0FBRyxDQUFDQyxJQUFKLENBQVMsUUFBVCxFQUFtQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUM3QndCLG9CQUFTQyxZQUFULENBQ0ksT0FESixFQUVJO0FBQ0lDLElBQUFBLE9BQU8sRUFBRTtBQURiLEdBRkosRUFLSSxDQUFDSCxHQUFELEVBQU1qQixJQUFOLEVBQVlxQixPQUFaLEtBQXdCO0FBQ3BCLFFBQUlKLEdBQUosRUFBUztBQUNMdkIsTUFBQUEsR0FBRyxDQUFDbUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVHLFFBQUFBO0FBQUYsT0FBckI7QUFDSDs7QUFFRCxVQUFNO0FBQUVYLE1BQUFBLElBQUY7QUFBUVgsTUFBQUEsUUFBUjtBQUFrQkMsTUFBQUE7QUFBbEIsUUFBNEJJLElBQUksQ0FBQ3NCLE1BQUwsRUFBbEM7QUFDQSxVQUFNakIsT0FBTyxHQUFHO0FBQUVDLE1BQUFBLElBQUksRUFBRU4sSUFBSSxDQUFDTSxJQUFiO0FBQW1CWCxNQUFBQSxRQUFuQjtBQUE2QkMsTUFBQUE7QUFBN0IsS0FBaEI7O0FBQ0EsVUFBTVcsS0FBSyxHQUFHQyxzQkFBSUMsSUFBSixDQUFTSixPQUFULEVBQWtCSyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsY0FBOUIsQ0FBZDs7QUFDQWxCLElBQUFBLEdBQUcsQ0FBQ21CLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxJQUFJLEVBQUU7QUFBRWYsUUFBQUEsSUFBSSxFQUFFO0FBQUVNLFVBQUFBLElBQUY7QUFBUVgsVUFBQUEsUUFBUjtBQUFrQkMsVUFBQUE7QUFBbEI7QUFBUixPQUFSO0FBQTZDb0IsTUFBQUEsSUFBSSxFQUFFO0FBQUVULFFBQUFBO0FBQUY7QUFBbkQsS0FBckI7QUFDSCxHQWRMLEVBZUVkLEdBZkYsRUFlT0MsR0FmUDtBQWdCSCxDQWpCRDtlQW1CZUgsRyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW50b2luZWZyYW5jb2lzL0Rlc2t0b3AvYW50b2luZS90cm9pc2llzIBtZV9hbm5lZS9teVMzL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyJztcbmltcG9ydCBNYWlsZXIgZnJvbSAnLi4vbGliL21haWwnO1xuXG5jb25zdCBhcGkgPSBSb3V0ZXIoKTtcblxuYXBpLnBvc3QoJy9yZWdpc3RlcicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICAgbmlja25hbWUsIGVtYWlsLCBwYXNzd29yZCwgcGFzc3dvcmRfY29uZmlybWF0aW9uLFxuICAgIH0gPSByZXEuYm9keTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xuICAgICAgICAgICAgbmlja25hbWUsXG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICAgICAgcGFzc3dvcmRfY29uZmlybWF0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgICAgIE1haWxlci5zZW5kKHVzZXIuZW1haWwsICdXZWxjb21lJywgYEhlbGxvICR7dXNlci5uaWNrbmFtZX1gLCBgPGgxPkhlbGxvICR7dXNlci5uaWNrbmFtZX08L2gxPmApO1xuXG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHV1aWQ6IHVzZXIudXVpZCwgbmlja25hbWUsIGVtYWlsIH07XG4gICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24ocGF5bG9hZCwgcHJvY2Vzcy5lbnYuSldUX0VOQ1JZUFRJT04pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IGRhdGE6IHsgdXNlciB9LCBtZXRhOiB7IHRva2VuIH0gfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyIH0pO1xuICAgIH1cbn0pO1xuXG5hcGkucG9zdCgnL2xvZ2luJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcGFzc3BvcnQuYXV0aGVudGljYXRlKFxuICAgICAgICAnbG9jYWwnLFxuICAgICAgICB7XG4gICAgICAgICAgICBzZXNzaW9uOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgKGVyciwgdXNlciwgbWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7IHV1aWQsIG5pY2tuYW1lLCBlbWFpbCB9ID0gdXNlci50b0pTT04oKTtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHV1aWQ6IHVzZXIudXVpZCwgbmlja25hbWUsIGVtYWlsIH07XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHBheWxvYWQsIHByb2Nlc3MuZW52LkpXVF9FTkNSWVBUSU9OKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZGF0YTogeyB1c2VyOiB7IHV1aWQsIG5pY2tuYW1lLCBlbWFpbCB9IH0sIG1ldGE6IHsgdG9rZW4gfSB9KTtcbiAgICAgICAgfSxcbiAgICApKHJlcSwgcmVzKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBhcGk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "api",
        "post",
        "req",
        "res",
        "nickname",
        "email",
        "password",
        "password_confirmation",
        "body",
        "user",
        "User",
        "save",
        "Mailer",
        "send",
        "payload",
        "uuid",
        "token",
        "jwt",
        "sign",
        "process",
        "env",
        "JWT_ENCRYPTION",
        "status",
        "json",
        "data",
        "meta",
        "err",
        "passport",
        "authenticate",
        "session",
        "message",
        "toJSON"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ;AAEAA,GAAG,CAACC,IAAJ,CAAS,WAAT,EAAsB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM;AACFC,IAAAA,QADE;AACQC,IAAAA,KADR;AACeC,IAAAA,QADf;AACyBC,IAAAA;AADzB,MAEFL,GAAG,CAACM,IAFR;;AAGA,MAAI;AACA,UAAMC,IAAI,GAAG,IAAIC,aAAJ,CAAS;AAClBN,MAAAA,QADkB;AAElBC,MAAAA,KAFkB;AAGlBC,MAAAA,QAHkB;AAIlBC,MAAAA;AAJkB,KAAT,CAAb;AAMA,UAAME,IAAI,CAACE,IAAL,EAAN;;AACAC,kBAAOC,IAAP,CAAYJ,IAAI,CAACJ,KAAjB,EAAwB,SAAxB,EAAoC,SAAQI,IAAI,CAACL,QAAS,EAA1D,EAA8D,aAAYK,IAAI,CAACL,QAAS,OAAxF;;AAEA,UAAMU,OAAO,GAAG;AAAEC,MAAAA,IAAI,EAAEN,IAAI,CAACM,IAAb;AAAmBX,MAAAA,QAAnB;AAA6BC,MAAAA;AAA7B,KAAhB;;AACA,UAAMW,KAAK,GAAGC,sBAAIC,IAAJ,CAASJ,OAAT,EAAkBK,OAAO,CAACC,GAAR,CAAYC,cAA9B,CAAd;;AACAlB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAE;AAAEf,QAAAA;AAAF,OAAR;AAAkBgB,MAAAA,IAAI,EAAE;AAAET,QAAAA;AAAF;AAAxB,KAArB;AACH,GAbD,CAaE,OAAOU,GAAP,EAAY;AACVvB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,MAAAA;AAAF,KAArB;AACH;AACJ,CApBD;AAsBA1B,GAAG,CAACC,IAAJ,CAAS,QAAT,EAAmB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC7BwB,oBAASC,YAAT,CACI,OADJ,EAEI;AACIC,IAAAA,OAAO,EAAE;AADb,GAFJ,EAKI,CAACH,GAAD,EAAMjB,IAAN,EAAYqB,OAAZ,KAAwB;AACpB,QAAIJ,GAAJ,EAAS;AACLvB,MAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,QAAAA;AAAF,OAArB;AACH;;AAED,UAAM;AAAEX,MAAAA,IAAF;AAAQX,MAAAA,QAAR;AAAkBC,MAAAA;AAAlB,QAA4BI,IAAI,CAACsB,MAAL,EAAlC;AACA,UAAMjB,OAAO,GAAG;AAAEC,MAAAA,IAAI,EAAEN,IAAI,CAACM,IAAb;AAAmBX,MAAAA,QAAnB;AAA6BC,MAAAA;AAA7B,KAAhB;;AACA,UAAMW,KAAK,GAAGC,sBAAIC,IAAJ,CAASJ,OAAT,EAAkBK,OAAO,CAACC,GAAR,CAAYC,cAA9B,CAAd;;AACAlB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAE;AAAEf,QAAAA,IAAI,EAAE;AAAEM,UAAAA,IAAF;AAAQX,UAAAA,QAAR;AAAkBC,UAAAA;AAAlB;AAAR,OAAR;AAA6CoB,MAAAA,IAAI,EAAE;AAAET,QAAAA;AAAF;AAAnD,KAArB;AACH,GAdL,EAeEd,GAfF,EAeOC,GAfP;AAgBH,CAjBD;eAmBeH,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "sourcesContent": [
        "import { Router } from 'express';\nimport passport from 'passport';\nimport jwt from 'jsonwebtoken';\nimport User from '../models/user';\nimport Mailer from '../lib/mail';\n\nconst api = Router();\n\napi.post('/register', async (req, res) => {\n    const {\n        nickname, email, password, password_confirmation,\n    } = req.body;\n    try {\n        const user = new User({\n            nickname,\n            email,\n            password,\n            password_confirmation,\n        });\n        await user.save();\n        Mailer.send(user.email, 'Welcome', `Hello ${user.nickname}`, `<h1>Hello ${user.nickname}</h1>`);\n\n        const payload = { uuid: user.uuid, nickname, email };\n        const token = jwt.sign(payload, process.env.JWT_ENCRYPTION);\n        res.status(201).json({ data: { user }, meta: { token } });\n    } catch (err) {\n        res.status(400).json({ err });\n    }\n});\n\napi.post('/login', (req, res) => {\n    passport.authenticate(\n        'local',\n        {\n            session: false,\n        },\n        (err, user, message) => {\n            if (err) {\n                res.status(400).json({ err });\n            }\n\n            const { uuid, nickname, email } = user.toJSON();\n            const payload = { uuid: user.uuid, nickname, email };\n            const token = jwt.sign(payload, process.env.JWT_ENCRYPTION);\n            res.status(200).json({ data: { user: { uuid, nickname, email } }, meta: { token } });\n        },\n    )(req, res);\n});\n\nexport default api;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541689690707
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/blob.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/blob.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/blob.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/blob.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
        "sourceFileName": "blob.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _blob = _interopRequireDefault(require(\"../models/blob\"));\n\nvar _bucket = _interopRequireDefault(require(\"../models/bucket\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _filesystem = _interopRequireDefault(require(\"../lib/filesystem\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst WORKSPACE_DIR = \"/opt/Workspace/MyS3\";\n\nconst storage = _multer.default.diskStorage({\n  destination: async (req, file, cb) => {\n    let {\n      uuid,\n      b_id\n    } = req.params;\n    const bucket = await _bucket.default.findOne({\n      attributes: [\"name\"],\n      where: {\n        b_id,\n        user_uuid: uuid\n      }\n    });\n    await cb(null, _path.default.join(WORKSPACE_DIR, uuid, bucket.name));\n  },\n  filename: async (req, file, cb) => {\n    await cb(null, new Date().toISOString() + file.originalname);\n  }\n});\n\nconst upload = (0, _multer.default)({\n  storage: storage,\n  limits: {\n    fileSize: 1024 * 1024 * 5\n  }\n});\nconst api = (0, _express.Router)({\n  mergeParams: true\n});\napi.post(\"/\", upload.single(\"blob\"), async (req, res) => {\n  try {\n    let name = req.file.filename;\n    let path = req.file.path;\n    let size = req.file.size;\n    let b_id = req.params.b_id;\n    const blob = new _blob.default({\n      name,\n      path,\n      size,\n      bucket_id: b_id\n    });\n\n    if (req.file) {\n      await blob.save();\n      res.status(201).json({\n        blob: {\n          blob\n        }\n      });\n    }\n  } catch (err) {\n    res.status(400).json({\n      err: err.message\n    });\n  }\n});\napi.delete(\"/:id\", async (req, res) => {\n  try {\n    const {\n      uuid,\n      b_id,\n      id\n    } = req.params;\n    const bucket = await _bucket.default.findOne({\n      attributes: [\"name\"],\n      where: {\n        id,\n        user_uuid: uuid\n      }\n    });\n    const blob = await _blob.default.findOne({\n      attributes: [\"name\"],\n      where: {\n        id: id,\n        bucket_id: b_id\n      }\n    });\n\n    if (blob) {\n      _filesystem.default.removeBlob(uuid, bucket.name, blob.name);\n\n      await _blob.default.destroy({\n        where: {\n          id: id\n        }\n      });\n      res.status(204).end();\n    } else {\n      res.status(400).json({\n        message: \"blob doesn't exist\"\n      });\n    }\n  } catch (err) {\n    res.status(400).json({\n      err\n    });\n  }\n});\napi.put(\"/:id\", async (req, res) => {\n  const {\n    b_id,\n    id\n  } = req.params;\n\n  try {\n    const blob = await _blob.default.findOne({\n      attributes: [\"name\", \"id\"],\n      where: {\n        id: id,\n        bucket_id: b_id\n      }\n    });\n\n    if (blob) {\n      if (req.body.name !== \"\") {\n        let nameFile = req.body.name + _path.default.extname(blob.name);\n\n        await blob.update({\n          name: nameFile\n        });\n        res.status(204).send();\n      } else {\n        await blob.update({\n          name: blob.name\n        });\n        res.status(204).send();\n      }\n    }\n  } catch (err) {\n    res.status(400).json({\n      err: err.message\n    });\n  }\n});\napi.get(\"/:id\", async (req, res) => {\n  const {\n    b_id,\n    id\n  } = req.params;\n\n  try {\n    const blob = await _blob.default.findOne({\n      attributes: [\"name\", \"id\"],\n      where: {\n        id: id,\n        bucket_id: b_id\n      }\n    });\n    res.status(200).json({\n      blob\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `could not connect to database, err: ${err.message}`\n    });\n  }\n});\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2IuanMiXSwibmFtZXMiOlsiV09SS1NQQUNFX0RJUiIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwidXVpZCIsImJfaWQiLCJwYXJhbXMiLCJidWNrZXQiLCJCdWNrZXQiLCJmaW5kT25lIiwiYXR0cmlidXRlcyIsIndoZXJlIiwidXNlcl91dWlkIiwicGF0aCIsImpvaW4iLCJuYW1lIiwiZmlsZW5hbWUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJvcmlnaW5hbG5hbWUiLCJ1cGxvYWQiLCJsaW1pdHMiLCJmaWxlU2l6ZSIsImFwaSIsIm1lcmdlUGFyYW1zIiwicG9zdCIsInNpbmdsZSIsInJlcyIsInNpemUiLCJibG9iIiwiQmxvYiIsImJ1Y2tldF9pZCIsInNhdmUiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwibWVzc2FnZSIsImRlbGV0ZSIsImlkIiwiZmlsZXN5c3RlbSIsInJlbW92ZUJsb2IiLCJkZXN0cm95IiwiZW5kIiwicHV0IiwiYm9keSIsIm5hbWVGaWxlIiwiZXh0bmFtZSIsInVwZGF0ZSIsInNlbmQiLCJnZXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQWEsR0FBRyxxQkFBdEI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHQyxnQkFBT0MsV0FBUCxDQUFtQjtBQUMvQkMsRUFBQUEsV0FBVyxFQUFFLE9BQU9DLEdBQVAsRUFBWUMsSUFBWixFQUFrQkMsRUFBbEIsS0FBeUI7QUFDbEMsUUFBSTtBQUFDQyxNQUFBQSxJQUFEO0FBQU9DLE1BQUFBO0FBQVAsUUFBZUosR0FBRyxDQUFDSyxNQUF2QjtBQUNBLFVBQU1DLE1BQU0sR0FBRyxNQUFNQyxnQkFBT0MsT0FBUCxDQUFlO0FBQ2hDQyxNQUFBQSxVQUFVLEVBQUUsQ0FBQyxNQUFELENBRG9CO0FBRWhDQyxNQUFBQSxLQUFLLEVBQUU7QUFBQ04sUUFBQUEsSUFBRDtBQUFPTyxRQUFBQSxTQUFTLEVBQUVSO0FBQWxCO0FBRnlCLEtBQWYsQ0FBckI7QUFJQSxVQUFNRCxFQUFFLENBQUMsSUFBRCxFQUFPVSxjQUFLQyxJQUFMLENBQVVsQixhQUFWLEVBQXlCUSxJQUF6QixFQUErQkcsTUFBTSxDQUFDUSxJQUF0QyxDQUFQLENBQVI7QUFDSCxHQVI4QjtBQVMvQkMsRUFBQUEsUUFBUSxFQUFFLE9BQU9mLEdBQVAsRUFBWUMsSUFBWixFQUFrQkMsRUFBbEIsS0FBeUI7QUFDL0IsVUFBTUEsRUFBRSxDQUFDLElBQUQsRUFBTyxJQUFJYyxJQUFKLEdBQVdDLFdBQVgsS0FBMkJoQixJQUFJLENBQUNpQixZQUF2QyxDQUFSO0FBQ0g7QUFYOEIsQ0FBbkIsQ0FBaEI7O0FBYUEsTUFBTUMsTUFBTSxHQUFHLHFCQUFPO0FBQ2xCdkIsRUFBQUEsT0FBTyxFQUFFQSxPQURTO0FBRWxCd0IsRUFBQUEsTUFBTSxFQUFFO0FBQ0pDLElBQUFBLFFBQVEsRUFBRSxPQUFPLElBQVAsR0FBYztBQURwQjtBQUZVLENBQVAsQ0FBZjtBQU9BLE1BQU1DLEdBQUcsR0FBRyxxQkFBTztBQUFDQyxFQUFBQSxXQUFXLEVBQUU7QUFBZCxDQUFQLENBQVo7QUFFQUQsR0FBRyxDQUFDRSxJQUFKLENBQVMsR0FBVCxFQUFjTCxNQUFNLENBQUNNLE1BQVAsQ0FBYyxNQUFkLENBQWQsRUFBcUMsT0FBT3pCLEdBQVAsRUFBWTBCLEdBQVosS0FBb0I7QUFDckQsTUFBSTtBQUNBLFFBQUlaLElBQUksR0FBR2QsR0FBRyxDQUFDQyxJQUFKLENBQVNjLFFBQXBCO0FBQ0EsUUFBSUgsSUFBSSxHQUFHWixHQUFHLENBQUNDLElBQUosQ0FBU1csSUFBcEI7QUFDQSxRQUFJZSxJQUFJLEdBQUczQixHQUFHLENBQUNDLElBQUosQ0FBUzBCLElBQXBCO0FBQ0EsUUFBSXZCLElBQUksR0FBR0osR0FBRyxDQUFDSyxNQUFKLENBQVdELElBQXRCO0FBQ0EsVUFBTXdCLElBQUksR0FBRyxJQUFJQyxhQUFKLENBQVM7QUFBQ2YsTUFBQUEsSUFBRDtBQUFPRixNQUFBQSxJQUFQO0FBQWFlLE1BQUFBLElBQWI7QUFBbUJHLE1BQUFBLFNBQVMsRUFBRTFCO0FBQTlCLEtBQVQsQ0FBYjs7QUFDQSxRQUFJSixHQUFHLENBQUNDLElBQVIsRUFBYztBQUNWLFlBQU0yQixJQUFJLENBQUNHLElBQUwsRUFBTjtBQUNBTCxNQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDTCxRQUFBQSxJQUFJLEVBQUU7QUFBQ0EsVUFBQUE7QUFBRDtBQUFQLE9BQXJCO0FBQ0g7QUFDSixHQVZELENBVUUsT0FBT00sR0FBUCxFQUFZO0FBQ1ZSLElBQUFBLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNDLE1BQUFBLEdBQUcsRUFBRUEsR0FBRyxDQUFDQztBQUFWLEtBQXJCO0FBQ0g7QUFDSixDQWREO0FBZ0JBYixHQUFHLENBQUNjLE1BQUosQ0FBVyxNQUFYLEVBQW1CLE9BQU9wQyxHQUFQLEVBQVkwQixHQUFaLEtBQW9CO0FBQ25DLE1BQUk7QUFDQSxVQUFNO0FBQUN2QixNQUFBQSxJQUFEO0FBQU9DLE1BQUFBLElBQVA7QUFBYWlDLE1BQUFBO0FBQWIsUUFBbUJyQyxHQUFHLENBQUNLLE1BQTdCO0FBQ0EsVUFBTUMsTUFBTSxHQUFHLE1BQU1DLGdCQUFPQyxPQUFQLENBQWU7QUFDaENDLE1BQUFBLFVBQVUsRUFBRSxDQUFDLE1BQUQsQ0FEb0I7QUFFaENDLE1BQUFBLEtBQUssRUFBRTtBQUFDMkIsUUFBQUEsRUFBRDtBQUFLMUIsUUFBQUEsU0FBUyxFQUFFUjtBQUFoQjtBQUZ5QixLQUFmLENBQXJCO0FBSUEsVUFBTXlCLElBQUksR0FBRyxNQUFNQyxjQUFLckIsT0FBTCxDQUFhO0FBQzVCQyxNQUFBQSxVQUFVLEVBQUUsQ0FBQyxNQUFELENBRGdCO0FBRTVCQyxNQUFBQSxLQUFLLEVBQUU7QUFDSDJCLFFBQUFBLEVBQUUsRUFBRUEsRUFERDtBQUVIUCxRQUFBQSxTQUFTLEVBQUUxQjtBQUZSO0FBRnFCLEtBQWIsQ0FBbkI7O0FBT0EsUUFBSXdCLElBQUosRUFBVTtBQUNOVSwwQkFBV0MsVUFBWCxDQUFzQnBDLElBQXRCLEVBQTRCRyxNQUFNLENBQUNRLElBQW5DLEVBQXlDYyxJQUFJLENBQUNkLElBQTlDOztBQUNBLFlBQU1lLGNBQUtXLE9BQUwsQ0FBYTtBQUFDOUIsUUFBQUEsS0FBSyxFQUFFO0FBQUMyQixVQUFBQSxFQUFFLEVBQUVBO0FBQUw7QUFBUixPQUFiLENBQU47QUFDQVgsTUFBQUEsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQlMsR0FBaEI7QUFDSCxLQUpELE1BSU87QUFDSGYsTUFBQUEsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0UsUUFBQUEsT0FBTyxFQUFFO0FBQVYsT0FBckI7QUFDSDtBQUNKLEdBcEJELENBb0JFLE9BQU9ELEdBQVAsRUFBWTtBQUNWUixJQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQTtBQUFELEtBQXJCO0FBQ0g7QUFDSixDQXhCRDtBQTBCQVosR0FBRyxDQUFDb0IsR0FBSixDQUFRLE1BQVIsRUFBZ0IsT0FBTzFDLEdBQVAsRUFBWTBCLEdBQVosS0FBb0I7QUFDaEMsUUFBTTtBQUFDdEIsSUFBQUEsSUFBRDtBQUFPaUMsSUFBQUE7QUFBUCxNQUFhckMsR0FBRyxDQUFDSyxNQUF2Qjs7QUFDQSxNQUFJO0FBQ0EsVUFBTXVCLElBQUksR0FBRyxNQUFNQyxjQUFLckIsT0FBTCxDQUFhO0FBQzVCQyxNQUFBQSxVQUFVLEVBQUUsQ0FBQyxNQUFELEVBQVMsSUFBVCxDQURnQjtBQUU1QkMsTUFBQUEsS0FBSyxFQUFFO0FBQ0gyQixRQUFBQSxFQUFFLEVBQUVBLEVBREQ7QUFFSFAsUUFBQUEsU0FBUyxFQUFFMUI7QUFGUjtBQUZxQixLQUFiLENBQW5COztBQVFBLFFBQUl3QixJQUFKLEVBQVU7QUFDTixVQUFJNUIsR0FBRyxDQUFDMkMsSUFBSixDQUFTN0IsSUFBVCxLQUFrQixFQUF0QixFQUEwQjtBQUN0QixZQUFJOEIsUUFBUSxHQUFHNUMsR0FBRyxDQUFDMkMsSUFBSixDQUFTN0IsSUFBVCxHQUFnQkYsY0FBS2lDLE9BQUwsQ0FBYWpCLElBQUksQ0FBQ2QsSUFBbEIsQ0FBL0I7O0FBQ0EsY0FBTWMsSUFBSSxDQUFDa0IsTUFBTCxDQUFZO0FBQUNoQyxVQUFBQSxJQUFJLEVBQUU4QjtBQUFQLFNBQVosQ0FBTjtBQUNBbEIsUUFBQUEsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQmUsSUFBaEI7QUFDSCxPQUpELE1BSU87QUFDSCxjQUFNbkIsSUFBSSxDQUFDa0IsTUFBTCxDQUFZO0FBQUNoQyxVQUFBQSxJQUFJLEVBQUVjLElBQUksQ0FBQ2Q7QUFBWixTQUFaLENBQU47QUFDQVksUUFBQUEsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQmUsSUFBaEI7QUFDSDtBQUNKO0FBQ0osR0FuQkQsQ0FtQkUsT0FBT2IsR0FBUCxFQUFZO0FBQ1ZSLElBQUFBLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNDLE1BQUFBLEdBQUcsRUFBRUEsR0FBRyxDQUFDQztBQUFWLEtBQXJCO0FBQ0g7QUFDSixDQXhCRDtBQTBCQWIsR0FBRyxDQUFDMEIsR0FBSixDQUFRLE1BQVIsRUFBZ0IsT0FBT2hELEdBQVAsRUFBWTBCLEdBQVosS0FBb0I7QUFDaEMsUUFBTTtBQUFDdEIsSUFBQUEsSUFBRDtBQUFPaUMsSUFBQUE7QUFBUCxNQUFhckMsR0FBRyxDQUFDSyxNQUF2Qjs7QUFDQSxNQUFJO0FBQ0EsVUFBTXVCLElBQUksR0FBRyxNQUFNQyxjQUFLckIsT0FBTCxDQUFhO0FBQzVCQyxNQUFBQSxVQUFVLEVBQUUsQ0FBQyxNQUFELEVBQVMsSUFBVCxDQURnQjtBQUU1QkMsTUFBQUEsS0FBSyxFQUFFO0FBQ0gyQixRQUFBQSxFQUFFLEVBQUVBLEVBREQ7QUFFSFAsUUFBQUEsU0FBUyxFQUFFMUI7QUFGUjtBQUZxQixLQUFiLENBQW5CO0FBT0FzQixJQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDTCxNQUFBQTtBQUFELEtBQXJCO0FBQ0gsR0FURCxDQVNFLE9BQU9NLEdBQVAsRUFBWTtBQUNWUixJQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxHQUFHLEVBQUcsdUNBQXNDQSxHQUFHLENBQUNDLE9BQVE7QUFBekQsS0FBckI7QUFDSDtBQUVKLENBZkQ7ZUFnQmViLEciLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvbXlTMy9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JvdXRlcn0gZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBCbG9iIGZyb20gXCIuLi9tb2RlbHMvYmxvYlwiO1xuaW1wb3J0IEJ1Y2tldCBmcm9tIFwiLi4vbW9kZWxzL2J1Y2tldFwiO1xuaW1wb3J0IG11bHRlciBmcm9tIFwibXVsdGVyXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IGZpbGVzeXN0ZW0gZnJvbSBcIi4uL2xpYi9maWxlc3lzdGVtXCI7XG5cbmNvbnN0IFdPUktTUEFDRV9ESVIgPSBcIi9vcHQvV29ya3NwYWNlL015UzNcIjtcblxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XG4gICAgZGVzdGluYXRpb246IGFzeW5jIChyZXEsIGZpbGUsIGNiKSA9PiB7XG4gICAgICAgIGxldCB7dXVpZCwgYl9pZH0gPSByZXEucGFyYW1zO1xuICAgICAgICBjb25zdCBidWNrZXQgPSBhd2FpdCBCdWNrZXQuZmluZE9uZSh7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXCJuYW1lXCJdLFxuICAgICAgICAgICAgd2hlcmU6IHtiX2lkLCB1c2VyX3V1aWQ6IHV1aWR9XG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCBjYihudWxsLCBwYXRoLmpvaW4oV09SS1NQQUNFX0RJUiwgdXVpZCwgYnVja2V0Lm5hbWUpKTtcbiAgICB9LFxuICAgIGZpbGVuYW1lOiBhc3luYyAocmVxLCBmaWxlLCBjYikgPT4ge1xuICAgICAgICBhd2FpdCBjYihudWxsLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgKyBmaWxlLm9yaWdpbmFsbmFtZSk7XG4gICAgfVxufSk7XG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoe1xuICAgIHN0b3JhZ2U6IHN0b3JhZ2UsXG4gICAgbGltaXRzOiB7XG4gICAgICAgIGZpbGVTaXplOiAxMDI0ICogMTAyNCAqIDVcbiAgICB9XG59KTtcblxuY29uc3QgYXBpID0gUm91dGVyKHttZXJnZVBhcmFtczogdHJ1ZX0pO1xuXG5hcGkucG9zdChcIi9cIiwgdXBsb2FkLnNpbmdsZShcImJsb2JcIiksIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGxldCBuYW1lID0gcmVxLmZpbGUuZmlsZW5hbWU7XG4gICAgICAgIGxldCBwYXRoID0gcmVxLmZpbGUucGF0aDtcbiAgICAgICAgbGV0IHNpemUgPSByZXEuZmlsZS5zaXplO1xuICAgICAgICBsZXQgYl9pZCA9IHJlcS5wYXJhbXMuYl9pZDtcbiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKHtuYW1lLCBwYXRoLCBzaXplLCBidWNrZXRfaWQ6IGJfaWR9KTtcbiAgICAgICAgaWYgKHJlcS5maWxlKSB7XG4gICAgICAgICAgICBhd2FpdCBibG9iLnNhdmUoKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtibG9iOiB7YmxvYn19KTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7ZXJyOiBlcnIubWVzc2FnZX0pO1xuICAgIH1cbn0pO1xuXG5hcGkuZGVsZXRlKFwiLzppZFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7dXVpZCwgYl9pZCwgaWR9ID0gcmVxLnBhcmFtcztcbiAgICAgICAgY29uc3QgYnVja2V0ID0gYXdhaXQgQnVja2V0LmZpbmRPbmUoe1xuICAgICAgICAgICAgYXR0cmlidXRlczogW1wibmFtZVwiXSxcbiAgICAgICAgICAgIHdoZXJlOiB7aWQsIHVzZXJfdXVpZDogdXVpZH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBCbG9iLmZpbmRPbmUoe1xuICAgICAgICAgICAgYXR0cmlidXRlczogW1wibmFtZVwiXSxcbiAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIGJ1Y2tldF9pZDogYl9pZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGJsb2IpIHtcbiAgICAgICAgICAgIGZpbGVzeXN0ZW0ucmVtb3ZlQmxvYih1dWlkLCBidWNrZXQubmFtZSwgYmxvYi5uYW1lKTtcbiAgICAgICAgICAgIGF3YWl0IEJsb2IuZGVzdHJveSh7d2hlcmU6IHtpZDogaWR9fSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwNCkuZW5kKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJibG9iIGRvZXNuJ3QgZXhpc3RcIn0pO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnJ9KTtcbiAgICB9XG59KTtcblxuYXBpLnB1dChcIi86aWRcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge2JfaWQsIGlkfSA9IHJlcS5wYXJhbXM7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IEJsb2IuZmluZE9uZSh7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXCJuYW1lXCIsIFwiaWRcIl0sXG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBidWNrZXRfaWQ6IGJfaWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGJsb2IpIHtcbiAgICAgICAgICAgIGlmIChyZXEuYm9keS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5hbWVGaWxlID0gcmVxLmJvZHkubmFtZSArIHBhdGguZXh0bmFtZShibG9iLm5hbWUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGJsb2IudXBkYXRlKHtuYW1lOiBuYW1lRmlsZX0pO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjA0KS5zZW5kKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IGJsb2IudXBkYXRlKHtuYW1lOiBibG9iLm5hbWV9KTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwNCkuc2VuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnI6IGVyci5tZXNzYWdlfSk7XG4gICAgfVxufSk7XG5cbmFwaS5nZXQoXCIvOmlkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHtiX2lkLCBpZH0gPSByZXEucGFyYW1zO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBCbG9iLmZpbmRPbmUoe1xuICAgICAgICAgICAgYXR0cmlidXRlczogW1wibmFtZVwiLCBcImlkXCJdLFxuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgYnVja2V0X2lkOiBiX2lkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7YmxvYn0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7ZXJyOiBgY291bGQgbm90IGNvbm5lY3QgdG8gZGF0YWJhc2UsIGVycjogJHtlcnIubWVzc2FnZX1gfSk7XG4gICAgfVxuXG59KTtcbmV4cG9ydCBkZWZhdWx0IGFwaTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "blob.js"
      ],
      "names": [
        "WORKSPACE_DIR",
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "uuid",
        "b_id",
        "params",
        "bucket",
        "Bucket",
        "findOne",
        "attributes",
        "where",
        "user_uuid",
        "path",
        "join",
        "name",
        "filename",
        "Date",
        "toISOString",
        "originalname",
        "upload",
        "limits",
        "fileSize",
        "api",
        "mergeParams",
        "post",
        "single",
        "res",
        "size",
        "blob",
        "Blob",
        "bucket_id",
        "save",
        "status",
        "json",
        "err",
        "message",
        "delete",
        "id",
        "filesystem",
        "removeBlob",
        "destroy",
        "end",
        "put",
        "body",
        "nameFile",
        "extname",
        "update",
        "send",
        "get"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,qBAAtB;;AAEA,MAAMC,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAE,OAAOC,GAAP,EAAYC,IAAZ,EAAkBC,EAAlB,KAAyB;AAClC,QAAI;AAACC,MAAAA,IAAD;AAAOC,MAAAA;AAAP,QAAeJ,GAAG,CAACK,MAAvB;AACA,UAAMC,MAAM,GAAG,MAAMC,gBAAOC,OAAP,CAAe;AAChCC,MAAAA,UAAU,EAAE,CAAC,MAAD,CADoB;AAEhCC,MAAAA,KAAK,EAAE;AAACN,QAAAA,IAAD;AAAOO,QAAAA,SAAS,EAAER;AAAlB;AAFyB,KAAf,CAArB;AAIA,UAAMD,EAAE,CAAC,IAAD,EAAOU,cAAKC,IAAL,CAAUlB,aAAV,EAAyBQ,IAAzB,EAA+BG,MAAM,CAACQ,IAAtC,CAAP,CAAR;AACH,GAR8B;AAS/BC,EAAAA,QAAQ,EAAE,OAAOf,GAAP,EAAYC,IAAZ,EAAkBC,EAAlB,KAAyB;AAC/B,UAAMA,EAAE,CAAC,IAAD,EAAO,IAAIc,IAAJ,GAAWC,WAAX,KAA2BhB,IAAI,CAACiB,YAAvC,CAAR;AACH;AAX8B,CAAnB,CAAhB;;AAaA,MAAMC,MAAM,GAAG,qBAAO;AAClBvB,EAAAA,OAAO,EAAEA,OADS;AAElBwB,EAAAA,MAAM,EAAE;AACJC,IAAAA,QAAQ,EAAE,OAAO,IAAP,GAAc;AADpB;AAFU,CAAP,CAAf;AAOA,MAAMC,GAAG,GAAG,qBAAO;AAACC,EAAAA,WAAW,EAAE;AAAd,CAAP,CAAZ;AAEAD,GAAG,CAACE,IAAJ,CAAS,GAAT,EAAcL,MAAM,CAACM,MAAP,CAAc,MAAd,CAAd,EAAqC,OAAOzB,GAAP,EAAY0B,GAAZ,KAAoB;AACrD,MAAI;AACA,QAAIZ,IAAI,GAAGd,GAAG,CAACC,IAAJ,CAASc,QAApB;AACA,QAAIH,IAAI,GAAGZ,GAAG,CAACC,IAAJ,CAASW,IAApB;AACA,QAAIe,IAAI,GAAG3B,GAAG,CAACC,IAAJ,CAAS0B,IAApB;AACA,QAAIvB,IAAI,GAAGJ,GAAG,CAACK,MAAJ,CAAWD,IAAtB;AACA,UAAMwB,IAAI,GAAG,IAAIC,aAAJ,CAAS;AAACf,MAAAA,IAAD;AAAOF,MAAAA,IAAP;AAAae,MAAAA,IAAb;AAAmBG,MAAAA,SAAS,EAAE1B;AAA9B,KAAT,CAAb;;AACA,QAAIJ,GAAG,CAACC,IAAR,EAAc;AACV,YAAM2B,IAAI,CAACG,IAAL,EAAN;AACAL,MAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACL,QAAAA,IAAI,EAAE;AAACA,UAAAA;AAAD;AAAP,OAArB;AACH;AACJ,GAVD,CAUE,OAAOM,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,GAAG,EAAEA,GAAG,CAACC;AAAV,KAArB;AACH;AACJ,CAdD;AAgBAb,GAAG,CAACc,MAAJ,CAAW,MAAX,EAAmB,OAAOpC,GAAP,EAAY0B,GAAZ,KAAoB;AACnC,MAAI;AACA,UAAM;AAACvB,MAAAA,IAAD;AAAOC,MAAAA,IAAP;AAAaiC,MAAAA;AAAb,QAAmBrC,GAAG,CAACK,MAA7B;AACA,UAAMC,MAAM,GAAG,MAAMC,gBAAOC,OAAP,CAAe;AAChCC,MAAAA,UAAU,EAAE,CAAC,MAAD,CADoB;AAEhCC,MAAAA,KAAK,EAAE;AAAC2B,QAAAA,EAAD;AAAK1B,QAAAA,SAAS,EAAER;AAAhB;AAFyB,KAAf,CAArB;AAIA,UAAMyB,IAAI,GAAG,MAAMC,cAAKrB,OAAL,CAAa;AAC5BC,MAAAA,UAAU,EAAE,CAAC,MAAD,CADgB;AAE5BC,MAAAA,KAAK,EAAE;AACH2B,QAAAA,EAAE,EAAEA,EADD;AAEHP,QAAAA,SAAS,EAAE1B;AAFR;AAFqB,KAAb,CAAnB;;AAOA,QAAIwB,IAAJ,EAAU;AACNU,0BAAWC,UAAX,CAAsBpC,IAAtB,EAA4BG,MAAM,CAACQ,IAAnC,EAAyCc,IAAI,CAACd,IAA9C;;AACA,YAAMe,cAAKW,OAAL,CAAa;AAAC9B,QAAAA,KAAK,EAAE;AAAC2B,UAAAA,EAAE,EAAEA;AAAL;AAAR,OAAb,CAAN;AACAX,MAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBS,GAAhB;AACH,KAJD,MAIO;AACHf,MAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACE,QAAAA,OAAO,EAAE;AAAV,OAArB;AACH;AACJ,GApBD,CAoBE,OAAOD,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA;AAAD,KAArB;AACH;AACJ,CAxBD;AA0BAZ,GAAG,CAACoB,GAAJ,CAAQ,MAAR,EAAgB,OAAO1C,GAAP,EAAY0B,GAAZ,KAAoB;AAChC,QAAM;AAACtB,IAAAA,IAAD;AAAOiC,IAAAA;AAAP,MAAarC,GAAG,CAACK,MAAvB;;AACA,MAAI;AACA,UAAMuB,IAAI,GAAG,MAAMC,cAAKrB,OAAL,CAAa;AAC5BC,MAAAA,UAAU,EAAE,CAAC,MAAD,EAAS,IAAT,CADgB;AAE5BC,MAAAA,KAAK,EAAE;AACH2B,QAAAA,EAAE,EAAEA,EADD;AAEHP,QAAAA,SAAS,EAAE1B;AAFR;AAFqB,KAAb,CAAnB;;AAQA,QAAIwB,IAAJ,EAAU;AACN,UAAI5B,GAAG,CAAC2C,IAAJ,CAAS7B,IAAT,KAAkB,EAAtB,EAA0B;AACtB,YAAI8B,QAAQ,GAAG5C,GAAG,CAAC2C,IAAJ,CAAS7B,IAAT,GAAgBF,cAAKiC,OAAL,CAAajB,IAAI,CAACd,IAAlB,CAA/B;;AACA,cAAMc,IAAI,CAACkB,MAAL,CAAY;AAAChC,UAAAA,IAAI,EAAE8B;AAAP,SAAZ,CAAN;AACAlB,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBe,IAAhB;AACH,OAJD,MAIO;AACH,cAAMnB,IAAI,CAACkB,MAAL,CAAY;AAAChC,UAAAA,IAAI,EAAEc,IAAI,CAACd;AAAZ,SAAZ,CAAN;AACAY,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBe,IAAhB;AACH;AACJ;AACJ,GAnBD,CAmBE,OAAOb,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,GAAG,EAAEA,GAAG,CAACC;AAAV,KAArB;AACH;AACJ,CAxBD;AA0BAb,GAAG,CAAC0B,GAAJ,CAAQ,MAAR,EAAgB,OAAOhD,GAAP,EAAY0B,GAAZ,KAAoB;AAChC,QAAM;AAACtB,IAAAA,IAAD;AAAOiC,IAAAA;AAAP,MAAarC,GAAG,CAACK,MAAvB;;AACA,MAAI;AACA,UAAMuB,IAAI,GAAG,MAAMC,cAAKrB,OAAL,CAAa;AAC5BC,MAAAA,UAAU,EAAE,CAAC,MAAD,EAAS,IAAT,CADgB;AAE5BC,MAAAA,KAAK,EAAE;AACH2B,QAAAA,EAAE,EAAEA,EADD;AAEHP,QAAAA,SAAS,EAAE1B;AAFR;AAFqB,KAAb,CAAnB;AAOAsB,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACL,MAAAA;AAAD,KAArB;AACH,GATD,CASE,OAAOM,GAAP,EAAY;AACVR,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,GAAG,EAAG,uCAAsCA,GAAG,CAACC,OAAQ;AAAzD,KAArB;AACH;AAEJ,CAfD;eAgBeb,G",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "sourcesContent": [
        "import {Router} from \"express\";\nimport Blob from \"../models/blob\";\nimport Bucket from \"../models/bucket\";\nimport multer from \"multer\";\nimport path from \"path\";\nimport filesystem from \"../lib/filesystem\";\n\nconst WORKSPACE_DIR = \"/opt/Workspace/MyS3\";\n\nconst storage = multer.diskStorage({\n    destination: async (req, file, cb) => {\n        let {uuid, b_id} = req.params;\n        const bucket = await Bucket.findOne({\n            attributes: [\"name\"],\n            where: {b_id, user_uuid: uuid}\n        });\n        await cb(null, path.join(WORKSPACE_DIR, uuid, bucket.name));\n    },\n    filename: async (req, file, cb) => {\n        await cb(null, new Date().toISOString() + file.originalname);\n    }\n});\nconst upload = multer({\n    storage: storage,\n    limits: {\n        fileSize: 1024 * 1024 * 5\n    }\n});\n\nconst api = Router({mergeParams: true});\n\napi.post(\"/\", upload.single(\"blob\"), async (req, res) => {\n    try {\n        let name = req.file.filename;\n        let path = req.file.path;\n        let size = req.file.size;\n        let b_id = req.params.b_id;\n        const blob = new Blob({name, path, size, bucket_id: b_id});\n        if (req.file) {\n            await blob.save();\n            res.status(201).json({blob: {blob}});\n        }\n    } catch (err) {\n        res.status(400).json({err: err.message});\n    }\n});\n\napi.delete(\"/:id\", async (req, res) => {\n    try {\n        const {uuid, b_id, id} = req.params;\n        const bucket = await Bucket.findOne({\n            attributes: [\"name\"],\n            where: {id, user_uuid: uuid}\n        });\n        const blob = await Blob.findOne({\n            attributes: [\"name\"],\n            where: {\n                id: id,\n                bucket_id: b_id\n            }\n        });\n        if (blob) {\n            filesystem.removeBlob(uuid, bucket.name, blob.name);\n            await Blob.destroy({where: {id: id}});\n            res.status(204).end();\n        } else {\n            res.status(400).json({message: \"blob doesn't exist\"});\n        }\n    } catch (err) {\n        res.status(400).json({err});\n    }\n});\n\napi.put(\"/:id\", async (req, res) => {\n    const {b_id, id} = req.params;\n    try {\n        const blob = await Blob.findOne({\n            attributes: [\"name\", \"id\"],\n            where: {\n                id: id,\n                bucket_id: b_id\n            }\n        });\n\n        if (blob) {\n            if (req.body.name !== \"\") {\n                let nameFile = req.body.name + path.extname(blob.name);\n                await blob.update({name: nameFile});\n                res.status(204).send();\n            } else {\n                await blob.update({name: blob.name});\n                res.status(204).send();\n            }\n        }\n    } catch (err) {\n        res.status(400).json({err: err.message});\n    }\n});\n\napi.get(\"/:id\", async (req, res) => {\n    const {b_id, id} = req.params;\n    try {\n        const blob = await Blob.findOne({\n            attributes: [\"name\", \"id\"],\n            where: {\n                id: id,\n                bucket_id: b_id\n            }\n        });\n        res.status(200).json({blob});\n    } catch (err) {\n        res.status(400).json({err: `could not connect to database, err: ${err.message}`});\n    }\n\n});\nexport default api;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1541953778436
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/blob.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/blob.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/blob.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes/blob.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
        "sourceFileName": "blob.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _blob = _interopRequireDefault(require(\"../models/blob\"));\n\nvar _bucket = _interopRequireDefault(require(\"../models/bucket\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _filesystem = _interopRequireDefault(require(\"../lib/filesystem\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst WORKSPACE_DIR = \"/opt/Workspace/MyS3\";\n\nconst storage = _multer.default.diskStorage({\n  destination: async (req, file, cb) => {\n    let {\n      uuid,\n      b_id\n    } = req.params;\n    const bucket = await _bucket.default.findOne({\n      attributes: [\"name\"],\n      where: {\n        b_id,\n        user_uuid: uuid\n      }\n    });\n    await cb(null, _path.default.join(WORKSPACE_DIR, uuid, bucket.name));\n  },\n  filename: async (req, file, cb) => {\n    await cb(null, new Date().toISOString() + file.originalname);\n  }\n});\n\nconst upload = (0, _multer.default)({\n  storage: storage,\n  limits: {\n    fileSize: 1024 * 1024 * 5\n  }\n});\nconst api = (0, _express.Router)({\n  mergeParams: true\n});\napi.post(\"/\", upload.single(\"blob\"), async (req, res) => {\n  try {\n    let name = req.file.filename;\n    let path = req.file.path;\n    let size = req.file.size;\n    let b_id = req.params.b_id;\n    const blob = new _blob.default({\n      name,\n      path,\n      size,\n      bucket_id: b_id\n    });\n\n    if (req.file) {\n      await blob.save();\n      res.status(201).json({\n        blob: {\n          blob\n        }\n      });\n    }\n  } catch (err) {\n    res.status(400).json({\n      err: err.message\n    });\n  }\n});\napi.delete(\"/:id\", async (req, res) => {\n  try {\n    const {\n      uuid,\n      b_id,\n      id\n    } = req.params;\n    const bucket = await _bucket.default.findOne({\n      attributes: [\"name\"],\n      where: {\n        id,\n        user_uuid: uuid\n      }\n    });\n    const blob = await _blob.default.findOne({\n      attributes: [\"name\"],\n      where: {\n        id: id,\n        bucket_id: b_id\n      }\n    });\n\n    if (blob) {\n      _filesystem.default.removeBlob(uuid, bucket.name, blob.name);\n\n      await _blob.default.destroy({\n        where: {\n          id: id\n        }\n      });\n      res.status(204).end();\n    } else {\n      res.status(400).json({\n        message: \"blob doesn't exist\"\n      });\n    }\n  } catch (err) {\n    res.status(400).json({\n      err\n    });\n  }\n});\napi.put(\"/:id\", async (req, res) => {\n  const {\n    b_id,\n    id\n  } = req.params;\n\n  try {\n    const blob = await _blob.default.findOne({\n      attributes: [\"name\", \"id\"],\n      where: {\n        id: id,\n        bucket_id: b_id\n      }\n    });\n\n    if (blob) {\n      if (req.body.name !== \"\") {\n        let nameFile = req.body.name + _path.default.extname(blob.name);\n\n        await blob.update({\n          name: nameFile\n        });\n        res.status(204).send();\n      } else {\n        await blob.update({\n          name: blob.name\n        });\n        res.status(204).send();\n      }\n    }\n  } catch (err) {\n    res.status(400).json({\n      err: err.message\n    });\n  }\n});\napi.get(\"/:id\", async (req, res) => {\n  const {\n    b_id,\n    id\n  } = req.params;\n\n  try {\n    const blob = await _blob.default.findOne({\n      attributes: [\"name\", \"id\"],\n      where: {\n        id: id,\n        bucket_id: b_id\n      }\n    });\n    res.status(200).json({\n      blob\n    });\n  } catch (err) {\n    res.status(400).json({\n      err: `could not connect to database, err: ${err.message}`\n    });\n  }\n});\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2IuanMiXSwibmFtZXMiOlsiV09SS1NQQUNFX0RJUiIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwidXVpZCIsImJfaWQiLCJwYXJhbXMiLCJidWNrZXQiLCJCdWNrZXQiLCJmaW5kT25lIiwiYXR0cmlidXRlcyIsIndoZXJlIiwidXNlcl91dWlkIiwicGF0aCIsImpvaW4iLCJuYW1lIiwiZmlsZW5hbWUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJvcmlnaW5hbG5hbWUiLCJ1cGxvYWQiLCJsaW1pdHMiLCJmaWxlU2l6ZSIsImFwaSIsIm1lcmdlUGFyYW1zIiwicG9zdCIsInNpbmdsZSIsInJlcyIsInNpemUiLCJibG9iIiwiQmxvYiIsImJ1Y2tldF9pZCIsInNhdmUiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwibWVzc2FnZSIsImRlbGV0ZSIsImlkIiwiZmlsZXN5c3RlbSIsInJlbW92ZUJsb2IiLCJkZXN0cm95IiwiZW5kIiwicHV0IiwiYm9keSIsIm5hbWVGaWxlIiwiZXh0bmFtZSIsInVwZGF0ZSIsInNlbmQiLCJnZXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQWEsR0FBRyxxQkFBdEI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHQyxnQkFBT0MsV0FBUCxDQUFtQjtBQUMvQkMsRUFBQUEsV0FBVyxFQUFFLE9BQU9DLEdBQVAsRUFBWUMsSUFBWixFQUFrQkMsRUFBbEIsS0FBeUI7QUFDbEMsUUFBSTtBQUFDQyxNQUFBQSxJQUFEO0FBQU9DLE1BQUFBO0FBQVAsUUFBZUosR0FBRyxDQUFDSyxNQUF2QjtBQUNBLFVBQU1DLE1BQU0sR0FBRyxNQUFNQyxnQkFBT0MsT0FBUCxDQUFlO0FBQ2hDQyxNQUFBQSxVQUFVLEVBQUUsQ0FBQyxNQUFELENBRG9CO0FBRWhDQyxNQUFBQSxLQUFLLEVBQUU7QUFB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SFAsUUFBQUEsU0FBUyxFQUFFMUI7QUFGUjtBQUZxQixLQUFiLENBQW5CO0FBT0FzQixJQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDTCxNQUFBQTtBQUFELEtBQXJCO0FBQ0gsR0FURCxDQVNFLE9BQU9NLEdBQVAsRUFBWTtBQUNWUixJQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxHQUFHLEVBQUcsdUNBQXNDQSxHQUFHLENBQUNDLE9BQVE7QUFBekQsS0FBckI7QUFDSDtBQUVKLENBZkQ7ZUFnQmViLEciLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvbXlTMy9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JvdXRlcn0gZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBCbG9iIGZyb20gXCIuLi9tb2RlbHMvYmxvYlwiO1xuaW1wb3J0IEJ1Y2tldCBmcm9tIFwiLi4vbW9kZWxzL2J1Y2tldFwiO1xuaW1wb3J0IG11bHRlciBmcm9tIFwibXVsdGVyXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IGZpbGVzeXN0ZW0gZnJvbSBcIi4uL2xpYi9maWxlc3lzdGVtXCI7XG5cbmNvbnN0IFdPUktTUEFDRV9ESVIgPSBcIi9vcHQvV29ya3NwYWNlL015UzNcIjtcblxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XG4gICAgZGVzdGluYXRpb246IGFzeW5jIChyZXEsIGZpbGUsIGNiKSA9PiB7XG4gICAgICAgIGxldCB7dXVpZCwgYl9pZH0gPSByZXEucGFyYW1zO1xuICAgICAgICBjb25zdCBidWNrZXQgPSBhd2FpdCBCdWNrZXQuZmluZE9uZSh7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXCJuYW1lXCJdLFxuICAgICAgICAgICAgd2hlcmU6IHtiX2lkLCB1c2VyX3V1aWQ6IHV1aWR9XG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCBjYihudWxsLCBwYXRoLmpvaW4oV09SS1NQQUNFX0RJUiwgdXVpZCwgYnVja2V0Lm5hbWUpKTtcbiAgICB9LFxuICAgIGZpbGVuYW1lOiBhc3luYyAocmVxLCBmaWxlLCBjYikgPT4ge1xuICAgICAgICBhd2FpdCBjYihudWxsLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgKyBmaWxlLm9yaWdpbmFsbmFtZSk7XG4gICAgfVxufSk7XG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoe1xuICAgIHN0b3JhZ2U6IHN0b3JhZ2UsXG4gICAgbGltaXRzOiB7XG4gICAgICAgIGZpbGVTaXplOiAxMDI0ICogMTAyNCAqIDVcbiAgICB9XG59KTtcblxuY29uc3QgYXBpID0gUm91dGVyKHttZXJnZVBhcmFtczogdHJ1ZX0pO1xuXG5hcGkucG9zdChcIi9cIiwgdXBsb2FkLnNpbmdsZShcImJsb2JcIiksIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGxldCBuYW1lID0gcmVxLmZpbGUuZmlsZW5hbWU7XG4gICAgICAgIGxldCBwYXRoID0gcmVxLmZpbGUucGF0aDtcbiAgICAgICAgbGV0IHNpemUgPSByZXEuZmlsZS5zaXplO1xuICAgICAgICBsZXQgYl9pZCA9IHJlcS5wYXJhbXMuYl9pZDtcbiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKHtuYW1lLCBwYXRoLCBzaXplLCBidWNrZXRfaWQ6IGJfaWR9KTtcbiAgICAgICAgaWYgKHJlcS5maWxlKSB7XG4gICAgICAgICAgICBhd2FpdCBibG9iLnNhdmUoKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtibG9iOiB7YmxvYn19KTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7ZXJyOiBlcnIubWVzc2FnZX0pO1xuICAgIH1cbn0pO1xuXG5hcGkuZGVsZXRlKFwiLzppZFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7dXVpZCwgYl9pZCwgaWR9ID0gcmVxLnBhcmFtcztcbiAgICAgICAgY29uc3QgYnVja2V0ID0gYXdhaXQgQnVja2V0LmZpbmRPbmUoe1xuICAgICAgICAgICAgYXR0cmlidXRlczogW1wibmFtZVwiXSxcbiAgICAgICAgICAgIHdoZXJlOiB7aWQsIHVzZXJfdXVpZDogdXVpZH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBCbG9iLmZpbmRPbmUoe1xuICAgICAgICAgICAgYXR0cmlidXRlczogW1wibmFtZVwiXSxcbiAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIGJ1Y2tldF9pZDogYl9pZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGJsb2IpIHtcbiAgICAgICAgICAgIGZpbGVzeXN0ZW0ucmVtb3ZlQmxvYih1dWlkLCBidWNrZXQubmFtZSwgYmxvYi5uYW1lKTtcbiAgICAgICAgICAgIGF3YWl0IEJsb2IuZGVzdHJveSh7d2hlcmU6IHtpZDogaWR9fSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwNCkuZW5kKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJibG9iIGRvZXNuJ3QgZXhpc3RcIn0pO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnJ9KTtcbiAgICB9XG59KTtcblxuYXBpLnB1dChcIi86aWRcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge2JfaWQsIGlkfSA9IHJlcS5wYXJhbXM7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IEJsb2IuZmluZE9uZSh7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXCJuYW1lXCIsIFwiaWRcIl0sXG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBidWNrZXRfaWQ6IGJfaWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGJsb2IpIHtcbiAgICAgICAgICAgIGlmIChyZXEuYm9keS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5hbWVGaWxlID0gcmVxLmJvZHkubmFtZSArIHBhdGguZXh0bmFtZShibG9iLm5hbWUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGJsb2IudXBkYXRlKHtuYW1lOiBuYW1lRmlsZX0pO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjA0KS5zZW5kKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IGJsb2IudXBkYXRlKHtuYW1lOiBibG9iLm5hbWV9KTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwNCkuc2VuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnI6IGVyci5tZXNzYWdlfSk7XG4gICAgfVxufSk7XG5cbmFwaS5nZXQoXCIvOmlkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHtiX2lkLCBpZH0gPSByZXEucGFyYW1zO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBCbG9iLmZpbmRPbmUoe1xuICAgICAgICAgICAgYXR0cmlidXRlczogW1wibmFtZVwiLCBcImlkXCJdLFxuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgYnVja2V0X2lkOiBiX2lkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7YmxvYn0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7ZXJyOiBgY291bGQgbm90IGNvbm5lY3QgdG8gZGF0YWJhc2UsIGVycjogJHtlcnIubWVzc2FnZX1gfSk7XG4gICAgfVxuXG59KTtcbmV4cG9ydCBkZWZhdWx0IGFwaTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "blob.js"
      ],
      "names": [
        "WORKSPACE_DIR",
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "uuid",
        "b_id",
        "params",
        "bucket",
        "Bucket",
        "findOne",
        "attributes",
        "where",
        "user_uuid",
        "path",
        "join",
        "name",
        "filename",
        "Date",
        "toISOString",
        "originalname",
        "upload",
        "limits",
        "fileSize",
        "api",
        "mergeParams",
        "post",
        "single",
        "res",
        "size",
        "blob",
        "Blob",
        "bucket_id",
        "save",
        "status",
        "json",
        "err",
        "message",
        "delete",
        "id",
        "filesystem",
        "removeBlob",
        "destroy",
        "end",
        "put",
        "body",
        "nameFile",
        "extname",
        "update",
        "send",
        "get"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/routes",
      "sourcesContent": [
        "import {Router} from \"express\";\nimport Blob from \"../models/blob\";\nimport Bucket from \"../models/bucket\";\nimport multer from \"multer\";\nimport path from \"path\";\nimport filesystem from \"../lib/filesystem\";\n\nconst WORKSPACE_DIR = \"/opt/Workspace/MyS3\";\n\nconst storage = multer.diskStorage({\n    destination: async (req, file, cb) => {\n        let {uuid, b_id} = req.params;\n        const bucket = await Bucket.findOne({\n            attributes: [\"name\"],\n            where: {b_id, user_uuid: uuid}\n        });\n        await cb(null, path.join(WORKSPACE_DIR, uuid, bucket.name));\n    },\n    filename: async (req, file, cb) => {\n        await cb(null, new Date().toISOString() + file.originalname);\n    }\n});\nconst upload = multer({\n    storage: storage,\n    limits: {\n        fileSize: 1024 * 1024 * 5\n    }\n});\n\nconst api = Router({mergeParams: true});\n\napi.post(\"/\", upload.single(\"blob\"), async (req, res) => {\n    try {\n        let name = req.file.filename;\n        let path = req.file.path;\n        let size = req.file.size;\n        let b_id = req.params.b_id;\n        const blob = new Blob({name, path, size, bucket_id: b_id});\n        if (req.file) {\n            await blob.save();\n            res.status(201).json({blob: {blob}});\n        }\n    } catch (err) {\n        res.status(400).json({err: err.message});\n    }\n});\n\napi.delete(\"/:id\", async (req, res) => {\n    try {\n        const {uuid, b_id, id} = req.params;\n        const bucket = await Bucket.findOne({\n            attributes: [\"name\"],\n            where: {id, user_uuid: uuid}\n        });\n        const blob = await Blob.findOne({\n            attributes: [\"name\"],\n            where: {\n                id: id,\n                bucket_id: b_id\n            }\n        });\n        if (blob) {\n            filesystem.removeBlob(uuid, bucket.name, blob.name);\n            await Blob.destroy({where: {id: id}});\n            res.status(204).end();\n        } else {\n            res.status(400).json({message: \"blob doesn't exist\"});\n        }\n    } catch (err) {\n        res.status(400).json({err});\n    }\n});\n\napi.put(\"/:id\", async (req, res) => {\n    const {b_id, id} = req.params;\n    try {\n        const blob = await Blob.findOne({\n            attributes: [\"name\", \"id\"],\n            where: {\n                id: id,\n                bucket_id: b_id\n            }\n        });\n\n        if (blob) {\n            if (req.body.name !== \"\") {\n                let nameFile = req.body.name + path.extname(blob.name);\n                await blob.update({name: nameFile});\n                res.status(204).send();\n            } else {\n                await blob.update({name: blob.name});\n                res.status(204).send();\n            }\n        }\n    } catch (err) {\n        res.status(400).json({err: err.message});\n    }\n});\n\napi.get(\"/:id\", async (req, res) => {\n    const {b_id, id} = req.params;\n    try {\n        const blob = await Blob.findOne({\n            attributes: [\"name\", \"id\"],\n            where: {\n                id: id,\n                bucket_id: b_id\n            }\n        });\n        res.status(200).json({blob});\n    } catch (err) {\n        res.status(400).json({err: `could not connect to database, err: ${err.message}`});\n    }\n\n});\nexport default api;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1541953778436
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/filesystem.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/filesystem.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/filesystem.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/filesystem.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
        "sourceFileName": "filesystem.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst WORKSPACE_DIR = \"/opt/Worckspace/MyS3\";\n\nclass Filesystem {\n  constructor() {\n    if (!Filesystem.instance) {\n      this.initialize();\n    }\n  }\n\n  initialize() {}\n\n  removeBlob(user, bucketName, blobName) {\n    try {\n      let tmpPathFile = _path.default.join(WORKSPACE_DIR, user, bucketName, blobName);\n\n      if (_fs.default.existsSync(tmpPathFile)) {\n        _fs.default.unlinkSync(tmpPathFile);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n}\n\nconst instance = new Filesystem();\nObject.freeze(instance);\nvar _default = instance;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGVzeXN0ZW0uanMiXSwibmFtZXMiOlsiV09SS1NQQUNFX0RJUiIsIkZpbGVzeXN0ZW0iLCJjb25zdHJ1Y3RvciIsImluc3RhbmNlIiwiaW5pdGlhbGl6ZSIsInJlbW92ZUJsb2IiLCJ1c2VyIiwiYnVja2V0TmFtZSIsImJsb2JOYW1lIiwidG1wUGF0aEZpbGUiLCJwYXRoIiwiam9pbiIsImZzIiwiZXhpc3RzU3luYyIsInVubGlua1N5bmMiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiT2JqZWN0IiwiZnJlZXplIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFDQSxNQUFNQSxhQUFhLEdBQUcsc0JBQXRCOztBQUNBLE1BQU1DLFVBQU4sQ0FBaUI7QUFDYkMsRUFBQUEsV0FBVyxHQUFHO0FBQ1YsUUFBSSxDQUFDRCxVQUFVLENBQUNFLFFBQWhCLEVBQTBCO0FBQ3RCLFdBQUtDLFVBQUw7QUFDSDtBQUNKOztBQUNEQSxFQUFBQSxVQUFVLEdBQUcsQ0FBRTs7QUFDZkMsRUFBQUEsVUFBVSxDQUFDQyxJQUFELEVBQU9DLFVBQVAsRUFBbUJDLFFBQW5CLEVBQTZCO0FBQ25DLFFBQUk7QUFDQSxVQUFJQyxXQUFXLEdBQUdDLGNBQUtDLElBQUwsQ0FBVVgsYUFBVixFQUF5Qk0sSUFBekIsRUFBK0JDLFVBQS9CLEVBQTJDQyxRQUEzQyxDQUFsQjs7QUFFQSxVQUFJSSxZQUFHQyxVQUFILENBQWNKLFdBQWQsQ0FBSixFQUFnQztBQUM1Qkcsb0JBQUdFLFVBQUgsQ0FBY0wsV0FBZDtBQUNIO0FBQ0osS0FORCxDQU1FLE9BQU9NLEdBQVAsRUFBWTtBQUNWQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsR0FBWjtBQUNIO0FBQ0o7O0FBakJZOztBQW1CakIsTUFBTVosUUFBUSxHQUFHLElBQUlGLFVBQUosRUFBakI7QUFDQWlCLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjaEIsUUFBZDtlQUNlQSxRIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hbnRvaW5lZnJhbmNvaXMvRGVza3RvcC9hbnRvaW5lL3Ryb2lzaWXMgG1lX2FubmVlL215UzMvbGliIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmNvbnN0IFdPUktTUEFDRV9ESVIgPSBcIi9vcHQvV29yY2tzcGFjZS9NeVMzXCI7XG5jbGFzcyBGaWxlc3lzdGVtIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgaWYgKCFGaWxlc3lzdGVtLmluc3RhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0aWFsaXplKCkge31cbiAgICByZW1vdmVCbG9iKHVzZXIsIGJ1Y2tldE5hbWUsIGJsb2JOYW1lKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgdG1wUGF0aEZpbGUgPSBwYXRoLmpvaW4oV09SS1NQQUNFX0RJUiwgdXNlciwgYnVja2V0TmFtZSwgYmxvYk5hbWUpO1xuXG4gICAgICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyh0bXBQYXRoRmlsZSkpIHtcbiAgICAgICAgICAgICAgICBmcy51bmxpbmtTeW5jKHRtcFBhdGhGaWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgaW5zdGFuY2UgPSBuZXcgRmlsZXN5c3RlbSgpO1xuT2JqZWN0LmZyZWV6ZShpbnN0YW5jZSk7XG5leHBvcnQgZGVmYXVsdCBpbnN0YW5jZTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "filesystem.js"
      ],
      "names": [
        "WORKSPACE_DIR",
        "Filesystem",
        "constructor",
        "instance",
        "initialize",
        "removeBlob",
        "user",
        "bucketName",
        "blobName",
        "tmpPathFile",
        "path",
        "join",
        "fs",
        "existsSync",
        "unlinkSync",
        "err",
        "console",
        "log",
        "Object",
        "freeze"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,aAAa,GAAG,sBAAtB;;AACA,MAAMC,UAAN,CAAiB;AACbC,EAAAA,WAAW,GAAG;AACV,QAAI,CAACD,UAAU,CAACE,QAAhB,EAA0B;AACtB,WAAKC,UAAL;AACH;AACJ;;AACDA,EAAAA,UAAU,GAAG,CAAE;;AACfC,EAAAA,UAAU,CAACC,IAAD,EAAOC,UAAP,EAAmBC,QAAnB,EAA6B;AACnC,QAAI;AACA,UAAIC,WAAW,GAAGC,cAAKC,IAAL,CAAUX,aAAV,EAAyBM,IAAzB,EAA+BC,UAA/B,EAA2CC,QAA3C,CAAlB;;AAEA,UAAII,YAAGC,UAAH,CAAcJ,WAAd,CAAJ,EAAgC;AAC5BG,oBAAGE,UAAH,CAAcL,WAAd;AACH;AACJ,KAND,CAME,OAAOM,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AACJ;;AAjBY;;AAmBjB,MAAMZ,QAAQ,GAAG,IAAIF,UAAJ,EAAjB;AACAiB,MAAM,CAACC,MAAP,CAAchB,QAAd;eACeA,Q",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
      "sourcesContent": [
        "import fs from \"fs\";\nimport path from \"path\";\nconst WORKSPACE_DIR = \"/opt/Worckspace/MyS3\";\nclass Filesystem {\n    constructor() {\n        if (!Filesystem.instance) {\n            this.initialize();\n        }\n    }\n    initialize() {}\n    removeBlob(user, bucketName, blobName) {\n        try {\n            let tmpPathFile = path.join(WORKSPACE_DIR, user, bucketName, blobName);\n\n            if (fs.existsSync(tmpPathFile)) {\n                fs.unlinkSync(tmpPathFile);\n            }\n        } catch (err) {\n            console.log(err);\n        }\n    }\n}\nconst instance = new Filesystem();\nObject.freeze(instance);\nexport default instance;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541953941391
  },
  "{\"plugins\":[{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"filename\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/filesystem.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/filesystem.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/filesystem.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib/filesystem.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
        "sourceFileName": "filesystem.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst WORKSPACE_DIR = \"/opt/Worckspace/MyS3\";\n\nclass Filesystem {\n  constructor() {\n    if (!Filesystem.instance) {\n      this.initialize();\n    }\n  }\n\n  initialize() {}\n\n  addUserWorkspace(user) {\n    let tmpDir = _path.default.join(WORKSPACE_DIR, user);\n\n    if (!_fs.default.existsSync(tmpDir)) {\n      _fs.default.mkdirSync(tmpDir);\n    }\n  }\n\n  createBucket(user, workspace) {\n    try {\n      let tmpDir = _path.default.join(WORKSPACE_DIR, user, workspace);\n\n      if (!_fs.default.existsSync(tmpDir)) {\n        _fs.default.mkdirSync(tmpDir);\n\n        return true;\n      }\n\n      return false;\n    } catch (er) {\n      console.log(er);\n    }\n  }\n\n  removeBucket(user, bucketName) {}\n\n  createBlob(user, bucketName, blobName) {}\n\n  removeBlob(user, bucketName, blobName) {\n    try {\n      let tmpPathFile = _path.default.join(WORKSPACE_DIR, user, bucketName, blobName);\n\n      if (_fs.default.existsSync(tmpPathFile)) {\n        _fs.default.unlinkSync(tmpPathFile);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n}\n\nconst instance = new Filesystem();\nObject.freeze(instance);\nvar _default = instance;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGVzeXN0ZW0uanMiXSwibmFtZXMiOlsiV09SS1NQQUNFX0RJUiIsIkZpbGVzeXN0ZW0iLCJjb25zdHJ1Y3RvciIsImluc3RhbmNlIiwiaW5pdGlhbGl6ZSIsImFkZFVzZXJXb3Jrc3BhY2UiLCJ1c2VyIiwidG1wRGlyIiwicGF0aCIsImpvaW4iLCJmcyIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJjcmVhdGVCdWNrZXQiLCJ3b3Jrc3BhY2UiLCJlciIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmVCdWNrZXQiLCJidWNrZXROYW1lIiwiY3JlYXRlQmxvYiIsImJsb2JOYW1lIiwicmVtb3ZlQmxvYiIsInRtcFBhdGhGaWxlIiwidW5saW5rU3luYyIsImVyciIsIk9iamVjdCIsImZyZWV6ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0EsTUFBTUEsYUFBYSxHQUFHLHNCQUF0Qjs7QUFDQSxNQUFNQyxVQUFOLENBQWlCO0FBQ2JDLEVBQUFBLFdBQVcsR0FBRztBQUNWLFFBQUksQ0FBQ0QsVUFBVSxDQUFDRSxRQUFoQixFQUEwQjtBQUN0QixXQUFLQyxVQUFMO0FBQ0g7QUFDSjs7QUFDREEsRUFBQUEsVUFBVSxHQUFHLENBQUU7O0FBQ2ZDLEVBQUFBLGdCQUFnQixDQUFDQyxJQUFELEVBQU87QUFDbkIsUUFBSUMsTUFBTSxHQUFHQyxjQUFLQyxJQUFMLENBQVVULGFBQVYsRUFBeUJNLElBQXpCLENBQWI7O0FBQ0EsUUFBSSxDQUFDSSxZQUFHQyxVQUFILENBQWNKLE1BQWQsQ0FBTCxFQUE0QjtBQUN4Qkcsa0JBQUdFLFNBQUgsQ0FBYUwsTUFBYjtBQUNIO0FBQ0o7O0FBQ0RNLEVBQUFBLFlBQVksQ0FBQ1AsSUFBRCxFQUFPUSxTQUFQLEVBQWtCO0FBQzFCLFFBQUk7QUFDQSxVQUFJUCxNQUFNLEdBQUdDLGNBQUtDLElBQUwsQ0FBVVQsYUFBVixFQUF5Qk0sSUFBekIsRUFBK0JRLFNBQS9CLENBQWI7O0FBQ0EsVUFBSSxDQUFDSixZQUFHQyxVQUFILENBQWNKLE1BQWQsQ0FBTCxFQUE0QjtBQUN4Qkcsb0JBQUdFLFNBQUgsQ0FBYUwsTUFBYjs7QUFDQSxlQUFPLElBQVA7QUFDSDs7QUFDRCxhQUFPLEtBQVA7QUFDSCxLQVBELENBT0UsT0FBT1EsRUFBUCxFQUFXO0FBQ1RDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixFQUFaO0FBQ0g7QUFDSjs7QUFDREcsRUFBQUEsWUFBWSxDQUFDWixJQUFELEVBQU9hLFVBQVAsRUFBbUIsQ0FBRTs7QUFFakNDLEVBQUFBLFVBQVUsQ0FBQ2QsSUFBRCxFQUFPYSxVQUFQLEVBQW1CRSxRQUFuQixFQUE2QixDQUFFOztBQUN6Q0MsRUFBQUEsVUFBVSxDQUFDaEIsSUFBRCxFQUFPYSxVQUFQLEVBQW1CRSxRQUFuQixFQUE2QjtBQUNuQyxRQUFJO0FBQ0EsVUFBSUUsV0FBVyxHQUFHZixjQUFLQyxJQUFMLENBQVVULGFBQVYsRUFBeUJNLElBQXpCLEVBQStCYSxVQUEvQixFQUEyQ0UsUUFBM0MsQ0FBbEI7O0FBRUEsVUFBSVgsWUFBR0MsVUFBSCxDQUFjWSxXQUFkLENBQUosRUFBZ0M7QUFDNUJiLG9CQUFHYyxVQUFILENBQWNELFdBQWQ7QUFDSDtBQUNKLEtBTkQsQ0FNRSxPQUFPRSxHQUFQLEVBQVk7QUFDVlQsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlRLEdBQVo7QUFDSDtBQUNKOztBQXRDWTs7QUF3Q2pCLE1BQU10QixRQUFRLEdBQUcsSUFBSUYsVUFBSixFQUFqQjtBQUNBeUIsTUFBTSxDQUFDQyxNQUFQLENBQWN4QixRQUFkO2VBQ2VBLFEiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FudG9pbmVmcmFuY29pcy9EZXNrdG9wL2FudG9pbmUvdHJvaXNpZcyAbWVfYW5uZWUvbXlTMy9saWIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuY29uc3QgV09SS1NQQUNFX0RJUiA9IFwiL29wdC9Xb3Jja3NwYWNlL015UzNcIjtcbmNsYXNzIEZpbGVzeXN0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBpZiAoIUZpbGVzeXN0ZW0uaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXRpYWxpemUoKSB7fVxuICAgIGFkZFVzZXJXb3Jrc3BhY2UodXNlcikge1xuICAgICAgICBsZXQgdG1wRGlyID0gcGF0aC5qb2luKFdPUktTUEFDRV9ESVIsIHVzZXIpO1xuICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmModG1wRGlyKSkge1xuICAgICAgICAgICAgZnMubWtkaXJTeW5jKHRtcERpcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlQnVja2V0KHVzZXIsIHdvcmtzcGFjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHRtcERpciA9IHBhdGguam9pbihXT1JLU1BBQ0VfRElSLCB1c2VyLCB3b3Jrc3BhY2UpO1xuICAgICAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKHRtcERpcikpIHtcbiAgICAgICAgICAgICAgICBmcy5ta2RpclN5bmModG1wRGlyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBjYXRjaCAoZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVCdWNrZXQodXNlciwgYnVja2V0TmFtZSkge31cblxuICAgIGNyZWF0ZUJsb2IodXNlciwgYnVja2V0TmFtZSwgYmxvYk5hbWUpIHt9XG4gICAgcmVtb3ZlQmxvYih1c2VyLCBidWNrZXROYW1lLCBibG9iTmFtZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHRtcFBhdGhGaWxlID0gcGF0aC5qb2luKFdPUktTUEFDRV9ESVIsIHVzZXIsIGJ1Y2tldE5hbWUsIGJsb2JOYW1lKTtcblxuICAgICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmModG1wUGF0aEZpbGUpKSB7XG4gICAgICAgICAgICAgICAgZnMudW5saW5rU3luYyh0bXBQYXRoRmlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IGluc3RhbmNlID0gbmV3IEZpbGVzeXN0ZW0oKTtcbk9iamVjdC5mcmVlemUoaW5zdGFuY2UpO1xuZXhwb3J0IGRlZmF1bHQgaW5zdGFuY2U7Il19",
    "map": {
      "version": 3,
      "sources": [
        "filesystem.js"
      ],
      "names": [
        "WORKSPACE_DIR",
        "Filesystem",
        "constructor",
        "instance",
        "initialize",
        "addUserWorkspace",
        "user",
        "tmpDir",
        "path",
        "join",
        "fs",
        "existsSync",
        "mkdirSync",
        "createBucket",
        "workspace",
        "er",
        "console",
        "log",
        "removeBucket",
        "bucketName",
        "createBlob",
        "blobName",
        "removeBlob",
        "tmpPathFile",
        "unlinkSync",
        "err",
        "Object",
        "freeze"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,aAAa,GAAG,sBAAtB;;AACA,MAAMC,UAAN,CAAiB;AACbC,EAAAA,WAAW,GAAG;AACV,QAAI,CAACD,UAAU,CAACE,QAAhB,EAA0B;AACtB,WAAKC,UAAL;AACH;AACJ;;AACDA,EAAAA,UAAU,GAAG,CAAE;;AACfC,EAAAA,gBAAgB,CAACC,IAAD,EAAO;AACnB,QAAIC,MAAM,GAAGC,cAAKC,IAAL,CAAUT,aAAV,EAAyBM,IAAzB,CAAb;;AACA,QAAI,CAACI,YAAGC,UAAH,CAAcJ,MAAd,CAAL,EAA4B;AACxBG,kBAAGE,SAAH,CAAaL,MAAb;AACH;AACJ;;AACDM,EAAAA,YAAY,CAACP,IAAD,EAAOQ,SAAP,EAAkB;AAC1B,QAAI;AACA,UAAIP,MAAM,GAAGC,cAAKC,IAAL,CAAUT,aAAV,EAAyBM,IAAzB,EAA+BQ,SAA/B,CAAb;;AACA,UAAI,CAACJ,YAAGC,UAAH,CAAcJ,MAAd,CAAL,EAA4B;AACxBG,oBAAGE,SAAH,CAAaL,MAAb;;AACA,eAAO,IAAP;AACH;;AACD,aAAO,KAAP;AACH,KAPD,CAOE,OAAOQ,EAAP,EAAW;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACH;AACJ;;AACDG,EAAAA,YAAY,CAACZ,IAAD,EAAOa,UAAP,EAAmB,CAAE;;AAEjCC,EAAAA,UAAU,CAACd,IAAD,EAAOa,UAAP,EAAmBE,QAAnB,EAA6B,CAAE;;AACzCC,EAAAA,UAAU,CAAChB,IAAD,EAAOa,UAAP,EAAmBE,QAAnB,EAA6B;AACnC,QAAI;AACA,UAAIE,WAAW,GAAGf,cAAKC,IAAL,CAAUT,aAAV,EAAyBM,IAAzB,EAA+Ba,UAA/B,EAA2CE,QAA3C,CAAlB;;AAEA,UAAIX,YAAGC,UAAH,CAAcY,WAAd,CAAJ,EAAgC;AAC5Bb,oBAAGc,UAAH,CAAcD,WAAd;AACH;AACJ,KAND,CAME,OAAOE,GAAP,EAAY;AACVT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACH;AACJ;;AAtCY;;AAwCjB,MAAMtB,QAAQ,GAAG,IAAIF,UAAJ,EAAjB;AACAyB,MAAM,CAACC,MAAP,CAAcxB,QAAd;eACeA,Q",
      "sourceRoot": "/Users/antoinefrancois/Desktop/antoine/troisième_annee/myS3/lib",
      "sourcesContent": [
        "import fs from \"fs\";\nimport path from \"path\";\nconst WORKSPACE_DIR = \"/opt/Worckspace/MyS3\";\nclass Filesystem {\n    constructor() {\n        if (!Filesystem.instance) {\n            this.initialize();\n        }\n    }\n    initialize() {}\n    addUserWorkspace(user) {\n        let tmpDir = path.join(WORKSPACE_DIR, user);\n        if (!fs.existsSync(tmpDir)) {\n            fs.mkdirSync(tmpDir);\n        }\n    }\n    createBucket(user, workspace) {\n        try {\n            let tmpDir = path.join(WORKSPACE_DIR, user, workspace);\n            if (!fs.existsSync(tmpDir)) {\n                fs.mkdirSync(tmpDir);\n                return true;\n            }\n            return false;\n        } catch (er) {\n            console.log(er);\n        }\n    }\n    removeBucket(user, bucketName) {}\n\n    createBlob(user, bucketName, blobName) {}\n    removeBlob(user, bucketName, blobName) {\n        try {\n            let tmpPathFile = path.join(WORKSPACE_DIR, user, bucketName, blobName);\n\n            if (fs.existsSync(tmpPathFile)) {\n                fs.unlinkSync(tmpPathFile);\n            }\n        } catch (err) {\n            console.log(err);\n        }\n    }\n}\nconst instance = new Filesystem();\nObject.freeze(instance);\nexport default instance;"
      ]
    },
    "sourceType": "script",
    "mtime": 1541952759126
  }
}